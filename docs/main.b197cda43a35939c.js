(self.webpackChunkimmo=self.webpackChunkimmo||[]).push([[179],{171:(ts,oa,q)=>{"use strict";function Ne(e){return"function"==typeof e}function Fe(e){const t=e(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const wr=Fe(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function st(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class rn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ne(i))try{i()}catch(o){n=o instanceof wr?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{wo(o)}catch(s){n=n??[],s instanceof wr?n=[...n,...s.errors]:n.push(s)}}if(n)throw new wr(n)}}add(n){var t;if(n&&n!==this)if(this.closed)wo(n);else{if(n instanceof rn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&st(t,n)}remove(n){const{_finalizers:t}=this;t&&st(t,n),n instanceof rn&&n._removeParent(this)}}rn.EMPTY=(()=>{const e=new rn;return e.closed=!0,e})();const He=rn.EMPTY;function sa(e){return e instanceof rn||e&&"closed"in e&&Ne(e.remove)&&Ne(e.add)&&Ne(e.unsubscribe)}function wo(e){Ne(e)?e():e.unsubscribe()}const at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vn={setTimeout(e,n,...t){const{delegate:i}=Vn;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Vn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ns(e){Vn.setTimeout(()=>{const{onUnhandledError:n}=at;if(!n)throw e;n(e)})}function si(){}const bt=is("C",void 0,void 0);function is(e,n,t){return{kind:e,value:n,error:t}}let on=null;function Cr(e){if(at.useDeprecatedSynchronousErrorHandling){const n=!on;if(n&&(on={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:i}=on;if(on=null,t)throw i}}else e()}class Hr extends rn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,sa(n)&&n.add(this)):this.destination=wi}static create(n,t,i){return new $r(n,t,i)}next(n){this.isStopped?aa(function Co(e){return is("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?aa(function Ol(e){return is("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?aa(bt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rs=Function.prototype.bind;function ai(e,n){return rs.call(e,n)}class os{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Zt(i)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Zt(i)}else Zt(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Zt(t)}}}class $r extends Hr{constructor(n,t,i){let r;if(super(),Ne(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&at.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&ai(n.next,o),error:n.error&&ai(n.error,o),complete:n.complete&&ai(n.complete,o)}):r=n}this.destination=new os(r)}}function Zt(e){at.useDeprecatedSynchronousErrorHandling?function Do(e){at.useDeprecatedSynchronousErrorHandling&&on&&(on.errorThrown=!0,on.error=e)}(e):ns(e)}function aa(e,n){const{onStoppedNotification:t}=at;t&&Vn.setTimeout(()=>t(e,n))}const wi={closed:!0,next:si,error:function Jn(e){throw e},complete:si},la="function"==typeof Symbol&&Symbol.observable||"@@observable";function At(e){return e}function we(e){return 0===e.length?At:1===e.length?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}let Ze=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Nn(e){return e&&e instanceof Hr||function wt(e){return e&&Ne(e.next)&&Ne(e.error)&&Ne(e.complete)}(e)&&sa(e)}(t)?t:new $r(t,i,r);return Cr(()=>{const{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=_e(i))((r,o)=>{const s=new $r({next:l=>{try{t(l)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[la](){return this}pipe(...t){return we(t)(this)}toPromise(t){return new(t=_e(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function _e(e){var n;return null!==(n=e??at.Promise)&&void 0!==n?n:Promise}const Cn=Fe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class e extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new nt(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Cn}next(t){Cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Cr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?He:(this.currentObservers=null,o.push(t),new rn(()=>{this.currentObservers=null,st(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return e.create=(n,t)=>new nt(n,t),e})();class nt extends fe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,n)}error(n){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==i?i:He}}function xe(e){return Ne(e?.lift)}function Je(e){return n=>{if(xe(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(e,n,t,i,r){return new ca(e,n,t,i,r)}class ca extends Hr{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(c){n.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Re(e,n){return Je((t,i)=>{let r=0;t.subscribe(Ge(i,o=>{i.next(e.call(n,o,r++))}))})}function Io(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(t[i[r]]=e[i[r]])}return t}function Yt(e){return this instanceof Yt?(this.v=e,this):new Yt(e)}function Xi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function $t(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(s){return new Promise(function(l,c){!function r(o,s,l,c){Promise.resolve(c).then(function(d){o({value:d,done:l})},s)}(l,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Uu=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Rf(e){return Ne(e?.then)}function Of(e){return Ne(e[la])}function Ll(e){return Symbol.asyncIterator&&Ne(e?.[Symbol.asyncIterator])}function Pf(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kf=function tv(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Lf(e){return Ne(e?.[kf])}function ki(e){return function So(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(e,n||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(_){i[_]&&(r[_]=function(v){return new Promise(function(b,C){o.push([_,v,b,C])>1||l(_,v)})})}function l(_,v){try{!function c(_){_.value instanceof Yt?Promise.resolve(_.value.v).then(d,f):g(o[0][2],_)}(i[_](v))}catch(b){g(o[0][3],b)}}function d(_){l("next",_)}function f(_){l("throw",_)}function g(_,v){_(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:i,done:r}=yield Yt(t.read());if(r)return yield Yt(void 0);yield yield Yt(i)}}finally{t.releaseLock()}})}function le(e){return Ne(e?.getReader)}function an(e){if(e instanceof Ze)return e;if(null!=e){if(Of(e))return function Ff(e){return new Ze(n=>{const t=e[la]();if(Ne(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Uu(e))return function Bf(e){return new Ze(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Rf(e))return function Vf(e){return new Ze(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ns)})}(e);if(Ll(e))return Hu(e);if(Lf(e))return function ju(e){return new Ze(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(le(e))return function us(e){return Hu(ki(e))}(e)}throw Pf(e)}function Hu(e){return new Ze(n=>{(function Uf(e,n){var t,i,r,o;return function ie(e,n,t,i){return new(t||(t=Promise))(function(o,s){function l(f){try{d(i.next(f))}catch(g){s(g)}}function c(f){try{d(i.throw(f))}catch(g){s(g)}}function d(f){f.done?o(f.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(f.value).then(l,c)}d((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Xi(e);!(i=yield t.next()).done;)if(n.next(i.value),n.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Dr(e,n,t,i=0,r=!1){const o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function dn(e,n,t=1/0){return Ne(n)?dn((i,r)=>Re((o,s)=>n(i,o,r,s))(an(e(i,r))),t):("number"==typeof n&&(t=n),Je((i,r)=>function nv(e,n,t,i,r,o,s,l){const c=[];let d=0,f=0,g=!1;const _=()=>{g&&!c.length&&!d&&n.complete()},v=C=>d<i?b(C):c.push(C),b=C=>{o&&n.next(C),d++;let E=!1;an(t(C,f++)).subscribe(Ge(n,R=>{r?.(R),o?v(R):n.next(R)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<i;){const R=c.shift();s?Dr(n,s,()=>b(R)):b(R)}_()}catch(R){n.error(R)}}))};return e.subscribe(Ge(n,v,()=>{g=!0,_()})),()=>{l?.()}}(i,r,e,t)))}function ds(e=1/0){return dn(At,e)}const li=new Ze(e=>e.complete());function jf(e){return e&&Ne(e.schedule)}function $u(e){return e[e.length-1]}function Bl(e){return Ne($u(e))?e.pop():void 0}function da(e){return jf($u(e))?e.pop():void 0}function hs(e,n=0){return Je((t,i)=>{t.subscribe(Ge(i,r=>Dr(i,e,()=>i.next(r),n),()=>Dr(i,e,()=>i.complete(),n),r=>Dr(i,e,()=>i.error(r),n)))})}function zr(e,n=0){return Je((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function Nt(e,n){if(!e)throw new Error("Iterable cannot be null");return new Ze(t=>{Dr(t,n,()=>{const i=e[Symbol.asyncIterator]();Dr(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Bt(e,n){return n?function fs(e,n){if(null!=e){if(Of(e))return function Hf(e,n){return an(e).pipe(zr(n),hs(n))}(e,n);if(Uu(e))return function ha(e,n){return new Ze(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}(e,n);if(Rf(e))return function $f(e,n){return an(e).pipe(zr(n),hs(n))}(e,n);if(Ll(e))return Nt(e,n);if(Lf(e))return function Ye(e,n){return new Ze(t=>{let i;return Dr(t,n,()=>{i=e[kf](),Dr(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ne(i?.return)&&i.return()})}(e,n);if(le(e))return function Vl(e,n){return Nt(ki(e),n)}(e,n)}throw Pf(e)}(e,n):an(e)}class de extends fe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}function ne(...e){return Bt(e,da(e))}function jl(e={}){const{connector:n=(()=>new fe),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,l,c,d=0,f=!1,g=!1;const _=()=>{l?.unsubscribe(),l=void 0},v=()=>{_(),s=c=void 0,f=g=!1},b=()=>{const C=s;v(),C?.unsubscribe()};return Je((C,E)=>{d++,!g&&!f&&_();const R=c=c??n();E.add(()=>{d--,0===d&&!g&&!f&&(l=ps(b,r))}),R.subscribe(E),!s&&d>0&&(s=new $r({next:I=>R.next(I),error:I=>{g=!0,_(),l=ps(v,t,I),R.error(I)},complete:()=>{f=!0,_(),l=ps(v,i),R.complete()}}),an(C).subscribe(s))})(o)}}function ps(e,n,...t){if(!0===n)return void e();if(!1===n)return;const i=new $r({next:()=>{i.unsubscribe(),e()}});return an(n(...t)).subscribe(i)}function Gt(e,n){return Je((t,i)=>{let r=null,o=0,s=!1;const l=()=>s&&!r&&i.complete();t.subscribe(Ge(i,c=>{r?.unsubscribe();let d=0;const f=o++;an(e(c,f)).subscribe(r=Ge(i,g=>i.next(n?n(c,g,f,d++):g),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function Hl(e,n){return e===n}function je(e){for(let n in e)if(e[n]===je)return n;throw Error("Could not find renamed property on target object.")}function Vt(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Et(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Et).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ao(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const fa=je({__forward_ref__:je});function Ae(e){return e.__forward_ref__=Ae,e.toString=function(){return Et(this())},e}function he(e){return pa(e)?e():e}function pa(e){return"function"==typeof e&&e.hasOwnProperty(fa)&&e.__forward_ref__===Ae}function ga(e){return e&&!!e.\u0275providers}const $l="https://g.co/ng/security#xss";class V extends Error{constructor(n,t){super(function No(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function me(e){return"string"==typeof e?e:null==e?"":String(e)}function ht(e,n){throw new V(-201,!1)}function ei(e,n){null==e&&function pe(e,n,t,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${t} ${i} ${n} <=Actual]`))}(n,e,null,"!=")}function Z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function We(e){return{providers:e.providers||[],imports:e.imports||[]}}function Wl(e){return Yf(e,Zl)||Yf(e,Qf)}function Yf(e,n){return e.hasOwnProperty(n)?e[n]:null}function ql(e){return e&&(e.hasOwnProperty(_a)||e.hasOwnProperty(tr))?e[_a]:null}const Zl=je({\u0275prov:je}),_a=je({\u0275inj:je}),Qf=je({ngInjectableDef:je}),tr=je({ngInjectorDef:je});var Oe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Oe||{});let Yl;function Un(e){const n=Yl;return Yl=e,n}function qu(e,n,t){const i=Wl(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Oe.Optional?null:void 0!==n?n:void ht(Et(e))}const Ct=globalThis;class oe{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vs={},Yu="__NG_DI_FLAG__",ys="ngTempTokenPath",hv=/\n/gm,Qu="__source";let bs;function ui(e){const n=bs;return bs=e,n}function pv(e,n=Oe.Default){if(void 0===bs)throw new V(-203,!1);return null===bs?qu(e,void 0,n):bs.get(e,n&Oe.Optional?null:void 0,n)}function Q(e,n=Oe.Default){return(function Er(){return Yl}()||pv)(he(e),n)}function Y(e,n=Oe.Default){return Q(e,Jl(n))}function Jl(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xo(e){const n=[];for(let t=0;t<e.length;t++){const i=he(e[t]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,o=Oe.Default;for(let s=0;s<i.length;s++){const l=i[s],c=Xl(l);"number"==typeof c?-1===c?r=l.token:o|=c:r=l}n.push(Q(r,o))}else n.push(Q(i))}return n}function ws(e,n){return e[Yu]=n,e.prototype[Yu]=n,e}function Xl(e){return e[Yu]}function Ci(e){return{toString:e}.toString()}var ec=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ec||{}),di=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(di||{});const nr={},Se=[],tc=je({\u0275cmp:je}),qr=je({\u0275dir:je}),Ju=je({\u0275pipe:je}),ir=je({\u0275mod:je}),Di=je({\u0275fac:je}),Cs=je({__NG_ELEMENT_ID__:je}),nc=je({__NG_ENV_ID__:je});function va(e,n,t){let i=e.length;for(;;){const r=e.indexOf(n,t);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function ya(e,n,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],l=t[i++];e.setAttribute(n,s,l,o)}else{const o=r,s=t[++i];Ro(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function ba(e){return 3===e||4===e||6===e}function Ro(e){return 64===e.charCodeAt(0)}function Zr(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?t=r:0===t||ic(e,t,r,null,-1===t||2===t?n[++i]:null)}}return e}function ic(e,n,t,i,r){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const l=e[o++];if("number"==typeof l){if(l===n){s=-1;break}if(l>n){s=o-1;break}}}for(;o<e.length;){const l=e[o];if("number"==typeof l)break;if(l===t){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const Xu="ng-template";function _v(e,n,t){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const s=e[i++];if(t&&"class"===o&&-1!==va(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function wa(e){return 4===e.type&&e.value!==Xu}function mv(e,n,t){return n===(4!==e.type||t?e.value:Xu)}function np(e,n,t){let i=4;const r=e.attrs||[],o=function rc(e){for(let n=0;n<e.length;n++)if(ba(e[n]))return n;return e.length}(r);let s=!1;for(let l=0;l<n.length;l++){const c=n[l];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!mv(e,c,t)||""===c&&1===n.length){if(Bi(i))return!1;s=!0}}else{const d=8&i?c:n[++l];if(8&i&&null!==e.attrs){if(!_v(e.attrs,d,t)){if(Bi(i))return!1;s=!0}continue}const g=ip(8&i?"class":c,r,wa(e),t);if(-1===g){if(Bi(i))return!1;s=!0;continue}if(""!==d){let _;_=g>o?"":r[g+1].toLowerCase();const v=8&i?_:null;if(v&&-1!==va(v,d,0)||2&i&&d!==_){if(Bi(i))return!1;s=!0}}}}else{if(!s&&!Bi(i)&&!Bi(c))return!1;if(s&&Bi(c))continue;s=!1,i=c|1&i}}return Bi(i)||s}function Bi(e){return 0==(1&e)}function ip(e,n,t,i){if(null===n)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){const s=n[r];if(s===e)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let l=n[++r];for(;"string"==typeof l;)l=n[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function vv(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const i=e[t];if("number"==typeof i)return-1;if(i===n)return t;t++}return-1}(n,e)}function rp(e,n,t=!1){for(let i=0;i<n.length;i++)if(np(e,n[i],t))return!0;return!1}function oc(e,n){e:for(let t=0;t<n.length;t++){const i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function op(e,n){return e?":not("+n.trim()+")":n}function sp(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&i){const l=e[++t];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Bi(s)&&(n+=op(o,r),r=""),i=s,o=o||!Bi(i);t++}return""!==r&&(n+=op(o,r)),n}function Rn(e){return Ci(()=>{const n=cp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ec.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||di.Emulated,styles:e.styles||Se,_:null,schemas:e.schemas||null,tView:null,id:""};td(t);const i=e.dependencies;return t.directiveDefs=Da(i,!1),t.pipeDefs=Da(i,!0),t.id=function dp(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function ap(e){return $e(e)||ln(e)}function lp(e){return null!==e}function Xe(e){return Ci(()=>({type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ed(e,n){if(null==e)return nr;const t={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,n&&(n[r]=o)}return t}function K(e){return Ci(()=>{const n=cp(e);return td(n),n})}function mn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function $e(e){return e[tc]||null}function ln(e){return e[qr]||null}function hn(e){return e[Ju]||null}function ti(e,n){const t=e[ir]||null;if(!t&&!0===n)throw new Error(`Type ${Et(e)} does not have '\u0275mod' property.`);return t}function cp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||nr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ed(e.inputs,n),outputs:ed(e.outputs)}}function td(e){e.features?.forEach(n=>n(e))}function Da(e,n){if(!e)return null;const t=n?hn:ap;return()=>("function"==typeof e?e():e).map(i=>t(i)).filter(lp)}const Ut=0,ee=1,Ce=2,Tt=3,Vi=4,a=5,u=6,h=7,p=8,m=9,y=10,w=11,M=12,x=13,k=14,$=15,ue=16,De=17,xt=18,zt=19,hi=20,Qt=21,ni=22,Ea=23,Ta=24,Pe=25,nd=1,id=2,ct=7,Es=9,Dn=11;function jn(e){return Array.isArray(e)&&"object"==typeof e[nd]}function Hn(e){return Array.isArray(e)&&!0===e[nd]}function wv(e){return 0!=(4&e.flags)}function Sa(e){return e.componentOffset>-1}function fp(e){return 1==(1&e.flags)}function Ir(e){return!!e.template}function Cv(e){return 0!=(512&e[Ce])}function Ma(e,n){return e.hasOwnProperty(Di)?e[Di]:null}let $n=null,pp=!1;function or(e){const n=$n;return $n=e,n}const KE={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function JE(e){if(!rd(e)||e.dirty){if(!e.producerMustRecompute(e)&&!tT(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function eT(e){e.dirty=!0,function XE(e){if(void 0===e.liveConsumerNode)return;const n=pp;pp=!0;try{for(const t of e.liveConsumerNode)t.dirty||eT(t)}finally{pp=n}}(e),e.consumerMarkedDirty?.(e)}function Ev(e){return e&&(e.nextProducerIndex=0),or(e)}function Tv(e,n){if(or(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(rd(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)gp(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function tT(e){sc(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(JE(t),i!==t.version))return!0}return!1}function nT(e){if(sc(e),rd(e))for(let n=0;n<e.producerNode.length;n++)gp(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function gp(e,n){if(function rT(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),sc(e),1===e.liveConsumerNode.length)for(let i=0;i<e.producerNode.length;i++)gp(e.producerNode[i],e.producerIndexOfThis[i]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];sc(r),r.producerIndexOfThis[i]=n}}function rd(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function sc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let oT=null;const cT=()=>{},vV=(()=>({...KE,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:cT}))();class yV{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Gn(){return uT}function uT(e){return e.type.prototype.ngOnChanges&&(e.setInput=wV),bV}function bV(){const e=hT(this),n=e?.current;if(n){const t=e.previous;if(t===nr)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function wV(e,n,t,i){const r=this.declaredInputs[t],o=hT(e)||function CV(e,n){return e[dT]=n}(e,{previous:nr,current:null}),s=o.current||(o.current={}),l=o.previous,c=l[r];s[r]=new yV(c&&c.currentValue,n,l===nr),e[i]=n}Gn.ngInherit=!0;const dT="__ngSimpleChanges__";function hT(e){return e[dT]||null}const Yr=function(e,n,t){};function Rt(e){for(;Array.isArray(e);)e=e[Ut];return e}function _p(e,n){return Rt(n[e])}function Ei(e,n){return Rt(n[e.index])}function gT(e,n){return e.data[n]}function ac(e,n){return e[n]}function Ui(e,n){const t=n[e];return jn(t)?t:t[Ut]}function Is(e,n){return null==n?null:e[n]}function _T(e){e[De]=0}function MV(e){1024&e[Ce]||(e[Ce]|=1024,vT(e,1))}function mT(e){1024&e[Ce]&&(e[Ce]&=-1025,vT(e,-1))}function vT(e,n){let t=e[Tt];if(null===t)return;t[a]+=n;let i=t;for(t=t[Tt];null!==t&&(1===n&&1===i[a]||-1===n&&0===i[a]);)t[a]+=n,i=t,t=t[Tt]}const ve={lFrame:AT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wT(){return ve.bindingsEnabled}function lc(){return null!==ve.skipHydrationRootTNode}function F(){return ve.lFrame.lView}function Qe(){return ve.lFrame.tView}function ye(e){return ve.lFrame.contextLView=e,e[p]}function be(e){return ve.lFrame.contextLView=null,e}function zn(){let e=CT();for(;null!==e&&64===e.type;)e=e.parent;return e}function CT(){return ve.lFrame.currentTNode}function Kr(e,n){const t=ve.lFrame;t.currentTNode=e,t.isParent=n}function Nv(){return ve.lFrame.isParent}function xv(){ve.lFrame.isParent=!1}function fi(){const e=ve.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function cc(){return ve.lFrame.bindingIndex++}function Lo(e){const n=ve.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function UV(e,n){const t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=e,Rv(n)}function Rv(e){ve.lFrame.currentDirectiveIndex=e}function IT(){return ve.lFrame.currentQueryIndex}function Pv(e){ve.lFrame.currentQueryIndex=e}function HV(e){const n=e[ee];return 2===n.type?n.declTNode:1===n.type?e[u]:null}function ST(e,n,t){if(t&Oe.SkipSelf){let r=n,o=e;for(;!(r=r.parent,null!==r||t&Oe.Host||(r=HV(o),null===r||(o=o[k],10&r.type))););if(null===r)return!1;n=r,e=o}const i=ve.lFrame=MT();return i.currentTNode=n,i.lView=e,!0}function kv(e){const n=MT(),t=e[ee];ve.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function MT(){const e=ve.lFrame,n=null===e?null:e.child;return null===n?AT(e):n}function AT(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function NT(){const e=ve.lFrame;return ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const xT=NT;function Lv(){const e=NT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pi(){return ve.lFrame.selectedIndex}function Aa(e){ve.lFrame.selectedIndex=e}function Jt(){const e=ve.lFrame;return gT(e.tView,e.selectedIndex)}let OT=!0;function mp(){return OT}function Ss(e){OT=e}function vp(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-t,s),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),c&&(e.viewHooks??=[]).push(-t,c),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),null!=f&&(e.destroyHooks??=[]).push(t,f)}}function yp(e,n,t){PT(e,n,3,t)}function bp(e,n,t,i){(3&e[Ce])===t&&PT(e,n,t,i)}function Fv(e,n){let t=e[Ce];(3&t)===n&&(t&=8191,t+=1,e[Ce]=t)}function PT(e,n,t,i){const o=i??-1,s=n.length-1;let l=0;for(let c=void 0!==i?65535&e[De]:0;c<s;c++)if("number"==typeof n[c+1]){if(l=n[c],null!=i&&l>=i)break}else n[c]<0&&(e[De]+=65536),(l<o||-1==o)&&(KV(e,t,n,c),e[De]=(4294901760&e[De])+c+2),c++}function kT(e,n){Yr(4,e,n);const t=or(null);try{n.call(e)}finally{or(t),Yr(5,e,n)}}function KV(e,n,t,i){const r=t[i]<0,o=t[i+1],l=e[r?-t[i]:t[i]];r?e[Ce]>>13<e[De]>>16&&(3&e[Ce])===n&&(e[Ce]+=8192,kT(l,o)):kT(l,o)}const uc=-1;class sd{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Vv(e){return e!==uc}function ad(e){return 32767&e}function ld(e,n){let t=function eU(e){return e>>16}(e),i=n;for(;t>0;)i=i[k],t--;return i}let Uv=!0;function wp(e){const n=Uv;return Uv=e,n}const LT=255,FT=5;let tU=0;const Qr={};function Cp(e,n){const t=BT(e,n);if(-1!==t)return t;const i=n[ee];i.firstCreatePass&&(e.injectorIndex=n.length,jv(i.data,e),jv(n,null),jv(i.blueprint,null));const r=Dp(e,n),o=e.injectorIndex;if(Vv(r)){const s=ad(r),l=ld(r,n),c=l[ee].data;for(let d=0;d<8;d++)n[o+d]=l[s+d]|c[s+d]}return n[o+8]=r,o}function jv(e,n){e.push(0,0,0,0,0,0,0,0,n)}function BT(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Dp(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;null!==r;){if(i=zT(r),null===i)return uc;if(t++,r=r[k],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return uc}function Hv(e,n,t){!function nU(e,n,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Cs)&&(i=t[Cs]),null==i&&(i=t[Cs]=tU++);const r=i&LT;n.data[e+(r>>FT)]|=1<<r}(e,n,t)}function VT(e,n,t){if(t&Oe.Optional||void 0!==e)return e;ht()}function UT(e,n,t,i){if(t&Oe.Optional&&void 0===i&&(i=null),!(t&(Oe.Self|Oe.Host))){const r=e[m],o=Un(void 0);try{return r?r.get(n,i,t&Oe.Optional):qu(n,i,t&Oe.Optional)}finally{Un(o)}}return VT(i,0,t)}function jT(e,n,t,i=Oe.Default,r){if(null!==e){if(2048&n[Ce]&&!(i&Oe.Self)){const s=function lU(e,n,t,i,r){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[Ce]&&!(512&s[Ce]);){const l=HT(o,s,t,i|Oe.Self,Qr);if(l!==Qr)return l;let c=o.parent;if(!c){const d=s[hi];if(d){const f=d.get(t,Qr,i);if(f!==Qr)return f}c=zT(s),s=s[k]}o=c}return r}(e,n,t,i,Qr);if(s!==Qr)return s}const o=HT(e,n,t,i,Qr);if(o!==Qr)return o}return UT(n,t,i,r)}function HT(e,n,t,i,r){const o=function oU(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Cs)?e[Cs]:void 0;return"number"==typeof n?n>=0?n&LT:aU:n}(t);if("function"==typeof o){if(!ST(n,e,i))return i&Oe.Host?VT(r,0,i):UT(n,t,i,r);try{let s;if(s=o(i),null!=s||i&Oe.Optional)return s;ht()}finally{xT()}}else if("number"==typeof o){let s=null,l=BT(e,n),c=uc,d=i&Oe.Host?n[$][u]:null;for((-1===l||i&Oe.SkipSelf)&&(c=-1===l?Dp(e,n):n[l+8],c!==uc&&GT(i,!1)?(s=n[ee],l=ad(c),n=ld(c,n)):l=-1);-1!==l;){const f=n[ee];if($T(o,l,f.data)){const g=rU(l,n,t,s,i,d);if(g!==Qr)return g}c=n[l+8],c!==uc&&GT(i,n[ee].data[l+8]===d)&&$T(o,l,n)?(s=f,l=ad(c),n=ld(c,n)):l=-1}}return r}function rU(e,n,t,i,r,o){const s=n[ee],l=s.data[e+8],f=Ep(l,s,t,null==i?Sa(l)&&Uv:i!=s&&0!=(3&l.type),r&Oe.Host&&o===l);return null!==f?Na(n,s,f,l):Qr}function Ep(e,n,t,i,r){const o=e.providerIndexes,s=n.data,l=1048575&o,c=e.directiveStart,f=o>>20,_=r?l+f:e.directiveEnd;for(let v=i?l:l+f;v<_;v++){const b=s[v];if(v<c&&t===b||v>=c&&b.type===t)return v}if(r){const v=s[c];if(v&&Ir(v)&&v.type===t)return c}return null}function Na(e,n,t,i){let r=e[t];const o=n.data;if(function QV(e){return e instanceof sd}(r)){const s=r;s.resolving&&function rv(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new V(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():me(e)}(o[t]));const l=wp(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?Un(s.injectImpl):null;ST(e,i,Oe.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&function YV(e,n,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){const s=uT(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==d&&Un(d),wp(l),s.resolving=!1,xT()}}return r}function $T(e,n,t){return!!(t[n+(e>>FT)]&1<<e)}function GT(e,n){return!(e&Oe.Self||e&Oe.Host&&n)}class gi{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return jT(this._tNode,this._lView,n,Jl(i),t)}}function aU(){return new gi(zn(),F())}function fn(e){return Ci(()=>{const n=e.prototype.constructor,t=n[Di]||$v(n),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[Di]||$v(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function $v(e){return pa(e)?()=>{const n=$v(he(e));return n&&n()}:Ma(e)}function zT(e){const n=e[ee],t=n.type;return 2===t?n.declTNode:1===t?e[u]:null}const hc="__parameters__";function pc(e,n,t){return Ci(()=>{const i=function Gv(e){return function(...t){if(e){const i=e(...t);for(const r in i)this[r]=i[r]}}}(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return l.annotation=s,l;function l(c,d,f){const g=c.hasOwnProperty(hc)?c[hc]:Object.defineProperty(c,hc,{value:[]})[hc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function _c(e,n){e.forEach(t=>Array.isArray(t)?_c(t,n):n(t))}function qT(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Tp(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function dd(e,n){const t=[];for(let i=0;i<e;i++)t.push(n);return t}function ji(e,n,t){let i=mc(e,n);return i>=0?e[1|i]=t:(i=~i,function gU(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(1===r)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;)e[r]=e[r-2],r--;e[n]=t,e[n+1]=i}}(e,i,n,t)),i}function zv(e,n){const t=mc(e,n);if(t>=0)return e[1|t]}function mc(e,n){return function ZT(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}(e,n,1)}const ar=ws(pc("Optional"),8),Sp=ws(pc("SkipSelf"),4);function Rp(e){return 128==(128&e.flags)}var Ms=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ms||{});const Kv=new Map;let VU=0;const Jv="__ngContext__";function ii(e,n){jn(n)?(e[Jv]=n[zt],function jU(e){Kv.set(e[zt],e)}(n)):e[Jv]=n}let Xv;function ey(e,n){return Xv(e,n)}function pd(e){const n=e[Tt];return Hn(n)?n[Tt]:n}function pI(e){return _I(e[M])}function gI(e){return _I(e[Vi])}function _I(e){for(;null!==e&&!Hn(e);)e=e[Vi];return e}function bc(e,n,t,i,r){if(null!=i){let o,s=!1;Hn(i)?o=i:jn(i)&&(s=!0,i=i[Ut]);const l=Rt(i);0===e&&null!==t?null==r?bI(n,t,l):Ra(n,t,l,r||null,!0):1===e&&null!==t?Ra(n,t,l,r||null,!0):2===e?function Vp(e,n,t){const i=Fp(e,n);i&&function sj(e,n,t,i){e.removeChild(n,t,i)}(e,i,n,t)}(n,l,s):3===e&&n.destroyNode(l),null!=o&&function cj(e,n,t,i,r){const o=t[ct];o!==Rt(t)&&bc(n,e,i,o,r);for(let l=Dn;l<t.length;l++){const c=t[l];_d(c[ee],c,e,n,i,o)}}(n,e,o,t,r)}}function kp(e,n,t){return e.createElement(n,t)}function vI(e,n){const t=e[Es],i=t.indexOf(n);mT(n),t.splice(i,1)}function Lp(e,n){if(e.length<=Dn)return;const t=Dn+n,i=e[t];if(i){const r=i[ue];null!==r&&r!==e&&vI(r,i),n>0&&(e[t-1][Vi]=i[Vi]);const o=Tp(e,Dn+n);!function JU(e,n){_d(e,n,n[w],2,null,null),n[Ut]=null,n[u]=null}(i[ee],i);const s=o[xt];null!==s&&s.detachView(o[ee]),i[Tt]=null,i[Vi]=null,i[Ce]&=-129}return i}function ny(e,n){if(!(256&n[Ce])){const t=n[w];n[Ea]&&nT(n[Ea]),n[Ta]&&nT(n[Ta]),t.destroyNode&&_d(e,n,t,3,null,null),function tj(e){let n=e[M];if(!n)return iy(e[ee],e);for(;n;){let t=null;if(jn(n))t=n[M];else{const i=n[Dn];i&&(t=i)}if(!t){for(;n&&!n[Vi]&&n!==e;)jn(n)&&iy(n[ee],n),n=n[Tt];null===n&&(n=e),jn(n)&&iy(n[ee],n),t=n&&n[Vi]}n=t}}(n)}}function iy(e,n){if(!(256&n[Ce])){n[Ce]&=-129,n[Ce]|=256,function oj(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let i=0;i<t.length;i+=2){const r=n[t[i]];if(!(r instanceof sd)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const l=r[o[s]],c=o[s+1];Yr(4,l,c);try{c.call(l)}finally{Yr(5,l,c)}}else{Yr(4,r,o);try{o.call(r)}finally{Yr(5,r,o)}}}}}(e,n),function rj(e,n){const t=e.cleanup,i=n[h];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(n[h]=null);const r=n[Qt];if(null!==r){n[Qt]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,n),1===n[ee].type&&n[w].destroy();const t=n[ue];if(null!==t&&Hn(n[Tt])){t!==n[Tt]&&vI(t,n);const i=n[xt];null!==i&&i.detachView(e)}!function HU(e){Kv.delete(e[zt])}(n)}}function ry(e,n,t){return function yI(e,n,t){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return t[Ut];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===di.None||o===di.Emulated)return null}return Ei(i,t)}}(e,n.parent,t)}function Ra(e,n,t,i,r){e.insertBefore(n,t,i,r)}function bI(e,n,t){e.appendChild(n,t)}function wI(e,n,t,i,r){null!==i?Ra(e,n,t,i,r):bI(e,n,t)}function Fp(e,n){return e.parentNode(n)}function CI(e,n,t){return EI(e,n,t)}let oy,cy,jp,EI=function DI(e,n,t){return 40&e.type?Ei(e,t):null};function Bp(e,n,t,i){const r=ry(e,i,n),o=n[w],l=CI(i.parent||n[u],i,n);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)wI(o,r,t[c],l,!1);else wI(o,r,t,l,!1);void 0!==oy&&oy(o,i,n,t,r)}function gd(e,n){if(null!==n){const t=n.type;if(3&t)return Ei(n,e);if(4&t)return sy(-1,e[n.index]);if(8&t){const i=n.child;if(null!==i)return gd(e,i);{const r=e[n.index];return Hn(r)?sy(-1,r):Rt(r)}}if(32&t)return ey(n,e)()||Rt(e[n.index]);{const i=II(e,n);return null!==i?Array.isArray(i)?i[0]:gd(pd(e[$]),i):gd(e,n.next)}}return null}function II(e,n){return null!==n?e[$][u].projection[n.projection]:null}function sy(e,n){const t=Dn+e+1;if(t<n.length){const i=n[t],r=i[ee].firstChild;if(null!==r)return gd(i,r)}return n[ct]}function ay(e,n,t,i,r,o,s){for(;null!=t;){const l=i[t.index],c=t.type;if(s&&0===n&&(l&&ii(Rt(l),i),t.flags|=2),32!=(32&t.flags))if(8&c)ay(e,n,t.child,i,r,o,!1),bc(n,e,r,l,o);else if(32&c){const d=ey(t,i);let f;for(;f=d();)bc(n,e,r,f,o);bc(n,e,r,l,o)}else 16&c?MI(e,n,i,t,r,o):bc(n,e,r,l,o);t=s?t.projectionNext:t.next}}function _d(e,n,t,i,r,o){ay(t,i,e.firstChild,n,r,o,!1)}function MI(e,n,t,i,r,o){const s=t[$],c=s[u].projection[i.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++)bc(n,e,r,c[d],o);else{let d=c;const f=s[Tt];Rp(i)&&(d.flags|=128),ay(e,n,d,f,r,o,!0)}}function AI(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function NI(e,n,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&ya(e,n,i),null!==r&&AI(e,n,r),null!==o&&function dj(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function OI(e){return function uy(){if(void 0===jp&&(jp=null,Ct.trustedTypes))try{jp=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jp}()?.createScriptURL(e)||e}class PI{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$l})`}}function As(e){return e instanceof PI?e.changingThisBreaksApplicationSecurity:e}function md(e,n){const t=function wj(e){return e instanceof PI&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${$l})`)}return t===n}const Tj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Dc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Dc||{});function yd(e){const n=bd();return n?n.sanitize(Dc.URL,e)||"":md(e,"URL")?As(e):function dy(e){return(e=String(e)).match(Tj)?e:"unsafe:"+e}(me(e))}function jI(e){const n=bd();if(n)return OI(n.sanitize(Dc.RESOURCE_URL,e)||"");if(md(e,"ResourceURL"))return OI(As(e));throw new V(904,!1)}function bd(){const e=F();return e&&e[y].sanitizer}const wd=new oe("ENVIRONMENT_INITIALIZER"),$I=new oe("INJECTOR",-1),GI=new oe("INJECTOR_DEF_TYPES");class gy{get(n,t=vs){if(t===vs){const i=new Error(`NullInjectorError: No provider for ${Et(n)}!`);throw i.name="NullInjectorError",i}return t}}function Bj(...e){return{\u0275providers:WI(0,e),\u0275fromNgModule:!0}}function WI(e,...n){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return _c(n,s=>{const l=s;$p(l,o,[],i)&&(r||=[],r.push(l))}),void 0!==r&&qI(r,o),t}function qI(e,n){for(let t=0;t<e.length;t++){const{ngModule:i,providers:r}=e[t];_y(r,o=>{n(o,i)})}}function $p(e,n,t,i){if(!(e=he(e)))return!1;let r=null,o=ql(e);const s=!o&&$e(e);if(o||s){if(s&&!s.standalone)return!1;r=e}else{const c=e.ngModule;if(o=ql(c),!o)return!1;r=c}const l=i.has(r);if(s){if(l)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)$p(d,n,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let d;i.add(r);try{_c(o.imports,f=>{$p(f,n,t,i)&&(d||=[],d.push(f))})}finally{}void 0!==d&&qI(d,n)}if(!l){const d=Ma(r)||(()=>new r);n({provide:r,useFactory:d,deps:Se},r),n({provide:GI,useValue:r,multi:!0},r),n({provide:wd,useValue:()=>Q(r),multi:!0},r)}const c=o.providers;if(null!=c&&!l){const d=e;_y(c,f=>{n(f,d)})}}}return r!==e&&void 0!==e.providers}function _y(e,n){for(let t of e)ga(t)&&(t=t.\u0275providers),Array.isArray(t)?_y(t,n):n(t)}const Vj=je({provide:String,useValue:je});function my(e){return null!==e&&"object"==typeof e&&Vj in e}function Oa(e){return"function"==typeof e}const vy=new oe("Set Injector scope."),Gp={},jj={};let yy;function zp(){return void 0===yy&&(yy=new gy),yy}class Ii{}class Ec extends Ii{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wy(n,s=>this.processProvider(s)),this.records.set($I,Tc(void 0,this)),r.has("environment")&&this.records.set(Ii,Tc(void 0,this));const o=this.records.get(vy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GI.multi,Se,Oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=ui(this),i=Un(void 0);try{return n()}finally{ui(t),Un(i)}}get(n,t=vs,i=Oe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(nc))return n[nc](this);i=Jl(i);const o=ui(this),s=Un(void 0);try{if(!(i&Oe.SkipSelf)){let c=this.records.get(n);if(void 0===c){const d=function Wj(e){return"function"==typeof e||"object"==typeof e&&e instanceof oe}(n)&&Wl(n);c=d&&this.injectableDefInScope(d)?Tc(by(n),Gp):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(i&Oe.Self?zp():this.parent).get(n,t=i&Oe.Optional&&t===vs?null:t)}catch(l){if("NullInjectorError"===l.name){if((l[ys]=l[ys]||[]).unshift(Et(n)),o)throw l;return function gv(e,n,t,i){const r=e[ys];throw n[Qu]&&r.unshift(n[Qu]),e.message=function Wr(e,n,t,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Et(n);if(Array.isArray(n))r=n.map(Et).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];o.push(s+":"+("string"==typeof l?JSON.stringify(l):Et(l)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(hv,"\n  ")}`}("\n"+e.message,r,t,i),e.ngTokenPath=r,e[ys]=null,e}(l,n,"R3InjectorError",this.source)}throw l}finally{Un(s),ui(o)}}resolveInjectorInitializers(){const n=ui(this),t=Un(void 0);try{const r=this.get(wd.multi,Se,Oe.Self);for(const o of r)o()}finally{ui(n),Un(t)}}toString(){const n=[],t=this.records;for(const i of t.keys())n.push(Et(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(n){let t=Oa(n=he(n))?n:he(n&&n.provide);const i=function $j(e){return my(e)?Tc(void 0,e.useValue):Tc(KI(e),Gp)}(n);if(Oa(n)||!0!==n.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Tc(void 0,Gp,!0),r.factory=()=>xo(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){return t.value===Gp&&(t.value=jj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zj(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=he(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function by(e){const n=Wl(e),t=null!==n?n.factory:Ma(e);if(null!==t)return t;if(e instanceof oe)throw new V(204,!1);if(e instanceof Function)return function Hj(e){const n=e.length;if(n>0)throw dd(n,"?"),new V(204,!1);const t=function Kf(e){return e&&(e[Zl]||e[Qf])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new V(204,!1)}function KI(e,n,t){let i;if(Oa(e)){const r=he(e);return Ma(r)||by(r)}if(my(e))i=()=>he(e.useValue);else if(function YI(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...xo(e.deps||[]));else if(function ZI(e){return!(!e||!e.useExisting)}(e))i=()=>Q(he(e.useExisting));else{const r=he(e&&(e.useClass||e.provide));if(!function Gj(e){return!!e.deps}(e))return Ma(r)||by(r);i=()=>new r(...xo(e.deps))}return i}function Tc(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function wy(e,n){for(const t of e)Array.isArray(t)?wy(t,n):t&&ga(t)?wy(t.\u0275providers,n):n(t)}const Wp=new oe("AppId",{providedIn:"root",factory:()=>qj}),qj="ng",QI=new oe("Platform Initializer"),Pa=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JI=new oe("CSP nonce",{providedIn:"root",factory:()=>function Cc(){if(void 0!==cy)return cy;if(typeof document<"u")return document;throw new V(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let XI=(e,n,t)=>null;function Ay(e,n,t=!1){return XI(e,n,t)}class iH{}class nS{}class oH{resolveComponentFactory(n){throw function rH(e){const n=Error(`No component factory found for ${Et(e)}.`);return n.ngComponent=e,n}(n)}}let Jp=(()=>{class e{static#e=this.NULL=new oH}return e})();function sH(){return Mc(zn(),F())}function Mc(e,n){return new ft(Ei(e,n))}let ft=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=sH}return e})();function aH(e){return e instanceof ft?e.nativeElement:e}class Ry{}let Hi=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lH(){const e=F(),t=Ui(zn().index,e);return(jn(t)?t:e)[w]}()}return e})(),cH=(()=>{class e{static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null})}return e})();class Ac{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rS=new Ac("16.2.12"),Oy={};function lS(e,n=null,t=null,i){const r=cS(e,n,t,i);return r.resolveInjectorInitializers(),r}function cS(e,n=null,t=null,i,r=new Set){const o=[t||Se,Bj(e)];return i=i||("object"==typeof e?void 0:Et(e)),new Ec(o,n||zp(),i||null,r)}let Tn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=vs;static#t=this.NULL=new gy;static create(t,i){if(Array.isArray(t))return lS({name:""},i,t,"");{const r=t.name??"";return lS({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=Z({token:e,providedIn:"any",factory:()=>Q($I)});static#i=this.__NG_ELEMENT_ID__=-1}return e})();function Py(e){return e.ngOriginalError}class Bo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Py(n);for(;t&&Py(t);)t=Py(t);return t||null}}function ky(e){return n=>{setTimeout(e,void 0,n)}}const ce=class mH extends fe{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&"object"==typeof n){const c=n;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ky(o),r&&(r=ky(r)),s&&(s=ky(s)));const l=super.subscribe({next:r,error:o,complete:s});return n instanceof rn&&n.add(l),l}};function dS(...e){}class Be{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function vH(){const e="function"==typeof Ct.requestAnimationFrame;let n=Ct[e?"requestAnimationFrame":"setTimeout"],t=Ct[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wH(e){const n=()=>{!function bH(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fy(e),e.isCheckStableRunning=!0,Ly(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,l)=>{if(function DH(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(l))return t.invokeTask(r,o,s,l);try{return hS(e),t.invokeTask(r,o,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),fS(e)}},onInvoke:(t,i,r,o,s,l,c)=>{try{return hS(e),t.invoke(r,o,s,l,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),fS(e)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Fy(e),Ly(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new V(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,yH,dS,dS);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}}const yH={};function Ly(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function hS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fS(e){e._nesting--,Ly(e)}class CH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}}const pS=new oe("",{providedIn:"root",factory:gS});function gS(){const e=Y(Be);let n=!0;return function Ul(...e){const n=da(e),t=function iv(e,n){return"number"==typeof $u(e)?e.pop():n}(e,1/0),i=e;return i.length?1===i.length?an(i[0]):ds(t)(Bt(i,n)):li}(new Ze(r=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(n),r.complete()})}),new Ze(r=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,r.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Be.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(jl()))}function Vo(e){return e instanceof Function?e():e}let By=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ed(e){for(;e;){e[Ce]|=64;const n=pd(e);if(Cv(e)&&!n)return e;e=n}return null}const bS=new oe("",{providedIn:"root",factory:()=>!1});let tg=null;function ES(e,n){return e[n]??SS()}function TS(e,n){const t=SS();t.producerNode?.length&&(e[n]=tg,t.lView=e,tg=IS())}const OH={...KE,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ed(e.lView)},lView:null};function IS(){return Object.create(OH)}function SS(){return tg??=IS(),tg}const Ee={};function P(e){MS(Qe(),F(),pi()+e,!1)}function MS(e,n,t,i){if(!i)if(3==(3&n[Ce])){const o=e.preOrderCheckHooks;null!==o&&yp(n,o,t)}else{const o=e.preOrderHooks;null!==o&&bp(n,o,0,t)}Aa(t)}function D(e,n=Oe.Default){const t=F();return null===t?Q(e,n):jT(zn(),t,he(e),n)}function ng(e,n,t,i,r,o,s,l,c,d,f){const g=n.blueprint.slice();return g[Ut]=r,g[Ce]=140|i,(null!==d||e&&2048&e[Ce])&&(g[Ce]|=2048),_T(g),g[Tt]=g[k]=e,g[p]=t,g[y]=s||e&&e[y],g[w]=l||e&&e[w],g[m]=c||e&&e[m]||null,g[u]=o,g[zt]=function UU(){return VU++}(),g[ni]=f,g[hi]=d,g[$]=2==n.type?e[$]:g,g}function Oc(e,n,t,i,r){let o=e.data[n];if(null===o)o=function Vy(e,n,t,i,r){const o=CT(),s=Nv(),c=e.data[n]=function jH(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,l=0;return lc()&&(l|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,i,r);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,n,t,i,r),function VV(){return ve.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function od(){const e=ve.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kr(o,!0),o}function Td(e,n,t,i){if(0===t)return-1;const r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function NS(e,n,t,i,r){const o=ES(n,Ea),s=pi(),l=2&i;try{Aa(-1),l&&n.length>Pe&&MS(e,n,Pe,!1),Yr(l?2:0,r);const d=l?o:null,f=Ev(d);try{null!==d&&(d.dirty=!1),t(i,r)}finally{Tv(d,f)}}finally{l&&null===n[Ea]&&TS(n,Ea),Aa(s),Yr(l?3:1,r)}}function Uy(e,n,t){if(wv(n)){const i=or(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const l=e.data[s];l.contentQueries&&l.contentQueries(1,t[s],s)}}finally{or(i)}}}function jy(e,n,t){wT()&&(function ZH(e,n,t,i){const r=t.directiveStart,o=t.directiveEnd;Sa(t)&&function t$(e,n,t){const i=Ei(n,e),r=xS(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const l=ig(e,ng(e,r,null,s,i,n,null,e[y].rendererFactory.createRenderer(i,t),null,null,null));e[n.index]=l}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Cp(t,n),ii(i,n);const s=t.initialInputs;for(let l=r;l<o;l++){const c=e.data[l],d=Na(n,e,l,t);ii(d,n),null!==s&&n$(0,l-r,d,c,0,s),Ir(c)&&(Ui(t.index,n)[p]=Na(n,e,l,t))}}(e,n,t,Ei(t,n)),64==(64&t.flags)&&LS(e,n,t))}function Hy(e,n,t=Ei){const i=n.localNames;if(null!==i){let r=n.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],l=-1===s?t(n,e):e[s];e[r++]=l}}}function xS(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=$y(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function $y(e,n,t,i,r,o,s,l,c,d,f){const g=Pe+i,_=g+r,v=function kH(e,n){const t=[];for(let i=0;i<n;i++)t.push(i<e?null:Ee);return t}(g,_),b="function"==typeof d?d():d;return v[ee]={type:e,blueprint:v,template:t,queries:null,viewQuery:l,declTNode:n,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:f}}let RS=e=>null;function OS(e,n,t,i){for(let r in e)if(e.hasOwnProperty(r)){t=null===t?{}:t;const o=e[r];null===i?PS(t,n,r,o):i.hasOwnProperty(r)&&PS(t,n,i[r],o)}return t}function PS(e,n,t,i){e.hasOwnProperty(t)?e[t].push(n,i):e[t]=[n,i]}function $i(e,n,t,i,r,o,s,l){const c=Ei(n,t);let f,d=n.inputs;!l&&null!=d&&(f=d[i])?(Zy(e,t,f,i,r),Sa(n)&&function GH(e,n){const t=Ui(n,e);16&t[Ce]||(t[Ce]|=64)}(t,n.index)):3&n.type&&(i=function $H(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=s?s(r,n.value||"",i):r,o.setProperty(c,i,r))}function Gy(e,n,t,i){if(wT()){const r=null===i?null:{"":-1},o=function KH(e,n){const t=e.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(rp(n,s.selectors,!1))if(i||(i=[]),Ir(s))if(null!==s.findHostDirectiveDefs){const l=[];r=r||new Map,s.findHostDirectiveDefs(s,l,r),i.unshift(...l,s),zy(e,n,l.length)}else i.unshift(s),zy(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(e,t);let s,l;null===o?s=l=null:[s,l]=o,null!==s&&kS(e,n,t,s,r,l),r&&function QH(e,n,t){if(n){const i=e.localNames=[];for(let r=0;r<n.length;r+=2){const o=t[n[r+1]];if(null==o)throw new V(-301,!1);i.push(n[r],o)}}}(t,i,r)}t.mergedAttrs=Zr(t.mergedAttrs,t.attrs)}function kS(e,n,t,i,r,o){for(let d=0;d<i.length;d++)Hv(Cp(t,n),e,i[d].type);!function XH(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,i.length);for(let d=0;d<i.length;d++){const f=i[d];f.providersResolver&&f.providersResolver(f)}let s=!1,l=!1,c=Td(e,n,i.length,null);for(let d=0;d<i.length;d++){const f=i[d];t.mergedAttrs=Zr(t.mergedAttrs,f.hostAttrs),e$(e,t,n,c,f),JH(c,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),c++}!function HH(e,n,t){const r=n.directiveEnd,o=e.data,s=n.attrs,l=[];let c=null,d=null;for(let f=n.directiveStart;f<r;f++){const g=o[f],_=t?t.get(g):null,b=_?_.outputs:null;c=OS(g.inputs,f,c,_?_.inputs:null),d=OS(g.outputs,f,d,b);const C=null===c||null===s||wa(n)?null:i$(c,f,s);l.push(C)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=c,n.outputs=d}(e,t,o)}function LS(e,n,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function jV(){return ve.lFrame.currentDirectiveIndex}();try{Aa(o);for(let l=i;l<r;l++){const c=e.data[l],d=n[l];Rv(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&YH(c,d)}}finally{Aa(-1),Rv(s)}}function YH(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function zy(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function JH(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Ir(n)&&(t[""]=e)}}function e$(e,n,t,i,r){e.data[i]=r;const o=r.factory||(r.factory=Ma(r.type)),s=new sd(o,Ir(r),D);e.blueprint[i]=s,t[i]=s,function WH(e,n,t,i,r){const o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const l=~n.index;(function qH(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=l&&s.push(l),s.push(t,i,o)}}(e,n,i,Td(e,t,r.hostVars,Ee),r)}function Jr(e,n,t,i,r,o){const s=Ei(e,n);!function Wy(e,n,t,i,r,o,s){if(null==o)e.removeAttribute(n,r,t);else{const l=null==s?me(o):s(o,i||"",r);e.setAttribute(n,r,l,t)}}(n[w],s,o,e.value,t,i,r)}function n$(e,n,t,i,r,o){const s=o[n];if(null!==s)for(let l=0;l<s.length;)FS(i,t,s[l++],s[l++],s[l++])}function FS(e,n,t,i,r){const o=or(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(n,r)),null!==e.setInput?e.setInput(n,r,t,i):n[i]=r}finally{or(o)}}function i$(e,n,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const s=e[o];for(let l=0;l<s.length;l+=2)if(s[l]===n){i.push(o,s[l+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function BS(e,n,t,i){return[e,!0,!1,n,null,0,i,t,null,null,null]}function VS(e,n){const t=e.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=e.data[o];Pv(t[i]),s.contentQueries(2,n[o],o)}}}function ig(e,n){return e[M]?e[x][Vi]=n:e[M]=n,e[x]=n,n}function qy(e,n,t){Pv(0);const i=or(null);try{n(e,t)}finally{or(i)}}function US(e){return e[h]||(e[h]=[])}function jS(e){return e.cleanup||(e.cleanup=[])}function $S(e,n){const t=e[m],i=t?t.get(Bo,null):null;i&&i.handleError(n)}function Zy(e,n,t,i,r){for(let o=0;o<t.length;){const s=t[o++],l=t[o++];FS(e.data[s],n[s],i,l,r)}}function r$(e,n){const t=Ui(n,e),i=t[ee];!function o$(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(i,t);const r=t[Ut];null!==r&&null===t[ni]&&(t[ni]=Ay(r,t[m])),Yy(i,t,t[p])}function Yy(e,n,t){kv(n);try{const i=e.viewQuery;null!==i&&qy(1,i,t);const r=e.template;null!==r&&NS(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&VS(e,n),e.staticViewQueries&&qy(2,e.viewQuery,t);const o=e.components;null!==o&&function s$(e,n){for(let t=0;t<n.length;t++)r$(e,n[t])}(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[Ce]&=-5,Lv()}}let GS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function mV(e,n,t){const i=Object.create(vV);t&&(i.consumerAllowSignalWrites=!0),i.fn=e,i.schedule=n;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>eT(i),run:()=>{if(i.dirty=!1,i.hasRun&&!tT(i))return;i.hasRun=!0;const s=Ev(i);try{i.cleanupFn(),i.cleanupFn=cT,i.fn(r)}finally{Tv(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,o)},r);let l;this.all.add(s),s.notify();const c=()=>{s.cleanup(),l?.(),this.all.delete(s),this.queue.delete(s)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e})}return e})();function rg(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?o=l:1==o?r=Ao(r,l):2==o&&(i=Ao(i,l+": "+n[++s]+";"))}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function Id(e,n,t,i,r=!1){for(;null!==t;){const o=n[t.index];null!==o&&i.push(Rt(o)),Hn(o)&&zS(o,i);const s=t.type;if(8&s)Id(e,n,t.child,i);else if(32&s){const l=ey(t,n);let c;for(;c=l();)i.push(c)}else if(16&s){const l=II(n,t);if(Array.isArray(l))i.push(...l);else{const c=pd(n[$]);Id(c[ee],c,l,i,!0)}}t=r?t.projectionNext:t.next}return i}function zS(e,n){for(let t=Dn;t<e.length;t++){const i=e[t],r=i[ee].firstChild;null!==r&&Id(i[ee],i,r,n)}e[ct]!==e[Ut]&&n.push(e[ct])}function og(e,n,t,i=!0){const r=n[y],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{WS(e,n,e.template,t)}catch(c){throw i&&$S(n,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function WS(e,n,t,i){const r=n[Ce];if(256!=(256&r)){n[y].effectManager?.flush(),kv(n);try{_T(n),function ET(e){return ve.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&NS(e,n,t,2,i);const s=3==(3&r);if(s){const d=e.preOrderCheckHooks;null!==d&&yp(n,d,null)}else{const d=e.preOrderHooks;null!==d&&bp(n,d,0,null),Fv(n,0)}if(function c$(e){for(let n=pI(e);null!==n;n=gI(n)){if(!n[id])continue;const t=n[Es];for(let i=0;i<t.length;i++){MV(t[i])}}}(n),qS(n,2),null!==e.contentQueries&&VS(e,n),s){const d=e.contentCheckHooks;null!==d&&yp(n,d)}else{const d=e.contentHooks;null!==d&&bp(n,d,1),Fv(n,1)}!function PH(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const i=ES(n,Ta);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Aa(~o);else{const s=o,l=t[++r],c=t[++r];UV(l,s),i.dirty=!1;const d=Ev(i);try{c(2,n[s])}finally{Tv(i,d)}}}}finally{null===n[Ta]&&TS(n,Ta),Aa(-1)}}(e,n);const l=e.components;null!==l&&YS(n,l,0);const c=e.viewQuery;if(null!==c&&qy(2,c,i),s){const d=e.viewCheckHooks;null!==d&&yp(n,d)}else{const d=e.viewHooks;null!==d&&bp(n,d,2),Fv(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ce]&=-73,mT(n)}finally{Lv()}}}function qS(e,n){for(let t=pI(e);null!==t;t=gI(t))for(let i=Dn;i<t.length;i++)ZS(t[i],n)}function u$(e,n,t){ZS(Ui(n,e),t)}function ZS(e,n){if(!function IV(e){return 128==(128&e[Ce])}(e))return;const t=e[ee],i=e[Ce];if(80&i&&0===n||1024&i||2===n)WS(t,e,t.template,e[p]);else if(e[a]>0){qS(e,1);const r=t.components;null!==r&&YS(e,r,1)}}function YS(e,n,t){for(let i=0;i<n.length;i++)u$(e,n[i],t)}class Sd{get rootNodes(){const n=this._lView,t=n[ee];return Id(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[p]}set context(n){this._lView[p]=n}get destroyed(){return 256==(256&this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Tt];if(Hn(n)){const t=n[8],i=t?t.indexOf(this):-1;i>-1&&(Lp(n,i),Tp(t,i))}this._attachedToViewContainer=!1}ny(this._lView[ee],this._lView)}onDestroy(n){!function yT(e,n){if(256==(256&e[Ce]))throw new V(911,!1);null===e[Qt]&&(e[Qt]=[]),e[Qt].push(n)}(this._lView,n)}markForCheck(){Ed(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){this._lView[Ce]|=128}detectChanges(){og(this._lView[ee],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ej(e,n){_d(e,n,n[w],2,null,null)}(this._lView[ee],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=n}}class d$ extends Sd{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;og(n[ee],n,n[p],!1)}checkNoChanges(){}get context(){return null}}class KS extends Jp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=$e(n);return new Md(t,this.ngModule)}}function QS(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class f${constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=Jl(i);const r=this.injector.get(n,Oy,i);return r!==Oy||t===Oy?r:this.parentInjector.get(n,t,i)}}class Md extends nS{get inputs(){const n=this.componentDef,t=n.inputTransforms,i=QS(n.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return QS(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function yv(e){return e.map(sp).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=(r=r||this.ngModule)instanceof Ii?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new f$(n,o):n,l=s.get(Ry,null);if(null===l)throw new V(407,!1);const g={rendererFactory:l,sanitizer:s.get(cH,null),effectManager:s.get(GS,null),afterRenderEventManager:s.get(By,null)},_=l.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",b=i?function LH(e,n,t,i){const o=i.get(bS,!1)||t===di.ShadowDom,s=e.selectRootElement(n,o);return function FH(e){RS(e)}(s),s}(_,i,this.componentDef.encapsulation,s):kp(_,v,function h$(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),R=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let I=null;null!==b&&(I=Ay(b,s,!0));const G=$y(0,null,null,1,0,null,null,null,null,null,null),H=ng(null,G,null,R,null,null,g,_,s,null,I);let te,ge;kv(H);try{const Ue=this.componentDef;let qe,Ft=null;Ue.findHostDirectiveDefs?(qe=[],Ft=new Map,Ue.findHostDirectiveDefs(Ue,qe,Ft),qe.push(Ue)):qe=[Ue];const nn=function g$(e,n){const t=e[ee],i=Pe;return e[i]=n,Oc(t,i,2,"#host",null)}(H,b),Bn=function _$(e,n,t,i,r,o,s){const l=r[ee];!function m$(e,n,t,i){for(const r of e)n.mergedAttrs=Zr(n.mergedAttrs,r.hostAttrs);null!==n.mergedAttrs&&(rg(n,n.mergedAttrs,!0),null!==t&&NI(i,t,n))}(i,e,n,s);let c=null;null!==n&&(c=Ay(n,r[m]));const d=o.rendererFactory.createRenderer(n,t);let f=16;t.signals?f=4096:t.onPush&&(f=64);const g=ng(r,xS(t),null,f,r[e.index],e,o,d,null,null,c);return l.firstCreatePass&&zy(l,e,i.length-1),ig(r,g),r[e.index]=g}(nn,b,Ue,qe,H,g,_);ge=gT(G,Pe),b&&function y$(e,n,t,i){if(i)ya(e,t,["ng-version",rS.full]);else{const{attrs:r,classes:o}=function Ca(e){const n=[],t=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&n.push(o,e[++i]):8===r&&t.push(o);else{if(!Bi(r))break;r=o}i++}return{attrs:n,classes:t}}(n.selectors[0]);r&&ya(e,t,r),o&&o.length>0&&AI(e,t,o.join(" "))}}(_,Ue,b,i),void 0!==t&&function b$(e,n,t){const i=e.projection=[];for(let r=0;r<n.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(ge,this.ngContentSelectors,t),te=function v$(e,n,t,i,r,o){const s=zn(),l=r[ee],c=Ei(s,r);kS(l,r,s,t,null,i);for(let f=0;f<t.length;f++)ii(Na(r,l,s.directiveStart+f,s),r);LS(l,r,s),c&&ii(c,r);const d=Na(r,l,s.directiveStart+s.componentOffset,s);if(e[p]=r[p]=d,null!==o)for(const f of o)f(d,n);return Uy(l,s,e),d}(Bn,Ue,qe,Ft,H,[w$]),Yy(G,H,null)}finally{Lv()}return new p$(this.componentType,te,Mc(ge,H),H,ge)}}class p$ extends iH{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new d$(r),this.componentType=n}setInput(n,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Zy(o[ee],o,r,n,t),this.previousInputValues.set(n,t),Ed(Ui(this._tNode.index,o))}}get injector(){return new gi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function w$(){const e=zn();vp(F()[ee],e)}function pt(e){let n=function JS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const i=[e];for(;n;){let r;if(Ir(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new V(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);const s=e;s.inputs=sg(e.inputs),s.inputTransforms=sg(e.inputTransforms),s.declaredInputs=sg(e.declaredInputs),s.outputs=sg(e.outputs);const l=r.hostBindings;l&&T$(e,l);const c=r.viewQuery,d=r.contentQueries;if(c&&D$(e,c),d&&E$(e,d),Vt(e.inputs,r.inputs),Vt(e.declaredInputs,r.declaredInputs),Vt(e.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Vt(s.inputTransforms,r.inputTransforms)),Ir(r)&&r.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const l=o[s];l&&l.ngInherit&&l(e),l===pt&&(t=!1)}}n=Object.getPrototypeOf(n)}!function C$(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Zr(r.hostAttrs,t=Zr(t,r.hostAttrs))}}(i)}function sg(e){return e===nr?{}:e===Se?[]:e}function D$(e,n){const t=e.viewQuery;e.viewQuery=t?(i,r)=>{n(i,r),t(i,r)}:n}function E$(e,n){const t=e.contentQueries;e.contentQueries=t?(i,r,o)=>{n(i,r,o),t(i,r,o)}:n}function T$(e,n){const t=e.hostBindings;e.hostBindings=t?(i,r)=>{n(i,r),t(i,r)}:n}function nM(e){const n=e.inputConfig,t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}e.inputTransforms=t}function ag(e){return!!Ky(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ky(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xr(e,n,t){return e[n]=t}function ri(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function gt(e,n,t,i){const r=F();return ri(r,cc(),n)&&(Qe(),Jr(Jt(),r,e,n,t,i)),gt}function kc(e,n,t,i){return ri(e,cc(),t)?n+me(t)+i:Ee}function ae(e,n,t,i,r,o,s,l){const c=F(),d=Qe(),f=e+Pe,g=d.firstCreatePass?function Y$(e,n,t,i,r,o,s,l,c){const d=n.consts,f=Oc(n,e,4,s||null,Is(d,l));Gy(n,t,f,Is(d,c)),vp(n,f);const g=f.tView=$y(2,f,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return null!==n.queries&&(n.queries.template(n,f),g.queries=n.queries.embeddedTView(f)),f}(f,d,c,n,t,i,r,o,s):d.data[f];Kr(g,!1);const _=gM(d,c,g,e);mp()&&Bp(d,c,_,g),ii(_,c),ig(c,c[f]=BS(_,c,_,g)),fp(g)&&jy(d,c,g),null!=s&&Hy(c,g,l)}let gM=function _M(e,n,t,i){return Ss(!0),n[w].createComment("")};function j(e,n,t){const i=F();return ri(i,cc(),n)&&$i(Qe(),Jt(),i,e,n,i[w],t,!1),j}function nb(e,n,t,i,r){const s=r?"class":"style";Zy(e,t,n.inputs[s],s,i)}function S(e,n,t,i){const r=F(),o=Qe(),s=Pe+e,l=r[w],c=o.firstCreatePass?function X$(e,n,t,i,r,o){const s=n.consts,c=Oc(n,e,2,i,Is(s,r));return Gy(n,t,c,Is(s,o)),null!==c.attrs&&rg(c,c.attrs,!1),null!==c.mergedAttrs&&rg(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,o,r,n,t,i):o.data[s],d=mM(o,r,c,l,n,e);r[s]=d;const f=fp(c);return Kr(c,!0),NI(l,d,c),32!=(32&c.flags)&&mp()&&Bp(o,r,d,c),0===function NV(){return ve.lFrame.elementDepthCount}()&&ii(d,r),function xV(){ve.lFrame.elementDepthCount++}(),f&&(jy(o,r,c),Uy(o,c,r)),null!==i&&Hy(r,c),S}function A(){let e=zn();Nv()?xv():(e=e.parent,Kr(e,!1));const n=e;(function OV(e){return ve.skipHydrationRootTNode===e})(n)&&function FV(){ve.skipHydrationRootTNode=null}(),function RV(){ve.lFrame.elementDepthCount--}();const t=Qe();return t.firstCreatePass&&(vp(t,e),wv(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function JV(e){return 0!=(8&e.flags)}(n)&&nb(t,n,F(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function XV(e){return 0!=(16&e.flags)}(n)&&nb(t,n,F(),n.stylesWithoutHost,!1),A}function et(e,n,t,i){return S(e,n,t,i),A(),et}let mM=(e,n,t,i,r,o)=>(Ss(!0),kp(i,r,function RT(){return ve.lFrame.currentNamespace}()));function vn(){return F()}function Pd(e){return!!e&&"function"==typeof e.then}function bM(e){return!!e&&"function"==typeof e.subscribe}function re(e,n,t,i){const r=F(),o=Qe(),s=zn();return function CM(e,n,t,i,r,o,s){const l=fp(i),d=e.firstCreatePass&&jS(e),f=n[p],g=US(n);let _=!0;if(3&i.type||s){const C=Ei(i,n),E=s?s(C):C,R=g.length,I=s?H=>s(Rt(H[i.index])):i.index;let G=null;if(!s&&l&&(G=function o3(e,n,t,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const l=n[h],c=r[o+2];return l.length>c?l[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,r,i.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,_=!1;else{o=EM(i,n,f,o,!1);const H=t.listen(E,r,o);g.push(o,H),d&&d.push(r,I,R,R+1)}}else o=EM(i,n,f,o,!1);const v=i.outputs;let b;if(_&&null!==v&&(b=v[r])){const C=b.length;if(C)for(let E=0;E<C;E+=2){const te=n[b[E]][b[E+1]].subscribe(o),ge=g.length;g.push(o,te),d&&d.push(r,i.index,ge,-(ge+1))}}}(o,r,r[w],s,e,n,i),re}function DM(e,n,t,i){try{return Yr(6,n,t),!1!==t(i)}catch(r){return $S(e,r),!1}finally{Yr(7,n,t)}}function EM(e,n,t,i,r){return function o(s){if(s===Function)return i;Ed(e.componentOffset>-1?Ui(e.index,n):n);let c=DM(n,t,i,s),d=o.__ngNextListenerFn__;for(;d;)c=DM(n,t,d,s)&&c,d=d.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function z(e=1){return function $V(e){return(ve.lFrame.contextLView=function GV(e,n){for(;e>0;)n=n[k],e--;return n}(e,ve.lFrame.contextLView))[p]}(e)}function s3(e,n){let t=null;const i=function rr(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let r=0;r<n.length;r++){const o=n[r];if("*"!==o){if(null===i?rp(e,o,!0):oc(i,o))return r}else t=r}return t}function kd(e,n,t){return Ld(e,"",n,"",t),kd}function Ld(e,n,t,i,r){const o=F(),s=kc(o,n,t,i);return s!==Ee&&$i(Qe(),Jt(),o,e,s,o[w],r,!1),Ld}function hg(e,n){return e<<17|n<<2}function Ns(e){return e>>17&32767}function ob(e){return 2|e}function La(e){return(131068&e)>>2}function sb(e,n){return-131069&e|n<<2}function ab(e){return 1|e}function kM(e,n,t,i,r){const o=e[t+1],s=null===n;let l=i?Ns(o):La(o),c=!1;for(;0!==l&&(!1===c||s);){const f=e[l+1];h3(e[l],n)&&(c=!0,e[l+1]=i?ab(f):ob(f)),l=i?Ns(f):La(f)}c&&(e[t+1]=i?ob(o):ab(o))}function h3(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&mc(e,n)>=0}const In={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LM(e){return e.substring(In.key,In.keyEnd)}function FM(e,n){const t=In.textEnd;return t===n?-1:(n=In.keyEnd=function _3(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,In.key=n,t),$c(e,n,t))}function $c(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function rt(e,n){return function Sr(e,n,t,i){const r=F(),o=Qe(),s=Lo(2);o.firstUpdatePass&&GM(o,e,s,i),n!==Ee&&ri(r,s,n)&&WM(o,o.data[pi()],r,r[w],e,r[s+1]=function S3(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Et(As(e)))),e}(n,t),i,s)}(e,n,null,!0),rt}function Fa(e){!function Mr(e,n,t,i){const r=Qe(),o=Lo(2);r.firstUpdatePass&&GM(r,null,o,i);const s=F();if(t!==Ee&&ri(s,o,t)){const l=r.data[pi()];if(ZM(l,i)&&!$M(r,o)){let c=i?l.classesWithoutHost:l.stylesWithoutHost;null!==c&&(t=Ao(c,t||"")),nb(r,l,s,t,i)}else!function I3(e,n,t,i,r,o,s,l){r===Ee&&(r=Se);let c=0,d=0,f=0<r.length?r[0]:null,g=0<o.length?o[0]:null;for(;null!==f||null!==g;){const _=c<r.length?r[c+1]:void 0,v=d<o.length?o[d+1]:void 0;let C,b=null;f===g?(c+=2,d+=2,_!==v&&(b=g,C=v)):null===g||null!==f&&f<g?(c+=2,b=f):(d+=2,b=g,C=v),null!==b&&WM(e,n,t,i,b,C,s,l),f=c<r.length?r[c]:null,g=d<o.length?o[d]:null}}(r,l,s,s[w],s[o+1],s[o+1]=function E3(e,n,t){if(null==t||""===t)return Se;const i=[],r=As(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&n(i,r);return i}(e,n,t),i,o)}}(T3,no,e,!0)}function no(e,n){for(let t=function p3(e){return function VM(e){In.key=0,In.keyEnd=0,In.value=0,In.valueEnd=0,In.textEnd=e.length}(e),FM(e,$c(e,0,In.textEnd))}(n);t>=0;t=FM(n,t))ji(e,LM(n),!0)}function $M(e,n){return n>=e.expandoStartIndex}function GM(e,n,t,i){const r=e.data;if(null===r[t+1]){const o=r[pi()],s=$M(e,t);ZM(o,i)&&null===n&&!s&&(n=!1),n=function b3(e,n,t,i){const r=function Ov(e){const n=ve.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(t=Fd(t=lb(null,e,n,t,i),n.attrs,i),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==r)if(t=lb(r,e,n,t,i),null===o){let c=function w3(e,n,t){const i=t?n.classBindings:n.styleBindings;if(0!==La(i))return e[Ns(i)]}(e,n,i);void 0!==c&&Array.isArray(c)&&(c=lb(null,e,n,c[1],i),c=Fd(c,n.attrs,i),function C3(e,n,t,i){e[Ns(t?n.classBindings:n.styleBindings)]=i}(e,n,i,c))}else o=function D3(e,n,t){let i;const r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++)i=Fd(i,e[o].hostAttrs,t);return Fd(i,n.attrs,t)}(e,n,i)}return void 0!==o&&(i?n.residualClasses=o:n.residualStyles=o),t}(r,o,n,i),function u3(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,l=Ns(s),c=La(s);e[i]=t;let f,d=!1;if(Array.isArray(t)?(f=t[1],(null===f||mc(t,f)>0)&&(d=!0)):f=t,r)if(0!==c){const _=Ns(e[l+1]);e[i+1]=hg(_,l),0!==_&&(e[_+1]=sb(e[_+1],i)),e[l+1]=function l3(e,n){return 131071&e|n<<17}(e[l+1],i)}else e[i+1]=hg(l,0),0!==l&&(e[l+1]=sb(e[l+1],i)),l=i;else e[i+1]=hg(c,0),0===l?l=i:e[c+1]=sb(e[c+1],i),c=i;d&&(e[i+1]=ob(e[i+1])),kM(e,f,i,!0),kM(e,f,i,!1),function d3(e,n,t,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&mc(o,n)>=0&&(t[i+1]=ab(t[i+1]))}(n,f,e,i,o),s=hg(l,c),o?n.classBindings=s:n.styleBindings=s}(r,o,n,t,s,i)}}function lb(e,n,t,i,r){let o=null;const s=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<s&&(o=n[l],i=Fd(i,o.hostAttrs,r),o!==e);)l++;return null!==e&&(t.directiveStylingLast=l),i}function Fd(e,n,t){const i=t?1:2;let r=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ji(e,s,!!t||n[++o]))}return void 0===e?null:e}function T3(e,n,t){const i=String(n);""!==i&&!i.includes(" ")&&ji(e,i,t)}function WM(e,n,t,i,r,o,s,l){if(!(3&n.type))return;const c=e.data,d=c[l+1],f=function c3(e){return 1==(1&e)}(d)?qM(c,n,t,r,La(d),s):void 0;fg(f)||(fg(o)||function a3(e){return 2==(2&e)}(d)&&(o=qM(c,null,t,r,l,s)),function uj(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:Ms.DashCase;null==r?e.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ms.Important),e.setStyle(t,i,r,o))}}(i,s,_p(pi(),t),r,o))}function qM(e,n,t,i,r,o){const s=null===n;let l;for(;r>0;){const c=e[r],d=Array.isArray(c),f=d?c[1]:c,g=null===f;let _=t[r+1];_===Ee&&(_=g?Se:void 0);let v=g?zv(_,i):f===i?_:void 0;if(d&&!fg(v)&&(v=zv(c,i)),fg(v)&&(l=v,s))return l;const b=e[r+1];r=s?Ns(b):La(b)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(l=zv(c,i))}return l}function fg(e){return void 0!==e}function ZM(e,n){return 0!=(e.flags&(n?8:16))}function U(e,n=""){const t=F(),i=Qe(),r=e+Pe,o=i.firstCreatePass?Oc(i,r,1,n,null):i.data[r],s=YM(i,t,o,n,e);t[r]=s,mp()&&Bp(i,t,s,o),Kr(o,!1)}let YM=(e,n,t,i,r)=>(Ss(!0),function Pp(e,n){return e.createText(n)}(n[w],i));function Wn(e){return cr("",e,""),Wn}function cr(e,n,t){const i=F(),r=kc(i,e,n,t);return r!==Ee&&function Uo(e,n,t){const i=_p(n,e);!function mI(e,n,t){e.setValue(n,t)}(e[w],i,t)}(i,pi(),r),cr}const Ba=void 0;var Y3=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z3(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Gc={};function _i(e){const n=function Q3(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=gA(n);if(t)return t;const i=n.split("-")[0];if(t=gA(i),t)return t;if("en"===i)return Y3;throw new V(701,!1)}function gA(e){return e in Gc||(Gc[e]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[e]),Gc[e]}var Ot=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ot||{});const zc="en-US";let _A=zc;function db(e,n,t,i,r){if(e=he(e),Array.isArray(e))for(let o=0;o<e.length;o++)db(e[o],n,t,i,r);else{const o=Qe(),s=F(),l=zn();let c=Oa(e)?e:he(e.provide);const d=KI(e),f=1048575&l.providerIndexes,g=l.directiveStart,_=l.providerIndexes>>20;if(Oa(e)||!e.multi){const v=new sd(d,r,D),b=fb(c,n,r?f:f+_,g);-1===b?(Hv(Cp(l,s),o,c),hb(o,e,n.length),n.push(c),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(v),s.push(v)):(t[b]=v,s[b]=v)}else{const v=fb(c,n,f+_,g),b=fb(c,n,f,f+_),E=b>=0&&t[b];if(r&&!E||!r&&!(v>=0&&t[v])){Hv(Cp(l,s),o,c);const R=function ZG(e,n,t,i,r){const o=new sd(e,t,D);return o.multi=[],o.index=n,o.componentProviders=0,jA(o,r,i&&!t),o}(r?qG:WG,t.length,r,i,d);!r&&E&&(t[b].providerFactory=R),hb(o,e,n.length,0),n.push(c),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(R),s.push(R)}else hb(o,e,v>-1?v:b,jA(t[r?b:v],d,!r&&i));!r&&i&&E&&t[b].componentProviders++}}}function hb(e,n,t,i){const r=Oa(n),o=function Uj(e){return!!e.useClass}(n);if(r||o){const c=(o?he(n.useClass):n).prototype.ngOnDestroy;if(c){const d=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){const f=d.indexOf(t);-1===f?d.push(t,[i,c]):d[f+1].push(i,c)}else d.push(t,c)}}}function jA(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function fb(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function WG(e,n,t,i){return pb(this.multi,[])}function qG(e,n,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=Na(t,t[ee],this.providerFactory.index,i);o=l.slice(0,s),pb(r,o);for(let c=s;c<l.length;c++)o.push(l[c])}else o=[],pb(r,o);return o}function pb(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function It(e,n=[]){return t=>{t.providersResolver=(i,r)=>function zG(e,n,t){const i=Qe();if(i.firstCreatePass){const r=Ir(e);db(t,i.data,i.blueprint,r,!0),db(n,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,n)}}class Va{}class HA{}class gb extends Va{constructor(n,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KS(this);const r=ti(n);this._bootstrapComponents=Vo(r.bootstrap),this._r3Injector=cS(n,t,[{provide:Va,useValue:this},{provide:Jp,useValue:this.componentFactoryResolver},...i],Et(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class _b extends HA{constructor(n){super(),this.moduleType=n}create(n){return new gb(this.moduleType,n,[])}}class $A extends Va{constructor(n){super(),this.componentFactoryResolver=new KS(this),this.instance=null;const t=new Ec([...n.providers,{provide:Va,useValue:this},{provide:Jp,useValue:this.componentFactoryResolver}],n.parent||zp(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function mb(e,n,t=null){return new $A({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let QG=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=WI(0,t.type),r=i.length>0?mb([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(Q(Ii))})}return e})();function dr(e){e.getStandaloneInjector=n=>n.get(QG).getOrCreateStandaloneInjector(e)}function vg(e,n,t){const i=fi()+e,r=F();return r[i]===Ee?Xr(r,i,t?n.call(t):n()):function Nd(e,n){return e[n]}(r,i)}function io(e,n,t,i){return KA(F(),fi(),e,n,t,i)}function zd(e,n){const t=e[n];return t===Ee?void 0:t}function KA(e,n,t,i,r,o){const s=n+t;return ri(e,s,r)?Xr(e,s+1,o?i.call(o,r):i(r)):zd(e,s+1)}function QA(e,n,t,i,r,o,s){const l=n+t;return function ka(e,n,t,i){const r=ri(e,n,t);return ri(e,n+1,i)||r}(e,l,r,o)?Xr(e,l+2,s?i.call(s,r,o):i(r,o)):zd(e,l+2)}function ro(e,n){const t=Qe();let i;const r=e+Pe;t.firstCreatePass?(i=function hz(e,n){if(n)for(let t=n.length-1;t>=0;t--){const i=n[t];if(e===i.name)return i}}(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Ma(i.type)),l=Un(D);try{const c=wp(!1),d=o();return wp(c),function J$(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}(t,F(),r,d),d}finally{Un(l)}}function bb(e,n,t){const i=e+Pe,r=F(),o=ac(r,i);return Wd(r,i)?KA(r,fi(),n,o.transform,t,o):o.transform(t)}function xs(e,n,t,i){const r=e+Pe,o=F(),s=ac(o,r);return Wd(o,r)?QA(o,fi(),n,s.transform,t,i,s):s.transform(t,i)}function Wd(e,n){return e[ee].data[n].pure}function _z(){return this._results[Symbol.iterator]()}class wb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ce)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=wb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_z)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const i=this;i.dirty=!1;const r=function sr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function fU(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vz(e,n,t,i=!0){const r=n[ee];if(function nj(e,n,t,i){const r=Dn+i,o=t.length;i>0&&(t[r-1][Vi]=n),i<o-Dn?(n[Vi]=t[r],qT(t,Dn+i,n)):(t.push(n),n[Vi]=null),n[Tt]=t;const s=n[ue];null!==s&&t!==s&&function ij(e,n){const t=e[Es];n[$]!==n[Tt][Tt][$]&&(e[id]=!0),null===t?e[Es]=[n]:t.push(n)}(s,n);const l=n[xt];null!==l&&l.insertView(e),n[Ce]|=128}(r,n,e,t),i){const o=sy(t,e),s=n[w],l=Fp(s,e[ct]);null!==l&&function XU(e,n,t,i,r,o){i[Ut]=r,i[u]=n,_d(e,i,t,1,r,o)}(r,e[u],s,n,l,o)}}let Xt=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=wz}return e})();const yz=Xt,bz=class extends yz{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){const r=function mz(e,n,t,i){const r=n.tView,l=ng(e,r,t,4096&e[Ce]?4096:16,null,n,null,null,null,i?.injector??null,i?.hydrationInfo??null);l[ue]=e[n.index];const d=e[xt];return null!==d&&(l[xt]=d.createEmbeddedView(r)),Yy(r,l,t),l}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:i});return new Sd(r)}};function wz(){return yg(zn(),F())}function yg(e,n){return 4&e.type?new bz(n,e,Mc(e,n)):null}let hr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Sz}return e})();function Sz(){return aN(zn(),F())}const Mz=hr,oN=class extends Mz{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new gi(this._hostTNode,this._hostLView)}get parentInjector(){const n=Dp(this._hostTNode,this._hostLView);if(Vv(n)){const t=ld(n,this._hostLView),i=ad(n);return new gi(t[ee].data[i+8],t)}return new gi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=sN(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Dn}createEmbeddedView(n,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const l=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(l,r,false),l}createComponent(n,t,i,r,o){const s=n&&!function ud(e){return"function"==typeof e}(n);let l;if(s)l=t;else{const C=t||{};l=C.index,i=C.injector,r=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const c=s?n:new Md($e(n)),d=i||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?d:this.parentInjector).get(Ii,null);E&&(o=E)}$e(c.componentType??{});const v=c.create(d,r,null,o);return this.insertImpl(v.hostView,l,false),v}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,i){const r=n._lView;if(function SV(e){return Hn(e[Tt])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const d=r[Tt],f=new oN(d,d[u],d[Tt]);f.detach(f.indexOf(n))}}const s=this._adjustIndex(t),l=this._lContainer;return vz(l,r,s,!i),n.attachToViewContainerRef(),qT(Cb(l),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=sN(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),i=Lp(this._lContainer,t);i&&(Tp(Cb(this._lContainer),t),ny(i[ee],i))}detach(n){const t=this._adjustIndex(n,-1),i=Lp(this._lContainer,t);return i&&null!=Tp(Cb(this._lContainer),t)?new Sd(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function sN(e){return e[8]}function Cb(e){return e[8]||(e[8]=[])}function aN(e,n){let t;const i=n[e.index];return Hn(i)?t=i:(t=BS(i,n,null,e),n[e.index]=t,ig(n,t)),lN(t,n,e,i),new oN(t,e,n)}let lN=function cN(e,n,t,i){if(e[ct])return;let r;r=8&t.type?Rt(i):function Az(e,n){const t=e[w],i=t.createComment(""),r=Ei(n,e);return Ra(t,Fp(t,r),i,function aj(e,n){return e.nextSibling(n)}(t,r),!1),i}(n,t),e[ct]=r};class Db{constructor(n){this.queryList=n,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eb{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const i=null!==n.contentQueries?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Eb(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==pN(n,t).matches&&this.queries[t].setDirty()}}class uN{constructor(n,t,i=null){this.predicate=n,this.flags=t,this.read=i}}class Tb{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new Tb(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ib{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Ib(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(n,t,Rz(t,o)),this.matchTNodeWithReadOption(n,t,Ep(t,n,o,!1,!1))}else i===Xt?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ep(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ft||r===hr||r===Xt&&4&t.type)this.addMatch(t.index,-2);else{const o=Ep(t,n,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function Rz(e,n){const t=e.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1];return null}function Pz(e,n,t,i){return-1===t?function Oz(e,n){return 11&e.type?Mc(e,n):4&e.type?yg(e,n):null}(n,e):-2===t?function kz(e,n,t){return t===ft?Mc(n,e):t===Xt?yg(n,e):t===hr?aN(n,e):void 0}(e,n,i):Na(e,e[ee],t,n)}function dN(e,n,t,i){const r=n[xt].queries[i];if(null===r.matches){const o=e.data,s=t.matches,l=[];for(let c=0;c<s.length;c+=2){const d=s[c];l.push(d<0?null:Pz(n,o[d],s[c+1],t.metadata.read))}r.matches=l}return r.matches}function Sb(e,n,t,i){const r=e.queries.getByIndex(t),o=r.matches;if(null!==o){const s=dN(e,n,r,t);for(let l=0;l<o.length;l+=2){const c=o[l];if(c>0)i.push(s[l/2]);else{const d=o[l+1],f=n[-c];for(let g=Dn;g<f.length;g++){const _=f[g];_[ue]===_[Tt]&&Sb(_[ee],_,d,i)}if(null!==f[Es]){const g=f[Es];for(let _=0;_<g.length;_++){const v=g[_];Sb(v[ee],v,d,i)}}}}}return i}function mt(e){const n=F(),t=Qe(),i=IT();Pv(i+1);const r=pN(t,i);if(e.dirty&&function TV(e){return 4==(4&e[Ce])}(n)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?Sb(t,n,i,[]):dN(t,n,r,i);e.reset(o,aH),e.notifyOnChanges()}return!0}return!1}function Ua(e,n,t){const i=Qe();i.firstCreatePass&&(function fN(e,n,t){null===e.queries&&(e.queries=new Tb),e.queries.track(new Ib(n,t))}(i,new uN(e,n,t),-1),2==(2&n)&&(i.staticViewQueries=!0)),function hN(e,n,t){const i=new wb(4==(4&t));(function UH(e,n,t,i){const r=US(n);r.push(t),e.firstCreatePass&&jS(e).push(i,r.length-1)})(e,n,i,i.destroy),null===n[xt]&&(n[xt]=new Eb),n[xt].queries.push(new Db(i))}(i,F(),n)}function pN(e,n){return e.queries.getByIndex(n)}const Ob=new oe("Application Initializer");let Pb=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Y(Ob,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Pd(o))t.push(o);else if(bM(o)){const s=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xN=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const fr=new oe("LocaleId",{providedIn:"root",factory:()=>Y(fr,Oe.Optional|Oe.SkipSelf)||function r8(){return typeof $localize<"u"&&$localize.locale||zc}()}),o8=new oe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let RN=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class a8{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let ON=(()=>{class e{compileModuleSync(t){return new _b(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=Vo(ti(t).declarations).reduce((s,l)=>{const c=$e(l);return c&&s.push(new Md(c)),s},[]);return new a8(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const FN=new oe(""),Dg=new oe("");let Vb,Fb=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vb||(function A8(e){Vb=e}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Be),Q(Bb),Q(Dg))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})(),Bb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Vb?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Rs=null;const BN=new oe("AllowMultipleToken"),Ub=new oe("PlatformDestroyListeners"),jb=new oe("appBootstrapListener");class UN{constructor(n,t){this.name=n,this.token=t}}function HN(e,n,t=[]){const i=`Platform: ${n}`,r=new oe(i);return(o=[])=>{let s=Hb();if(!s||s.injector.get(BN,!1)){const l=[...t,...o,{provide:r,useValue:!0}];e?e(l):function R8(e){if(Rs&&!Rs.get(BN,!1))throw new V(400,!1);(function VN(){!function hV(e){oT=e}(()=>{throw new V(600,!1)})})(),Rs=e;const n=e.get(GN);(function jN(e){e.get(QI,null)?.forEach(t=>t())})(e)}(function $N(e=[],n){return Tn.create({name:n,providers:[{provide:vy,useValue:"platform"},{provide:Ub,useValue:new Set([()=>Rs=null])},...e]})}(l,i))}return function P8(e){const n=Hb();if(!n)throw new V(401,!1);return n}()}}function Hb(){return Rs?.get(GN)??null}let GN=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function k8(e="zone.js",n){return"noop"===e?new CH:"zone.js"===e?new Be(n):e}(i?.ngZone,function zN(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function KG(e,n,t){return new gb(e,n,t)}(t.moduleType,this.injector,function KN(e){return[{provide:Be,useFactory:e},{provide:wd,multi:!0,useFactory:()=>{const n=Y(F8,{optional:!0});return()=>n.initialize()}},{provide:YN,useFactory:L8},{provide:pS,useFactory:gS}]}(()=>r)),s=o.injector.get(Bo,null);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Eg(this._modules,o),l.unsubscribe()})}),function WN(e,n,t){try{const i=t();return Pd(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}(s,r,()=>{const l=o.injector.get(Pb);return l.runInitializers(),l.donePromise.then(()=>(function mA(e){ei(e,"Expected localeId to be defined"),"string"==typeof e&&(_A=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(fr,zc)||zc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=qN({},i);return function N8(e,n,t){const i=new _b(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Os);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new V(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Ub,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Tn))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function qN(e,n){return Array.isArray(n)?n.reduce(qN,e):{...e,...n}}let Os=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(YN),this.zoneIsStable=Y(pS),this.componentTypes=[],this.components=[],this.isStable=Y(RN).hasPendingTasks.pipe(Gt(t=>t?ne(!1):this.zoneIsStable),function Gf(e,n=At){return e=e??Hl,Je((t,i)=>{let r,o=!0;t.subscribe(Ge(i,s=>{const l=n(s);(o||!e(r,l))&&(o=!1,r=l,i.next(s))}))})}(),jl()),this._injector=Y(Ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof nS;if(!this._injector.get(Pb).done)throw!r&&function Oo(e){const n=$e(e)||ln(e)||hn(e);return null!==n&&n.standalone}(t),new V(405,!1);let s;s=r?t:this._injector.get(Jp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const l=function x8(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Va),d=s.create(Tn.NULL,[],i||s.selector,l),f=d.location.nativeElement,g=d.injector.get(FN,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Eg(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Eg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(jb,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Eg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Eg(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const YN=new oe("",{providedIn:"root",factory:()=>Y(Bo).handleError.bind(void 0)});function L8(){const e=Y(Be),n=Y(Bo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let F8=(()=>{class e{constructor(){this.zone=Y(Be),this.applicationRef=Y(Os)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Nr=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=V8}return e})();function V8(e){return function U8(e,n,t){if(Sa(e)&&!t){const i=Ui(e.index,n);return new Sd(i,i)}return 47&e.type?new Sd(n[$],n):null}(zn(),F(),16==(16&e))}class ex{constructor(){}supports(n){return ag(n)}create(n){return new W8(n)}}const z8=(e,n)=>n;class W8{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||z8}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<nx(i,r,o)?t:i,l=nx(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const d=l-r,f=c-r;if(d!=f){for(let _=0;_<d;_++){const v=_<o.length?o[_]:o[_]=0,b=v+_;f<=b&&b<d&&(o[_]=v+1)}o[s.previousIndex]=f-d}}l!==c&&n(s,l,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ag(n))throw new V(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)o=n[l],s=this._trackByFn(l,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,l),i=!0),t=t._next}else r=0,function x$(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let i;for(;!(i=t.next()).done;)n(i.value)}}(n,l=>{s=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,l,s,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new q8(t,i),o,r),n}_verifyReinsertion(n,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,o=n._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){const r=null===t?this._itHead:t._next;return n._next=r,n._prev=t,null===r?this._itTail=n:r._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new tx),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,i=n._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tx),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class q8{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Z8{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const t=n._prevDup,i=n._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class tx{constructor(){this.map=new Map}put(n){const t=n.trackById;let i=this.map.get(t);i||(i=new Z8,this.map.set(t,i)),i.add(n)}get(n,t){const r=this.map.get(n);return r?r.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nx(e,n,t){const i=e.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}class ix{constructor(){}supports(n){return n instanceof Map||Ky(n)}create(){return new Y8}}class Y8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Ky(n)))throw new V(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const i=n._prev;return t._next=n,t._prev=i,n._prev=t,i&&(i._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new K8(n);return this._records.set(n,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(i=>t(n[i],i))}}class K8{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rx(){return new Sg([new ex])}let Sg=(()=>{class e{static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:rx});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||rx()),deps:[[e,new Sp,new ar]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new V(901,!1)}}return e})();function ox(){return new Yd([new ix])}let Yd=(()=>{class e{static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:ox});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||ox()),deps:[[e,new Sp,new ar]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new V(901,!1)}}return e})();const X8=HN(null,"core",[]);let eW=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Os))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();function Zc(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Zb(e,n){const t=$e(e),i=n.elementInjector||zp();return new Md(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}let Yb=null;function Ps(){return Yb}class pW{}const Sn=new oe("DocumentToken");let Kb=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return Y(_W)},providedIn:"platform"})}return e})();const gW=new oe("Location Initialized");let _W=(()=>{class e extends Kb{constructor(){super(),this._doc=Y(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(t){const i=Ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ps().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Qb(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function px(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function jo(e){return e&&"?"!==e[0]?"?"+e:e}let Ha=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return Y(_x)},providedIn:"root"})}return e})();const gx=new oe("appBaseHref");let _x=(()=>{class e extends Ha{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Y(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qb(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+jo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+jo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+jo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Kb),Q(gx,8))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mW=(()=>{class e extends Ha{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Qb(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+jo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+jo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Kb),Q(gx,8))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})(),Jb=(()=>{class e{constructor(t){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function bW(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(px(mx(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+jo(i))}normalize(t){return e.stripTrailingSlash(function yW(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,mx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=jo;static#t=this.joinWithSlash=Qb;static#n=this.stripTrailingSlash=px;static#i=this.\u0275fac=function(i){return new(i||e)(Q(Ha))};static#r=this.\u0275prov=Z({token:e,factory:function(){return function vW(){return new Jb(Q(Ha))}()},providedIn:"root"})}return e})();function mx(e){return e.replace(/\/index.html$/,"")}const vx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ag=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Ag||{}),pn=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(pn||{});function pr(e,n){const t=_i(e),i=t[Ot.NumberSymbols][n];if(typeof i>"u"){if(n===pn.CurrencyDecimal)return t[Ot.NumberSymbols][pn.Decimal];if(n===pn.CurrencyGroup)return t[Ot.NumberSymbols][pn.Group]}return i}function e0(e,n){return _i(e)[Ot.NumberFormats][n]}const GW=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Tx=22,Bg=".",Qd="0",zW=";",WW=",",o0="#";function s0(e,n,t,i,r,o,s=!1){let l="",c=!1;if(isFinite(e)){let d=function JW(e){let i,r,o,s,l,n=Math.abs(e)+"",t=0;for((r=n.indexOf(Bg))>-1&&(n=n.replace(Bg,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Qd;o++);if(o===(l=n.length))i=[0],r=1;else{for(l--;n.charAt(l)===Qd;)l--;for(r-=o,i=[],s=0;o<=l;o++,s++)i[s]=Number(n.charAt(o))}return r>Tx&&(i=i.splice(0,Tx-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}(e);s&&(d=function QW(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(d));let f=n.minInt,g=n.minFrac,_=n.maxFrac;if(o){const I=o.match(GW);if(null===I)throw new Error(`${o} is not a valid digit info`);const G=I[1],H=I[3],te=I[5];null!=G&&(f=l0(G)),null!=H&&(g=l0(H)),null!=te?_=l0(te):null!=H&&g>_&&(_=g)}!function XW(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let i=e.digits,r=i.length-e.integerLen;const o=Math.min(Math.max(n,r),t);let s=o+e.integerLen,l=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let g=s;g<i.length;g++)i[g]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let g=1;g<s;g++)i[g]=0}if(l>=5)if(s-1<0){for(let g=0;g>s;g--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let c=0!==o;const d=n+e.integerLen,f=i.reduceRight(function(g,_,v,b){return b[v]=(_+=g)<10?_:_-10,c&&(0===b[v]&&v>=d?b.pop():c=!1),_>=10?1:0},0);f&&(i.unshift(f),e.integerLen++)}(d,g,_);let v=d.digits,b=d.integerLen;const C=d.exponent;let E=[];for(c=v.every(I=>!I);b<f;b++)v.unshift(0);for(;b<0;b++)v.unshift(0);b>0?E=v.splice(b,v.length):(E=v,v=[0]);const R=[];for(v.length>=n.lgSize&&R.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)R.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&R.unshift(v.join("")),l=R.join(pr(t,i)),E.length&&(l+=pr(t,r)+E.join("")),C&&(l+=pr(t,pn.Exponential)+"+"+C)}else l=pr(t,pn.Infinity);return l=e<0&&!c?n.negPre+l+n.negSuf:n.posPre+l+n.posSuf,l}function a0(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(zW),r=i[0],o=i[1],s=-1!==r.indexOf(Bg)?r.split(Bg):[r.substring(0,r.lastIndexOf(Qd)+1),r.substring(r.lastIndexOf(Qd)+1)],l=s[0],c=s[1]||"";t.posPre=l.substring(0,l.indexOf(o0));for(let f=0;f<c.length;f++){const g=c.charAt(f);g===Qd?t.minFrac=t.maxFrac=f+1:g===o0?t.maxFrac=f+1:t.posSuf+=g}const d=l.split(WW);if(t.gSize=d[1]?d[1].length:0,t.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){const f=r.length-t.posPre.length-t.posSuf.length,g=o.indexOf(o0);t.negPre=o.substring(0,g).replace(/'/g,""),t.negSuf=o.slice(g+f).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function l0(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}const u0=/\s+/,Mx=[];let Ax=(()=>{class e{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Mx,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(u0):Mx}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(u0):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(u0).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||e)(D(Sg),D(Yd),D(ft),D(Hi))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class r4{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oo=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new r4(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const l=i.get(o);i.move(l,s),xx(l,r)}});for(let r=0,o=i.length;r<o;r++){const l=i.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{xx(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(hr),D(Xt),D(Sg))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function xx(e,n){e.context.$implicit=n.item}let ks=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new o4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Rx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Rx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||e)(D(hr),D(Xt))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class o4{constructor(){this.$implicit=null,this.ngIf=null}}function Rx(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Et(n)}'.`)}function Rr(e,n){return new V(2100,!1)}let f0=(()=>{class e{constructor(t){this._locale=t}transform(t,i,r){if(!g0(t))return null;r=r||this._locale;try{return function YW(e,n,t){return s0(e,a0(e0(n,Ag.Percent),pr(n,pn.MinusSign)),n,pn.Group,pn.Decimal,t,!0).replace(new RegExp("%","g"),pr(n,pn.PercentSign))}(_0(t),r,i)}catch(o){throw Rr()}}static#e=this.\u0275fac=function(i){return new(i||e)(D(fr,16))};static#t=this.\u0275pipe=mn({name:"percent",type:e,pure:!0,standalone:!0})}return e})(),p0=(()=>{class e{constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,s){if(!g0(t))return null;s=s||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let l=i||this._defaultCurrencyCode;"code"!==r&&(l="symbol"===r||"symbol-narrow"===r?function AW(e,n,t="en"){const i=function TW(e){return _i(e)[Ot.Currencies]}(t)[e]||vx[e]||[],r=i[1];return"narrow"===n&&"string"==typeof r?r:i[0]||e}(l,"symbol"===r?"wide":"narrow",s):r);try{return function ZW(e,n,t,i,r){const s=a0(e0(n,Ag.Currency),pr(n,pn.MinusSign));return s.minFrac=function xW(e){let n;const t=vx[e];return t&&(n=t[2]),"number"==typeof n?n:2}(i),s.maxFrac=s.minFrac,s0(e,s,n,pn.CurrencyGroup,pn.CurrencyDecimal,r).replace("\xa4",t).replace("\xa4","").trim()}(_0(t),s,l,i,o)}catch(c){throw Rr()}}static#e=this.\u0275fac=function(i){return new(i||e)(D(fr,16),D(o8,16))};static#t=this.\u0275pipe=mn({name:"currency",type:e,pure:!0,standalone:!0})}return e})();function g0(e){return!(null==e||""===e||e!=e)}function _0(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let N4=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();function Lx(e){return"server"===e}let P4=(()=>{class e{static#e=this.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new k4(Q(Sn),window)})}return e})();class k4{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function L4(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class s5 extends pW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class y0 extends s5{static makeCurrent(){!function fW(e){Yb||(Yb=e)}(new y0)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function a5(){return Xd=Xd||document.querySelector("base"),Xd?Xd.getAttribute("href"):null}();return null==t?null:function l5(e){jg=jg||document.createElement("a"),jg.setAttribute("href",e);const n=jg.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Xd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function n4(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let jg,Xd=null,u5=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();const b0=new oe("EventManagerPlugins");let jx=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new V(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||e)(Q(b0),Q(Be))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();class Hx{constructor(n){this._doc=n}}const w0="ng-app-id";let $x=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lx(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${w0}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(w0),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(w0,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Sn),Q(Wp),Q(JI,8),Q(Pa))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();const C0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},D0=/%COMP%/g,p5=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function zx(e,n){return n.map(t=>t.replace(D0,e))}let Wx=(()=>{class e{constructor(t,i,r,o,s,l,c,d=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Lx(l),this.defaultRenderer=new E0(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===di.ShadowDom&&(i={...i,encapsulation:di.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Zx?r.applyToHost(t):r instanceof T0&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case di.Emulated:o=new Zx(c,d,i,this.appId,f,s,l,g);break;case di.ShadowDom:return new v5(c,d,t,i,s,l,this.nonce,g);default:o=new T0(c,d,i,f,s,l,g)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||e)(Q(jx),Q($x),Q(Wp),Q(p5),Q(Sn),Q(Pa),Q(Be),Q(JI))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();class E0{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(C0[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(qx(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(qx(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new V(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;const o=C0[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const r=C0[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Ms.DashCase|Ms.Important)?n.style.setProperty(t,i,r&Ms.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Ms.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=Ps().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function qx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class v5 extends E0{constructor(n,t,i,r,o,s,l,c){super(n,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=zx(r.id,r.styles);for(const f of d){const g=document.createElement("style");l&&g.setAttribute("nonce",l),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class T0 extends E0{constructor(n,t,i,r,o,s,l,c){super(n,o,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?zx(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Zx extends T0{constructor(n,t,i,r,o,s,l,c){const d=r+"-"+i.id;super(n,t,i,o,s,l,c,d),this.contentAttr=function g5(e){return"_ngcontent-%COMP%".replace(D0,e)}(d),this.hostAttr=function _5(e){return"_nghost-%COMP%".replace(D0,e)}(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let y5=(()=>{class e extends Hx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Sn))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();const Yx=["alt","control","meta","shift"],b5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},w5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let C5=(()=>{class e extends Hx{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,r){const o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=e._normalizeKey(i.pop());let s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),Yx.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),s+=d+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=b5[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yx.forEach(s=>{s!==r&&(0,w5[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Sn))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();const Qx=[{provide:Pa,useValue:"browser"},{provide:QI,useValue:function D5(){y0.makeCurrent()},multi:!0},{provide:Sn,useFactory:function T5(){return function gj(e){cy=e}(document),document},deps:[]}],I5=HN(X8,"browser",Qx),S5=new oe(""),Jx=[{provide:Dg,useClass:class c5{addToWindow(n){Ct.getAngularTestability=(i,r=!0)=>{const o=n.findTestabilityInTree(i,r);if(null==o)throw new V(5103,!1);return o},Ct.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ct.getAllAngularRootElements=()=>n.getAllRootElements(),Ct.frameworkStabilizers||(Ct.frameworkStabilizers=[]),Ct.frameworkStabilizers.push(i=>{const r=Ct.getAllAngularTestabilities();let o=r.length,s=!1;const l=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(l)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?Ps().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:FN,useClass:Fb,deps:[Be,Bb,Dg]},{provide:Fb,useClass:Fb,deps:[Be,Bb,Dg]}],Xx=[{provide:vy,useValue:"root"},{provide:Bo,useFactory:function E5(){return new Bo},deps:[]},{provide:b0,useClass:y5,multi:!0,deps:[Sn,Be,Pa]},{provide:b0,useClass:C5,multi:!0,deps:[Sn]},Wx,$x,jx,{provide:Ry,useExisting:Wx},{provide:class F4{},useClass:u5,deps:[]},[]];let M5=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Wp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Q(S5,12))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({providers:[...Xx,...Jx],imports:[N4,eW]})}return e})(),eR=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Sn))};static#t=this.\u0275prov=Z({token:e,factory:function(i){let r=null;return r=i?new i:function N5(){return new eR(Q(Sn))}(),r},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:k5}=Array,{getPrototypeOf:L5,prototype:F5,keys:B5}=Object;function rR(e){if(1===e.length){const n=e[0];if(k5(n))return{args:n,keys:null};if(function V5(e){return e&&"object"==typeof e&&L5(e)===F5}(n)){const t=B5(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}const{isArray:U5}=Array;function S0(e){return Re(n=>function j5(e,n){return U5(n)?e(...n):e(n)}(e,n))}function oR(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}let sR=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Hi),D(ft))};static#t=this.\u0275dir=K({type:e})}return e})(),$a=(()=>{class e extends sR{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=fn(e)))(r||e)}}();static#t=this.\u0275dir=K({type:e,features:[pt]})}return e})();const _r=new oe("NgValueAccessor"),G5={provide:_r,useExisting:Ae(()=>Hg),multi:!0},W5=new oe("CompositionEventMode");let Hg=(()=>{class e extends sR{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function z5(){const e=Ps()?Ps().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Hi),D(ft),D(W5,8))};static#t=this.\u0275dir=K({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&re("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[It([G5]),pt]})}return e})();const qn=new oe("NgValidators"),Bs=new oe("NgAsyncValidators");function mR(e){return null!=e}function vR(e){return Pd(e)?Bt(e):e}function yR(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function bR(e,n){return n.map(t=>t(e))}function wR(e){return e.map(n=>function Z5(e){return!e.validate}(n)?n:t=>n.validate(t))}function M0(e){return null!=e?function CR(e){if(!e)return null;const n=e.filter(mR);return 0==n.length?null:function(t){return yR(bR(t,n))}}(wR(e)):null}function A0(e){return null!=e?function DR(e){if(!e)return null;const n=e.filter(mR);return 0==n.length?null:function(t){return function H5(...e){const n=Bl(e),{args:t,keys:i}=rR(e),r=new Ze(o=>{const{length:s}=t;if(!s)return void o.complete();const l=new Array(s);let c=s,d=s;for(let f=0;f<s;f++){let g=!1;an(t[f]).subscribe(Ge(o,_=>{g||(g=!0,d--),l[f]=_},()=>c--,void 0,()=>{(!c||!g)&&(d||o.next(i?oR(i,l):l),o.complete())}))}});return n?r.pipe(S0(n)):r}(bR(t,n).map(vR)).pipe(Re(yR))}}(wR(e)):null}function ER(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function N0(e){return e?Array.isArray(e)?e:[e]:[]}function Gg(e,n){return Array.isArray(e)?e.includes(n):e===n}function SR(e,n){const t=N0(n);return N0(e).forEach(r=>{Gg(t,r)||t.push(r)}),t}function MR(e,n){return N0(n).filter(t=>!Gg(e,t))}class AR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=M0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=A0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class vi extends AR{get formDirective(){return null}get path(){return null}}class Vs extends AR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NR{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xR=(()=>{class e extends NR{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||e)(D(Vs,2))};static#t=this.\u0275dir=K({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&rt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}return e})();const eh="VALID",Wg="INVALID",Qc="PENDING",th="DISABLED";function qg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class kR{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===Wg}get pending(){return this.status==Qc}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(SR(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(SR(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(MR(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(MR(n,this._rawAsyncValidators))}hasValidator(n){return Gg(this._rawValidators,n)}hasAsyncValidator(n){return Gg(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Qc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=th,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=eh,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===Qc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Qc,this._hasOwnPendingAsyncValidator=!0;const t=vR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qc)?Qc:this._anyControlsHaveStatus(Wg)?Wg:eh}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){qg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function X5(e){return Array.isArray(e)?M0(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function e6(e){return Array.isArray(e)?A0(e):e||null}(this._rawAsyncValidators)}}const Jc=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Zg}),Zg="always";function nh(e,n,t=Zg){(function L0(e,n){const t=function TR(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(ER(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function IR(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(ER(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();Qg(n._rawValidators,r),Qg(n._rawAsyncValidators,r)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function i6(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&LR(e,n)})}(e,n),function o6(e,n){const t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function r6(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&LR(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function n6(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Qg(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function LR(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function VR(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function UR(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const jR=class extends kR{constructor(n=null,t,i){super(function O0(e){return(qg(e)?e.validators:e)||null}(t),function P0(e,n){return(qg(n)?n.asyncValidators:e)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=UR(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){VR(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){VR(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){UR(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},f6={provide:Vs,useExisting:Ae(()=>j0)},GR=(()=>Promise.resolve())();let j0=(()=>{class e extends Vs{constructor(t,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new jR,this._registered=!1,this.name="",this.update=new ce,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function V0(e,n){if(!n)return null;let t,i,r;return Array.isArray(n),n.forEach(o=>{o.constructor===Hg?t=o:function l6(e){return Object.getPrototypeOf(e.constructor)===$a}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function B0(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){GR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Zc(i);GR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Yg(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||e)(D(vi,9),D(qn,10),D(Bs,10),D(_r,10),D(Nr,8),D(Jc,8))};static#t=this.\u0275dir=K({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[It([f6]),pt,Gn]})}return e})();const g6={provide:_r,useExisting:Ae(()=>H0),multi:!0};let H0=(()=>{class e extends $a{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=fn(e)))(r||e)}}();static#t=this.\u0275dir=K({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&re("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[It([g6]),pt]})}return e})(),zR=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();const E6={provide:_r,useExisting:Ae(()=>Xg),multi:!0};function JR(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Xg=(()=>{class e extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=JR(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function T6(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=fn(e)))(r||e)}}();static#t=this.\u0275dir=K({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&re("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([E6]),pt]})}return e})(),XR=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(JR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(D(ft),D(Hi),D(Xg,9))};static#t=this.\u0275dir=K({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const I6={provide:_r,useExisting:Ae(()=>W0),multi:!0};function eO(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let W0=(()=>{class e extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let l=0;l<s.length;l++){const d=this._getOptionValue(s[l].value);r.push(d)}}else{const s=i.options;for(let l=0;l<s.length;l++){const c=s[l];if(c.selected){const d=this._getOptionValue(c.value);r.push(d)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function S6(e){return e.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=fn(e)))(r||e)}}();static#t=this.\u0275dir=K({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&re("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[It([I6]),pt]})}return e})(),tO=(()=>{class e{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(eO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(i){return new(i||e)(D(ft),D(Hi),D(W0,9))};static#t=this.\u0275dir=K({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),L6=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({imports:[zR]})}return e})(),B6=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Jc,useValue:t.callSetDisabledState??Zg}]}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({imports:[L6]})}return e})();const gn=void 0,U6=["fr",[["AM","PM"],gn,gn],gn,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],gn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],gn,[["av. J.-C.","ap. J.-C."],gn,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",gn],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[gn,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[gn,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[gn,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[gn,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[gn,"\xa5"],KMF:[gn,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[gn,"$C"],NZD:["$NZ","$"],PHP:[gn,"\u20b1"],RHD:["$RH"],RON:[gn,"L"],RWF:[gn,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[gn,"$T"],TTD:["$TT","$"],TWD:[gn,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[gn,"$"],XPF:["FCFP"],ZMW:[gn,"Kw"]},"ltr",function V6(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===t||1===t?1:0===r&&0!==t&&t%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}];function Z0(...e){const n=da(e),t=Bl(e),{args:i,keys:r}=rR(e);if(0===i.length)return Bt([],n);const o=new Ze(function H6(e,n,t=At){return i=>{dO(n,()=>{const{length:r}=e,o=new Array(r);let s=r,l=r;for(let c=0;c<r;c++)dO(n,()=>{const d=Bt(e[c],n);let f=!1;d.subscribe(Ge(i,g=>{o[c]=g,f||(f=!0,l--),l||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,n,r?s=>oR(r,s):At));return t?o.pipe(S0(t)):o}function dO(e,n,t){e?Dr(t,e,n):n()}const e_=Fe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function rh(...e){return function $6(){return ds(1)}()(Bt(e,da(e)))}function hO(e){return new Ze(n=>{an(e()).subscribe(n)})}function oh(e,n){const t=Ne(e)?e:()=>e,i=r=>r.error(t());return new Ze(n?r=>n.schedule(i,0,r):i)}function Y0(){return Je((e,n)=>{let t=null;e._refCount++;const i=Ge(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class fO extends Ze{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new rn;const t=this.getSubject();n.add(this.source.subscribe(Ge(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=rn.EMPTY)}return n}refCount(){return Y0()(this)}}function Zn(e){return e<=0?()=>li:Je((n,t)=>{let i=0;n.subscribe(Ge(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function Pn(e,n){return Je((t,i)=>{let r=0;t.subscribe(Ge(i,o=>e.call(n,o,r++)&&i.next(o)))})}function t_(e){return Je((n,t)=>{let i=!1;n.subscribe(Ge(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function gO(e=G6){return Je((n,t)=>{let i=!1;n.subscribe(Ge(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function G6(){return new e_}function za(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Pn((r,o)=>e(r,o,i)):At,Zn(1),t?t_(n):gO(()=>new e_))}function sh(e,n){return Ne(n)?dn(e,n,1):dn(e,1)}function Mn(e,n,t){const i=Ne(e)||n||t?{next:e,error:n,complete:t}:e;return i?Je((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let l=!0;r.subscribe(Ge(o,c=>{var d;null===(d=i.next)||void 0===d||d.call(i,c),o.next(c)},()=>{var c;l=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var d;l=!1,null===(d=i.error)||void 0===d||d.call(i,c),o.error(c)},()=>{var c,d;l&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):At}function Wa(e){return Je((n,t)=>{let o,i=null,r=!1;i=n.subscribe(Ge(t,void 0,void 0,s=>{o=an(e(s,Wa(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function K0(e){return e<=0?()=>li:Je((n,t)=>{let i=[];n.subscribe(Ge(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function _O(e){return Re(()=>e)}function Q0(e){return Je((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function un(e){return Je((n,t)=>{an(e).subscribe(Ge(t,()=>t.complete(),si)),!t.closed&&n.subscribe(t)})}const Me="primary",ah=Symbol("RouteTitle");class Z6{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xc(e){return new Z6(e)}function Y6(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],l=e[o];if(s.startsWith(":"))r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function so(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!mO(e[r],n[r]))return!1;return!0}function mO(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}return e===n}function vO(e){return e.length>0?e[e.length-1]:null}function Us(e){return function j6(e){return!!e&&(e instanceof Ze||Ne(e.lift)&&Ne(e.subscribe))}(e)?e:Pd(e)?Bt(Promise.resolve(e)):ne(e)}const Q6={exact:function wO(e,n,t){if(!qa(e.segments,n.segments)||!n_(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!wO(e.children[i],n.children[i],t))return!1;return!0},subset:CO},yO={exact:function J6(e,n){return so(e,n)},subset:function X6(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>mO(e[t],n[t]))},ignored:()=>!0};function bO(e,n,t){return Q6[t.paths](e.root,n.root,t.matrixParams)&&yO[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function CO(e,n,t){return DO(e,n,n.segments,t)}function DO(e,n,t,i){if(e.segments.length>t.length){const r=e.segments.slice(0,t.length);return!(!qa(r,t)||n.hasChildren()||!n_(r,t,i))}if(e.segments.length===t.length){if(!qa(e.segments,t)||!n_(e.segments,t,i))return!1;for(const r in n.children)if(!e.children[r]||!CO(e.children[r],n.children[r],i))return!1;return!0}{const r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(qa(e.segments,r)&&n_(e.segments,r,i)&&e.children[Me])&&DO(e.children[Me],n,o,i)}}function n_(e,n,t){return n.every((i,r)=>yO[t](e[r].parameters,i.parameters))}class eu{constructor(n=new yt([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return nq.serialize(this)}}class yt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return i_(this)}}class lh{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return IO(this)}}function qa(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let ch=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return new J0},providedIn:"root"})}return e})();class J0{parse(n){const t=new fq(n);return new eu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${uh(n.root,!0)}`,i=function oq(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(r=>`${r_(t)}=${r_(r)}`).join("&"):`${r_(t)}=${r_(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function iq(e){return encodeURI(e)}(n.fragment)}`:""}`}}const nq=new J0;function i_(e){return e.segments.map(n=>IO(n)).join("/")}function uh(e,n){if(!e.hasChildren())return i_(e);if(n){const t=e.children[Me]?uh(e.children[Me],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Me&&i.push(`${r}:${uh(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function tq(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===Me&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Me&&(t=t.concat(n(r,i)))}),t}(e,(i,r)=>r===Me?[uh(e.children[Me],!1)]:[`${r}:${uh(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Me]?`${i_(e)}/${t[0]}`:`${i_(e)}/(${t.join("//")})`}}function EO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r_(e){return EO(e).replace(/%3B/gi,";")}function X0(e){return EO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function o_(e){return decodeURIComponent(e)}function TO(e){return o_(e.replace(/\+/g,"%20"))}function IO(e){return`${X0(e.path)}${function rq(e){return Object.keys(e).map(n=>`;${X0(n)}=${X0(e[n])}`).join("")}(e.parameters)}`}const sq=/^[^\/()?;#]+/;function ew(e){const n=e.match(sq);return n?n[0]:""}const aq=/^[^\/()?;=#]+/,cq=/^[^=?&#]+/,dq=/^[^&#]+/;class fq{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[Me]=new yt(n,t)),i}parseSegment(){const n=ew(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(n),new lh(o_(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function lq(e){const n=e.match(aq);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ew(this.remaining);r&&(i=r,this.capture(i))}n[o_(t)]=o_(i)}parseQueryParam(n){const t=function uq(e){const n=e.match(cq);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function hq(e){const n=e.match(dq);return n?n[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=TO(t),o=TO(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ew(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Me]:new yt([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new V(4011,!1)}}function SO(e){return e.segments.length>0?new yt([],{[Me]:e}):e}function MO(e){const n={};for(const i of Object.keys(e.children)){const o=MO(e.children[i]);if(i===Me&&0===o.segments.length&&o.hasChildren())for(const[s,l]of Object.entries(o.children))n[s]=l;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}return function pq(e){if(1===e.numberOfChildren&&e.children[Me]){const n=e.children[Me];return new yt(e.segments.concat(n.segments),n.children)}return e}(new yt(e.segments,n))}function Za(e){return e instanceof eu}function AO(e){let n;const r=SO(function t(o){const s={};for(const c of o.children){const d=t(c);s[c.outlet]=d}const l=new yt(o.url,s);return o===e&&(n=l),l}(e.root));return n??r}function NO(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(0===n.length)return tw(r,r,r,t,i);const o=function _q(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new RO(!0,0,e);let n=0,t=!1;const i=e.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Object.entries(o.outlets).forEach(([c,d])=>{l[c]="string"==typeof d?d.split("/"):d}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?t=!0:".."===l?n++:""!=l&&r.push(l))}),r):[...r,o]},[]);return new RO(t,n,i)}(n);if(o.toRoot())return tw(r,r,new yt([],{}),t,i);const s=function mq(e,n,t){if(e.isAbsolute)return new a_(n,!0,0);if(!t)return new a_(n,!1,NaN);if(null===t.parent)return new a_(t,!0,0);const i=s_(e.commands[0])?0:1;return function vq(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new a_(i,!1,r-o)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(o,r,e),l=s.processChildren?hh(s.segmentGroup,s.index,o.commands):OO(s.segmentGroup,s.index,o.commands);return tw(r,s.segmentGroup,l,t,i)}function s_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function dh(e){return"object"==typeof e&&null!=e&&e.outlets}function tw(e,n,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=e===n?t:xO(e,n,t);const l=SO(MO(s));return new eu(l,o,r)}function xO(e,n,t){const i={};return Object.entries(e.children).forEach(([r,o])=>{i[r]=o===n?t:xO(o,n,t)}),new yt(e.segments,i)}class RO{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&s_(i[0]))throw new V(4003,!1);const r=i.find(dh);if(r&&r!==vO(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a_{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function OO(e,n,t){if(e||(e=new yt([],{})),0===e.segments.length&&e.hasChildren())return hh(e,n,t);const i=function bq(e,n,t){let i=0,r=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;const s=e.segments[r],l=t[i];if(dh(l))break;const c=`${l}`,d=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&d&&"object"==typeof d&&void 0===d.outlets){if(!kO(c,d,s))return o;i+=2}else{if(!kO(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new yt(e.segments.slice(0,i.pathIndex),{});return o.children[Me]=new yt(e.segments.slice(i.pathIndex),e.children),hh(o,0,r)}return i.match&&0===r.length?new yt(e.segments,{}):i.match&&!e.hasChildren()?nw(e,n,t):i.match?hh(e,0,r):nw(e,n,t)}function hh(e,n,t){if(0===t.length)return new yt(e.segments,{});{const i=function yq(e){return dh(e[0])?e[0].outlets:{[Me]:e}}(t),r={};if(Object.keys(i).some(o=>o!==Me)&&e.children[Me]&&1===e.numberOfChildren&&0===e.children[Me].segments.length){const o=hh(e.children[Me],n,t);return new yt(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=OO(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new yt(e.segments,r)}}function nw(e,n,t){const i=e.segments.slice(0,n);let r=0;for(;r<t.length;){const o=t[r];if(dh(o)){const c=wq(o.outlets);return new yt(i,c)}if(0===r&&s_(t[0])){i.push(new lh(e.segments[n].path,PO(t[0]))),r++;continue}const s=dh(o)?o.outlets[Me]:`${o}`,l=r<t.length-1?t[r+1]:null;s&&l&&s_(l)?(i.push(new lh(s,PO(l))),r+=2):(i.push(new lh(s,{})),r++)}return new yt(i,{})}function wq(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=nw(new yt([],{}),0,i))}),n}function PO(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function kO(e,n,t){return e==t.path&&so(n,t.parameters)}const fh="imperative";class ao{constructor(n,t){this.id=n,this.url=t}}class l_ extends ao{constructor(n,t,i="imperative",r=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class js extends ao{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ph extends ao{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tu extends ao{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=16}}class c_ extends ao{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LO extends ao{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cq extends ao{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dq extends ao{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eq extends ao{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tq extends ao{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iq{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sq{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mq{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aq{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nq{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xq{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FO{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iw{}class rw{constructor(n){this.url=n}}class Rq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new gh,this.attachRef=null}}let gh=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Rq,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class BO{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=ow(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=ow(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=sw(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return sw(n,this._root).map(t=>t.value)}}function ow(e,n){if(e===n.value)return n;for(const t of n.children){const i=ow(e,t);if(i)return i}return null}function sw(e,n){if(e===n.value)return[n];for(const t of n.children){const i=sw(e,t);if(i.length)return i.unshift(n),i}return[]}class Go{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function nu(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class VO extends BO{constructor(n,t){super(n),this.snapshot=t,aw(this,n)}toString(){return this.snapshot.toString()}}function UO(e,n){const t=function Oq(e,n){const s=new u_([],{},{},"",{},Me,n,null,{});return new HO("",new Go(s,[]))}(0,n),i=new de([new lh("",{})]),r=new de({}),o=new de({}),s=new de({}),l=new de(""),c=new Ya(i,r,s,l,o,Me,n,t.root);return c.snapshot=t.root,new VO(new Go(c,[]),t)}class Ya{constructor(n,t,i,r,o,s,l,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Re(d=>d[ah]))??ne(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(n=>Xc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(n=>Xc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jO(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Pq(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class u_{get title(){return this.data?.[ah]}constructor(n,t,i,r,o,s,l,c,d){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class HO extends BO{constructor(n,t){super(t),this.url=n,aw(this,t)}toString(){return $O(this._root)}}function aw(e,n){n.value._routerState=e,n.children.forEach(t=>aw(e,t))}function $O(e){const n=e.children.length>0?` { ${e.children.map($O).join(", ")} } `:"";return`${e.value}${n}`}function lw(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,so(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),so(n.params,t.params)||e.paramsSubject.next(t.params),function K6(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!so(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),so(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function cw(e,n){const t=so(e.params,n.params)&&function eq(e,n){return qa(e,n)&&e.every((t,i)=>so(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||cw(e.parent,n.parent))}let uw=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=Y(gh),this.location=Y(hr),this.changeDetector=Y(Nr),this.environmentInjector=Y(Ii),this.inputBinder=Y(d_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new kq(t,l,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275dir=K({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gn]})}return e})();class kq{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Ya?this.route:n===gh?this.childContexts:this.parent.get(n,t)}}const d_=new oe("");let GO=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Z0([i.queryParams,i.params,i.data]).pipe(Gt(([o,s,l],c)=>(l={...o,...s,...l},0===c?ne(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function hW(e){const n=$e(e);if(!n)return null;const t=new Md(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(i.component);if(s)for(const{templateName:l}of s.inputs)t.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();function _h(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const r=function Fq(e,n,t){return n.children.map(i=>{for(const r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return _h(e,i,r);return _h(e,i)})}(e,n,t);return new Go(i,r)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>_h(e,l)),s}}const i=function Bq(e){return new Ya(new de(e.url),new de(e.params),new de(e.queryParams),new de(e.fragment),new de(e.data),e.outlet,e.component,e)}(n.value),r=n.children.map(o=>_h(e,o));return new Go(i,r)}}const dw="ngNavigationCancelingError";function zO(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=Za(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=WO(!1,0,n);return r.url=t,r.navigationBehaviorOptions=i,r}function WO(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[dw]=!0,i.cancellationCode=n,t&&(i.url=t),i}function qO(e){return e&&e[dw]}let ZO=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=Rn({type:e,selectors:[["ng-component"]],standalone:!0,features:[dr],decls:1,vars:0,template:function(i,r){1&i&&et(0,"router-outlet")},dependencies:[uw],encapsulation:2})}return e})();function hw(e){const n=e.children&&e.children.map(hw),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Me&&(t.component=ZO),t}function Or(e){return e.outlet||Me}function mh(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Wq{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),lw(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const r=nu(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=nu(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=nu(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const r=nu(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new xq(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Aq(n.value.snapshot))}activateRoutes(n,t,i){const r=n.value,o=t?t.value:null;if(lw(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),lw(l.route.value),this.activateChildRoutes(n,null,s.children)}else{const l=mh(r.snapshot);s.attachRef=null,s.route=r,s.injector=l,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}}class YO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class h_{constructor(n,t){this.component=n,this.route=t}}function qq(e,n,t){const i=e._root;return vh(i,n?n._root:null,t,[i.value])}function iu(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||function Wu(e){return null!==Wl(e)}(e)?n.get(e):e:i}function vh(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=nu(n);return e.children.forEach(s=>{(function Yq(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,l=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Kq(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!qa(e.url,n.url);case"pathParamsOrQueryParamsChange":return!qa(e.url,n.url)||!so(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cw(e,n)||!so(e.queryParams,n.queryParams);default:return!cw(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new YO(i)):(o.data=s.data,o._resolvedData=s._resolvedData),vh(e,n,o.component?l?l.children:null:t,i,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new h_(l.outlet.component,s))}else s&&yh(n,l,r),r.canActivateChecks.push(new YO(i)),vh(e,null,o.component?l?l.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>yh(l,t.getContext(s),r)),r}function yh(e,n,t){const i=nu(e),r=e.value;Object.entries(i).forEach(([o,s])=>{yh(s,r.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new h_(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}function bh(e){return"function"==typeof e}function KO(e){return e instanceof e_||"EmptyError"===e?.name}const f_=Symbol("INITIAL_VALUE");function ru(){return Gt(e=>Z0(e.map(n=>n.pipe(Zn(1),function pO(...e){const n=da(e);return Je((t,i)=>{(n?rh(e,t,n):rh(e,t)).subscribe(i)})}(f_)))).pipe(Re(n=>{for(const t of n)if(!0!==t){if(t===f_)return f_;if(!1===t||t instanceof eu)return t}return!0}),Pn(n=>n!==f_),Zn(1)))}function QO(e){return function Eo(...e){return we(e)}(Mn(n=>{if(Za(n))throw zO(0,n)}),Re(n=>!0===n))}class p_{constructor(n){this.segmentGroup=n||null}}class JO{constructor(n){this.urlTree=n}}function ou(e){return oh(new p_(e))}function XO(e){return oh(new JO(e))}class _7{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new V(4002,!1)}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ne(i);if(r.numberOfChildren>1||!r.children[Me])return oh(new V(4e3,!1));r=r.children[Me]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,r){const o=this.createSegmentGroup(n,t.root,i,r);return new eu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);i[r]=t[l]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){const o=this.createSegments(n,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(n,c,i,r)}),new yt(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){const r=i[t.path.substring(1)];if(!r)throw new V(4001,!1);return r}findOrReturn(n,t){let i=0;for(const r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}}const fw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m7(e,n,t,i,r){const o=pw(e,n,t);return o.matched?(i=function Uq(e,n){return e.providers&&!e._injector&&(e._injector=mb(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function f7(e,n,t,i){const r=n.canMatch;return r&&0!==r.length?ne(r.map(s=>{const l=iu(s,e);return Us(function n7(e){return e&&bh(e.canMatch)}(l)?l.canMatch(n,t):e.runInContext(()=>l(n,t)))})).pipe(ru(),QO()):ne(!0)}(i,n,t).pipe(Re(s=>!0===s?o:{...fw}))):ne(o)}function pw(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...fw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(n.matcher||Y6)(t,e,n);if(!r)return{...fw};const o={};Object.entries(r.posParams??{}).forEach(([l,c])=>{o[l]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function eP(e,n,t,i){return t.length>0&&function b7(e,n,t){return t.some(i=>g_(e,n,i)&&Or(i)!==Me)}(e,t,i)?{segmentGroup:new yt(n,y7(i,new yt(t,e.children))),slicedSegments:[]}:0===t.length&&function w7(e,n,t){return t.some(i=>g_(e,n,i))}(e,t,i)?{segmentGroup:new yt(e.segments,v7(e,0,t,i,e.children)),slicedSegments:t}:{segmentGroup:new yt(e.segments,e.children),slicedSegments:t}}function v7(e,n,t,i,r){const o={};for(const s of i)if(g_(e,t,s)&&!r[Or(s)]){const l=new yt([],{});o[Or(s)]=l}return{...r,...o}}function y7(e,n){const t={};t[Me]=n;for(const i of e)if(""===i.path&&Or(i)!==Me){const r=new yt([],{});t[Or(i)]=r}return t}function g_(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class T7{constructor(n,t,i,r,o,s,l){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.allowRedirects=!0,this.applyRedirects=new _7(this.urlSerializer,this.urlTree)}noMatchError(n){return new V(4002,!1)}recognize(){const n=eP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Me).pipe(Wa(t=>{if(t instanceof JO)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof p_?this.noMatchError(t):t}),Re(t=>{const i=new u_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,{}),r=new Go(i,t),o=new HO("",r),s=function gq(e,n,t=null,i=null){return NO(AO(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Me).pipe(Wa(i=>{throw i instanceof p_?this.noMatchError(i):i}))}inheritParamsAndData(n){const t=n.value,i=jO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,r,!0)}processChildren(n,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Bt(r).pipe(sh(o=>{const s=i.children[o],l=function Gq(e,n){const t=e.filter(i=>Or(i)===n);return t.push(...e.filter(i=>Or(i)!==n)),t}(t,o);return this.processSegmentGroup(n,l,s,o)}),function W6(e,n){return Je(function z6(e,n,t,i,r){return(o,s)=>{let l=t,c=n,d=0;o.subscribe(Ge(s,f=>{const g=d++;c=l?e(c,f,g):(l=!0,f),i&&s.next(c)},r&&(()=>{l&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),t_(null),function q6(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Pn((r,o)=>e(r,o,i)):At,K0(1),t?t_(n):gO(()=>new e_))}(),dn(o=>{if(null===o)return ou(i);const s=tP(o);return function I7(e){e.sort((n,t)=>n.value.outlet===Me?-1:t.value.outlet===Me?1:n.value.outlet.localeCompare(t.value.outlet))}(s),ne(s)}))}processSegment(n,t,i,r,o,s){return Bt(t).pipe(sh(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s).pipe(Wa(c=>{if(c instanceof p_)return ne(null);throw c}))),za(l=>!!l),Wa(l=>{if(KO(l))return function D7(e,n,t){return 0===n.length&&!e.children[t]}(i,r,o)?ne([]):ou(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,l){return function C7(e,n,t,i){return!!(Or(e)===i||i!==Me&&g_(n,t,e))&&("**"===e.path||pw(n,e,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,r,i,o,s,l):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s):ou(r):ou(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?XO(o):this.applyRedirects.lineralizeSegments(i,o).pipe(dn(s=>{const l=new yt(s,{});return this.processSegment(n,t,l,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s){const{matched:l,consumedSegments:c,remainingSegments:d,positionalParamSegments:f}=pw(t,r,o);if(!l)return ou(t);const g=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?XO(g):this.applyRedirects.lineralizeSegments(r,g).pipe(dn(_=>this.processSegment(n,i,t,_.concat(d),s,!1)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let l;if("**"===i.path){const c=r.length>0?vO(r).parameters:{};l=ne({snapshot:new u_(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nP(i),Or(i),i.component??i._loadedComponent??null,i,iP(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else l=m7(t,i,r,n).pipe(Re(({matched:c,consumedSegments:d,remainingSegments:f,parameters:g})=>c?{snapshot:new u_(d,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nP(i),Or(i),i.component??i._loadedComponent??null,i,iP(i)),consumedSegments:d,remainingSegments:f}:null));return l.pipe(Gt(c=>null===c?ou(t):this.getChildConfig(n=i._injector??n,i,r).pipe(Gt(({routes:d})=>{const f=i._loadedInjector??n,{snapshot:g,consumedSegments:_,remainingSegments:v}=c,{segmentGroup:b,slicedSegments:C}=eP(t,_,v,d);if(0===C.length&&b.hasChildren())return this.processChildren(f,d,b).pipe(Re(R=>null===R?null:[new Go(g,R)]));if(0===d.length&&0===C.length)return ne([new Go(g,[])]);const E=Or(i)===o;return this.processSegment(f,d,b,C,E?Me:o,!0).pipe(Re(R=>[new Go(g,R)]))}))))}getChildConfig(n,t,i){return t.children?ne({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):function h7(e,n,t,i){const r=n.canLoad;return void 0===r||0===r.length?ne(!0):ne(r.map(s=>{const l=iu(s,e);return Us(function Jq(e){return e&&bh(e.canLoad)}(l)?l.canLoad(n,t):e.runInContext(()=>l(n,t)))})).pipe(ru(),QO())}(n,t,i).pipe(dn(r=>r?this.configLoader.loadChildren(n,t).pipe(Mn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function g7(e){return oh(WO(!1,3))}())):ne({routes:[],injector:n})}}function S7(e){const n=e.value.routeConfig;return n&&""===n.path}function tP(e){const n=[],t=new Set;for(const i of e){if(!S7(i)){n.push(i);continue}const r=n.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):n.push(i)}for(const i of t){const r=tP(i.children);n.push(new Go(i.value,r))}return n.filter(i=>!t.has(i))}function nP(e){return e.data||{}}function iP(e){return e.resolve||{}}function rP(e){return"string"==typeof e.title||null===e.title}function gw(e){return Gt(n=>{const t=e(n);return t?Bt(t).pipe(Re(()=>n)):ne(n)})}const su=new oe("ROUTES");let _w=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(ON)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Us(t.loadComponent()).pipe(Re(oP),Mn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Q0(()=>{this.componentLoaders.delete(t)})),r=new fO(i,()=>new fe).pipe(Y0());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function P7(e,n,t,i){return Us(e.loadChildren()).pipe(Re(oP),dn(r=>r instanceof HA||Array.isArray(r)?ne(r):Bt(n.compileModuleAsync(r))),Re(r=>{i&&i(e);let o,s,l=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(su,[],{optional:!0,self:!0}).flat()),{routes:s.map(hw),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Q0(()=>{this.childrenLoaders.delete(i)})),s=new fO(o,()=>new fe).pipe(Y0());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oP(e){return function k7(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let __=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=Y(_w),this.environmentInjector=Y(Ii),this.urlSerializer=Y(ch),this.rootContexts=Y(gh),this.inputBindingEnabled=null!==Y(d_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Sq(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Iq(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new de({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fh,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pn(o=>0!==o.id),Re(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Gt(o=>{this.currentTransition=o;let s=!1,l=!1;return ne(o).pipe(Mn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gt(c=>{const d=c.currentBrowserUrl.toString(),f=!t.navigated||c.extractedUrl.toString()!==d||d!==c.currentUrlTree.toString();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const _="";return this.events.next(new tu(c.id,this.urlSerializer.serialize(c.rawUrl),_,0)),c.resolve(null),li}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ne(c).pipe(Gt(_=>{const v=this.transitions?.getValue();return this.events.next(new l_(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),v!==this.transitions?.getValue()?li:Promise.resolve(_)}),function M7(e,n,t,i,r,o){return dn(s=>function E7(e,n,t,i,r,o,s="emptyOnly"){return new T7(e,n,t,i,r,s,o).recognize()}(e,n,t,i,s.extractedUrl,r,o).pipe(Re(({state:l,tree:c})=>({...s,targetSnapshot:l,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Mn(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const v=new LO(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(v)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:_,extractedUrl:v,source:b,restoredState:C,extras:E}=c,R=new l_(_,this.urlSerializer.serialize(v),b,C);this.events.next(R);const I=UO(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:I,urlAfterRedirects:v,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},ne(o)}{const _="";return this.events.next(new tu(c.id,this.urlSerializer.serialize(c.extractedUrl),_,1)),c.resolve(null),li}}),Mn(c=>{const d=new Cq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Re(c=>(this.currentTransition=o={...c,guards:qq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function r7(e,n){return dn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ne({...t,guardsResult:!0}):function o7(e,n,t,i){return Bt(e).pipe(dn(r=>function d7(e,n,t,i,r){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(l=>{const c=mh(n)??r,d=iu(l,c);return Us(function t7(e){return e&&bh(e.canDeactivate)}(d)?d.canDeactivate(e,n,t,i):c.runInContext(()=>d(e,n,t,i))).pipe(za())})).pipe(ru()):ne(!0)}(r.component,r.route,t,n,i)),za(r=>!0!==r,!0))}(s,i,r,e).pipe(dn(l=>l&&function Qq(e){return"boolean"==typeof e}(l)?function s7(e,n,t,i){return Bt(n).pipe(sh(r=>rh(function l7(e,n){return null!==e&&n&&n(new Mq(e)),ne(!0)}(r.route.parent,i),function a7(e,n){return null!==e&&n&&n(new Nq(e)),ne(!0)}(r.route,i),function u7(e,n,t){const i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function Zq(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>hO(()=>ne(s.guards.map(c=>{const d=mh(s.node)??t,f=iu(c,d);return Us(function e7(e){return e&&bh(e.canActivateChild)}(f)?f.canActivateChild(i,e):d.runInContext(()=>f(i,e))).pipe(za())})).pipe(ru())));return ne(o).pipe(ru())}(e,r.path,t),function c7(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return ne(!0);const r=i.map(o=>hO(()=>{const s=mh(n)??t,l=iu(o,s);return Us(function Xq(e){return e&&bh(e.canActivate)}(l)?l.canActivate(n,e):s.runInContext(()=>l(n,e))).pipe(za())}));return ne(r).pipe(ru())}(e,r.route,t))),za(r=>!0!==r,!0))}(i,o,e,n):ne(l)),Re(l=>({...t,guardsResult:l})))})}(this.environmentInjector,c=>this.events.next(c)),Mn(c=>{if(o.guardsResult=c.guardsResult,Za(c.guardsResult))throw zO(0,c.guardsResult);const d=new Dq(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),Pn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),gw(c=>{if(c.guards.canActivateChecks.length)return ne(c).pipe(Mn(d=>{const f=new Eq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Gt(d=>{let f=!1;return ne(d).pipe(function A7(e,n){return dn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ne(t);let o=0;return Bt(r).pipe(sh(s=>function N7(e,n,t,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!rP(r)&&(o[ah]=r.title),function x7(e,n,t,i){const r=function R7(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return ne({});const o={};return Bt(r).pipe(dn(s=>function O7(e,n,t,i){const r=mh(n)??i,o=iu(e,r);return Us(o.resolve?o.resolve(n,t):r.runInContext(()=>o(n,t)))}(e[s],n,t,i).pipe(za(),Mn(l=>{o[s]=l}))),K0(1),_O(o),Wa(s=>KO(s)?li:oh(s)))}(o,e,n,i).pipe(Re(s=>(e._resolvedData=s,e.data=jO(e,t).resolve,r&&rP(r)&&(e.data[ah]=r.title),null)))}(s.route,i,e,n)),Mn(()=>o++),K0(1),dn(s=>o===r.length?ne(t):li))})}(t.paramsInheritanceStrategy,this.environmentInjector),Mn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",2)}}))}),Mn(d=>{const f=new Tq(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),gw(c=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Mn(_=>{f.component=_}),Re(()=>{})));for(const _ of f.children)g.push(...d(_));return g};return Z0(d(c.targetSnapshot.root)).pipe(t_(),Zn(1))}),gw(()=>this.afterPreactivation()),Re(c=>{const d=function Lq(e,n,t){const i=_h(e,n._root,t?t._root:void 0);return new VO(i,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:d},o}),Mn(()=>{this.events.next(new iw)}),((e,n,t,i)=>Re(r=>(new Wq(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Zn(1),Mn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new js(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),un(this.transitionAbortSubject.pipe(Mn(c=>{throw c}))),Q0(()=>{s||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Wa(c=>{if(l=!0,qO(c))this.events.next(new ph(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Vq(e){return qO(e)&&Za(e.url)}(c)?this.events.next(new rw(c.url)):o.resolve(!1);else{this.events.next(new c_(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(d){o.reject(d)}}return li}))}))}cancelNavigationTransition(t,i,r){const o=new ph(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sP(e){return e!==fh}let aP=(()=>{class e{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Me);return i}getResolvedTitleForRoute(t){return t.data[ah]}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return Y(L7)},providedIn:"root"})}return e})(),L7=(()=>{class e extends aP{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||e)(Q(eR))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),F7=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return Y(V7)},providedIn:"root"})}return e})();class B7{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let V7=(()=>{class e extends B7{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=fn(e)))(r||e)}}();static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const m_=new oe("",{providedIn:"root",factory:()=>({})});let U7=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:function(){return Y(j7)},providedIn:"root"})}return e})(),j7=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wh=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(wh||{});function lP(e,n){e.events.pipe(Pn(t=>t instanceof js||t instanceof ph||t instanceof c_||t instanceof tu),Re(t=>t instanceof js||t instanceof tu?wh.COMPLETE:t instanceof ph&&(0===t.code||1===t.code)?wh.REDIRECTING:wh.FAILED),Pn(t=>t!==wh.REDIRECTING),Zn(1)).subscribe(()=>{n()})}function H7(e){throw e}function $7(e,n,t){return n.parse("/")}const G7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Y(xN),this.isNgZoneEnabled=!1,this._events=new fe,this.options=Y(m_,{optional:!0})||{},this.pendingTasks=Y(RN),this.errorHandler=this.options.errorHandler||H7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Y(U7),this.routeReuseStrategy=Y(F7),this.titleStrategy=Y(aP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Y(su,{optional:!0})?.flat()??[],this.navigationTransitions=Y(__),this.urlSerializer=Y(ch),this.location=Y(Jb),this.componentInputBindingEnabled=!!Y(d_,{optional:!0}),this.eventsSubscription=new rn,this.isNgZoneEnabled=Y(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new eu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=UO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(cP(i)&&this._events.next(i));if(i instanceof l_)sP(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof tu)this.rawUrlTree=r.rawUrl;else if(i instanceof LO){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof iw)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof ph)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof rw){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sP(r.source)};this.scheduleNavigation(o,fh,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof c_&&this.restoreHistory(r,!0),i instanceof js&&(this.navigated=!0),cP(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(t);this.scheduleNavigation(l,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:s;let g,f=null;switch(l){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{g=AO(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return NO(g,t,f,d??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Za(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,fh,null,i)}navigate(t,i={skipLocationChange:!1}){return function W7(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new V(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...G7}:!1===i?{...z7}:i,Za(t))return bO(this.currentUrlTree,t,r);const o=this.parseUrl(t);return bO(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,c,d;s?(l=s.resolve,c=s.reject,d=s.promise):d=new Promise((g,_)=>{l=g,c=_});const f=this.pendingTasks.add();return lP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cP(e){return!(e instanceof iw||e instanceof rw)}let au=(()=>{class e{constructor(t,i,r,o,s,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof js&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function HI(e,n,t){return function Fj(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?jI:yd}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||e)(D(Ai),D(Ya),function xa(e){return function iU(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(ba(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===n)return t[r+1];r+=2}}}return null}(zn(),e)}("tabindex"),D(Hi),D(ft),D(Ha))};static#t=this.\u0275dir=K({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&re("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&gt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Zc],skipLocationChange:["skipLocationChange","skipLocationChange",Zc],replaceUrl:["replaceUrl","replaceUrl",Zc],routerLink:"routerLink"},standalone:!0,features:[nM,Gn]})}return e})();class uP{}let Y7=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pn(t=>t instanceof js),sh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=mb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Bt(r).pipe(ds())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ne(null);const o=r.pipe(dn(s=>null===s?ne(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?Bt([o,this.loader.loadComponent(i)]).pipe(ds()):o})}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Ai),Q(ON),Q(Ii),Q(uP),Q(_w))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mw=new oe("");let dP=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof l_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof js?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof tu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function AS(){throw new Error("invalid")}()};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac})}return e})();function zo(e,n){return{\u0275kind:e,\u0275providers:n}}function fP(){const e=Y(Tn);return n=>{const t=e.get(Os);if(n!==t.components[0])return;const i=e.get(Ai),r=e.get(pP);1===e.get(vw)&&i.initialNavigation(),e.get(gP,null,Oe.Optional)?.setUpPreloading(),e.get(mw,null,Oe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const pP=new oe("",{factory:()=>new fe}),vw=new oe("",{providedIn:"root",factory:()=>1}),gP=new oe("");function X7(e){return zo(0,[{provide:gP,useExisting:Y7},{provide:uP,useExisting:e}])}const _P=new oe("ROUTER_FORROOT_GUARD"),t9=[Jb,{provide:ch,useClass:J0},Ai,gh,{provide:Ya,useFactory:function hP(e){return e.routerState.root},deps:[Ai]},_w,[]];function n9(){return new UN("Router",Ai)}let mP=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[t9,[],{provide:su,multi:!0,useValue:t},{provide:_P,useFactory:s9,deps:[[Ai,new ar,new Sp]]},{provide:m_,useValue:i||{}},i?.useHash?{provide:Ha,useClass:mW}:{provide:Ha,useClass:_x},{provide:mw,useFactory:()=>{const e=Y(P4),n=Y(Be),t=Y(m_),i=Y(__),r=Y(ch);return t.scrollOffset&&e.setOffset(t.scrollOffset),new dP(r,i,e,n,t)}},i?.preloadingStrategy?X7(i.preloadingStrategy).\u0275providers:[],{provide:UN,multi:!0,useFactory:n9},i?.initialNavigation?a9(i):[],i?.bindToComponentInputs?zo(8,[GO,{provide:d_,useExisting:GO}]).\u0275providers:[],[{provide:vP,useFactory:fP},{provide:jb,multi:!0,useExisting:vP}]]}}static forChild(t){return{ngModule:e,providers:[{provide:su,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||e)(Q(_P,8))};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();function s9(e){return"guarded"}function a9(e){return["disabled"===e.initialNavigation?zo(3,[{provide:Ob,multi:!0,useFactory:()=>{const n=Y(Ai);return()=>{n.setUpLocationChangeListener()}}},{provide:vw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?zo(2,[{provide:vw,useValue:0},{provide:Ob,multi:!0,deps:[Tn],useFactory:n=>{const t=n.get(gW,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=n.get(Ai),o=n.get(pP);lP(r,()=>{i(!0)}),n.get(__).afterPreactivation=()=>(i(!0),o.closed?ne(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const vP=new oe("");function yP(e,n,t,i,r,o,s){try{var l=e[o](s),c=l.value}catch(d){return void t(d)}l.done?n(c):Promise.resolve(c).then(i,r)}function se(e){return function(){var n=this,t=arguments;return new Promise(function(i,r){var o=e.apply(n,t);function s(c){yP(o,i,r,s,l,"next",c)}function l(c){yP(o,i,r,s,l,"throw",c)}s(void 0)})}}const W=function(e,n){if(!e)throw lu(n)},lu=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},bP=function(e){const n=[];let t=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?n[t++]=r:r<2048?(n[t++]=r>>6|192,n[t++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),n[t++]=r>>18|240,n[t++]=r>>12&63|128,n[t++]=r>>6&63|128,n[t++]=63&r|128):(n[t++]=r>>12|224,n[t++]=r>>6&63|128,n[t++]=63&r|128)}return n},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,n){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const o=e[r],s=r+1<e.length,l=s?e[r+1]:0,c=r+2<e.length,d=c?e[r+2]:0;let _=(15&l)<<2|d>>6,v=63&d;c||(v=64,s||(_=64)),i.push(t[o>>2],t[(3&o)<<4|l>>4],t[_],t[v])}return i.join("")},encodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(e):this.encodeByteArray(bP(e),n)},decodeString(e,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(e):function(e){const n=[];let t=0,i=0;for(;t<e.length;){const r=e[t++];if(r<128)n[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=e[t++];n[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const c=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536;n[i++]=String.fromCharCode(55296+(c>>10)),n[i++]=String.fromCharCode(56320+(1023&c))}else{const o=e[t++],s=e[t++];n[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return n.join("")}(this.decodeStringToByteArray(e,n))},decodeStringToByteArray(e,n){this.init_();const t=n?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const o=t[e.charAt(r++)],l=r<e.length?t[e.charAt(r)]:0;++r;const d=r<e.length?t[e.charAt(r)]:64;++r;const g=r<e.length?t[e.charAt(r)]:64;if(++r,null==o||null==l||null==d||null==g)throw new u9;i.push(o<<2|l>>4),64!==d&&(i.push(l<<4&240|d>>2),64!==g&&i.push(d<<6&192|g))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class u9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wP=function(e){const n=bP(e);return bw.encodeByteArray(n,!0)},v_=function(e){return wP(e).replace(/\./g,"")},y_=function(e){try{return bw.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function d9(e){return CP(void 0,e)}function CP(e,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return n}for(const t in n)!n.hasOwnProperty(t)||!h9(t)||(e[t]=CP(e[t],n[t]));return e}function h9(e){return"__proto__"!==e}const b_=()=>{try{return function f9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=e&&y_(e[1]);return n&&JSON.parse(n)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},DP=()=>{var e;return null===(e=b_())||void 0===e?void 0:e.config};class cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,t)=>{this.resolve=n,this.reject=t})}wrapCallback(n){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof n&&(this.promise.catch(()=>{}),1===n.length?n(t):n(t,i))}}}function zi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function EP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Ka extends Error{constructor(n,t,i){super(t),this.code=n,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ch.prototype.create)}}class Ch{constructor(n,t,i){this.service=n,this.serviceName=t,this.errors=i}create(n,...t){const i=t[0]||{},r=`${this.service}/${n}`,o=this.errors[n],s=o?function I9(e,n){return e.replace(S9,(t,i)=>{const r=n[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Ka(r,`${this.serviceName}: ${s} (${r}).`,i)}}const S9=/\{\$([^}]+)}/g;function Dh(e){return JSON.parse(e)}function kn(e){return JSON.stringify(e)}const w_=function(e){let n={},t={},i={},r="";try{const o=e.split(".");n=Dh(y_(o[0])||""),t=Dh(y_(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:n,claims:t,data:i,signature:r}};function lo(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function uu(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]}function TP(e){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}function C_(e,n,t){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=n.call(t,e[r],r,e));return i}function Cw(e,n){if(e===n)return!0;const t=Object.keys(e),i=Object.keys(n);for(const r of t){if(!i.includes(r))return!1;const o=e[r],s=n[r];if(IP(o)&&IP(s)){if(!Cw(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function IP(e){return null!==e&&"object"==typeof e}function Dw(e){const n=[];for(const[t,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{n.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):n.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return n.length?"&"+n.join("&"):""}class N9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,t){t||(t=0);const i=this.W_;if("string"==typeof n)for(let g=0;g<16;g++)i[g]=n.charCodeAt(t)<<24|n.charCodeAt(t+1)<<16|n.charCodeAt(t+2)<<8|n.charCodeAt(t+3),t+=4;else for(let g=0;g<16;g++)i[g]=n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3],t+=4;for(let g=16;g<80;g++){const _=i[g-3]^i[g-8]^i[g-14]^i[g-16];i[g]=4294967295&(_<<1|_>>>31)}let d,f,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let g=0;g<80;g++){g<40?g<20?(d=l^o&(s^l),f=1518500249):(d=o^s^l,f=1859775393):g<60?(d=o&s|l&(o|s),f=2400959708):(d=o^s^l,f=3395469782);const _=(r<<5|r>>>27)+d+c+f+i[g]&4294967295;c=l,l=s,s=4294967295&(o<<30|o>>>2),o=r,r=_}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(n,t){if(null==n)return;void 0===t&&(t=n.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(n,r),r+=this.blockSize;if("string"==typeof n){for(;r<t;)if(o[s]=n.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=n[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const n=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)n[i]=this.chain_[r]>>o&255,++i;return n}}class R9{constructor(n,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{n(this)}).catch(i=>{this.error(i)})}next(n){this.forEachObserver(t=>{t.next(n)})}error(n){this.forEachObserver(t=>{t.error(n)}),this.close(n)}complete(){this.forEachObserver(n=>{n.complete()}),this.close()}subscribe(n,t,i){let r;if(void 0===n&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function O9(e,n){if("object"!=typeof e||null===e)return!1;for(const t of n)if(t in e&&"function"==typeof e[t])return!0;return!1}(n,["next","error","complete"])?n:{next:n,error:t,complete:i},void 0===r.next&&(r.next=Ew),void 0===r.error&&(r.error=Ew),void 0===r.complete&&(r.complete=Ew);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(n){void 0===this.observers||void 0===this.observers[n]||(delete this.observers[n],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(n){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,n)}sendOne(n,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[n])try{t(this.observers[n])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(n){this.finalized||(this.finalized=!0,void 0!==n&&(this.finalError=n),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ew(){}function Qa(e,n){return`${e} failed: ${n} argument `}const D_=function(e){let n=0;for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);i<128?n++:i<2048?n+=2:i>=55296&&i<=56319?(n+=4,t++):n+=3}return n};function co(e){return e&&e._delegate?e._delegate:e}class Ja{constructor(n,t,i){this.name=n,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Xa="[DEFAULT]";class U9{constructor(n,t){this.name=n,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const t=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(t)){const i=new cu;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(n){var t;const i=this.normalizeInstanceIdentifier(n?.identifier),r=null!==(t=n?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,this.shouldAutoInitialize()){if(function H9(e){return"EAGER"===e.instantiationMode}(n))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(n=Xa){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}delete(){var n=this;return se(function*(){const t=Array.from(n.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(n=Xa){return this.instances.has(n)}getOptions(n=Xa){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:t={}}=n,i=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(n,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(n),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&n(s,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(n,t)}catch{}}getOrInitializeService({instanceIdentifier:n,options:t={}}){let i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===Xa?void 0:e),options:t}),this.instances.set(n,i),this.instancesOptions.set(n,t),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch{}var e;return i||null}normalizeInstanceIdentifier(n=Xa){return this.component?this.component.multipleInstances?n:Xa:n}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $9{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const t=this.getProvider(n.name);if(t.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);t.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const t=new U9(n,this);return this.providers.set(n,t),t}getProviders(){return Array.from(this.providers.values())}}const Tw=[];var Dt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Dt||{});const SP={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},G9=Dt.INFO,z9={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},W9=(e,n,...t)=>{if(n<e.logLevel)return;const i=(new Date).toISOString(),r=z9[n];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`);console[r](`[${i}]  ${e.name}:`,...t)};class Iw{constructor(n){this.name=n,this._logLevel=G9,this._logHandler=W9,this._userLogHandler=null,Tw.push(this)}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Dt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel="string"==typeof n?SP[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if("function"!=typeof n)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...n),this._logHandler(this,Dt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...n),this._logHandler(this,Dt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...n),this._logHandler(this,Dt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...n),this._logHandler(this,Dt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...n),this._logHandler(this,Dt.ERROR,...n)}}const q9=(e,n)=>n.some(t=>e instanceof t);let MP,AP;const NP=new WeakMap,Sw=new WeakMap,xP=new WeakMap,Mw=new WeakMap,Aw=new WeakMap;let Nw={get(e,n,t){if(e instanceof IDBTransaction){if("done"===n)return Sw.get(e);if("objectStoreNames"===n)return e.objectStoreNames||xP.get(e);if("store"===n)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(e[n])},set:(e,n,t)=>(e[n]=t,!0),has:(e,n)=>e instanceof IDBTransaction&&("done"===n||"store"===n)||n in e};function eZ(e){return"function"==typeof e?function X9(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y9(){return AP||(AP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...n){return e.apply(xw(this),n),Hs(NP.get(this))}:function(...n){return Hs(e.apply(xw(this),n))}:function(n,...t){const i=e.call(xw(this),n,...t);return xP.set(i,n.sort?n.sort():[n]),Hs(i)}}(e):(e instanceof IDBTransaction&&function Q9(e){if(Sw.has(e))return;const n=new Promise((t,i)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Sw.set(e,n)}(e),q9(e,function Z9(){return MP||(MP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Nw):e)}function Hs(e){if(e instanceof IDBRequest)return function K9(e){const n=new Promise((t,i)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{t(Hs(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return n.then(t=>{t instanceof IDBCursor&&NP.set(t,e)}).catch(()=>{}),Aw.set(n,e),n}(e);if(Mw.has(e))return Mw.get(e);const n=eZ(e);return n!==e&&(Mw.set(e,n),Aw.set(n,e)),n}const xw=e=>Aw.get(e),nZ=["get","getKey","getAll","getAllKeys","count"],iZ=["put","add","delete","clear"],Rw=new Map;function RP(e,n){if(!(e instanceof IDBDatabase)||n in e||"string"!=typeof n)return;if(Rw.get(n))return Rw.get(n);const t=n.replace(/FromIndex$/,""),i=n!==t,r=iZ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!nZ.includes(t))return;const o=function(){var s=se(function*(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(c.shift())),(yield Promise.all([f[t](...c),r&&d.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Rw.set(n,o),o}!function J9(e){Nw=e(Nw)}(e=>({...e,get:(n,t,i)=>RP(n,t)||e.get(n,t,i),has:(n,t)=>!!RP(n,t)||e.has(n,t)}));class rZ{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function oZ(e){const n=e.getComponent();return"VERSION"===n?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Ow="@firebase/app",el=new Iw("@firebase/app"),E_="[DEFAULT]",xZ={[Ow]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tl=new Map,T_=new Map;function RZ(e,n){try{e.container.addComponent(n)}catch(t){el.debug(`Component ${n.name} failed to register with FirebaseApp ${e.name}`,t)}}function du(e){const n=e.name;if(T_.has(n))return el.debug(`There were multiple attempts to register component ${n}.`),!1;T_.set(n,e);for(const t of tl.values())RZ(t,e);return!0}const qo=new Ch("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class PZ{constructor(n,t,i){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}const I_="10.7.1";function kP(e,n={}){let t=e;"object"!=typeof n&&(n={name:n});const i=Object.assign({name:E_,automaticDataCollectionEnabled:!1},n),r=i.name;if("string"!=typeof r||!r)throw qo.create("bad-app-name",{appName:String(r)});if(t||(t=DP()),!t)throw qo.create("no-options");const o=tl.get(r);if(o){if(Cw(t,o.options)&&Cw(i,o.config))return o;throw qo.create("duplicate-app",{appName:r})}const s=new $9(r);for(const c of T_.values())s.addComponent(c);const l=new PZ(t,i,s);return tl.set(r,l),l}function LP(e=E_){const n=tl.get(e);if(!n&&e===E_&&DP())return kP();if(!n)throw qo.create("no-app",{appName:e});return n}function FP(){return Array.from(tl.values())}function mr(e,n,t){var i;let r=null!==(i=xZ[e])&&void 0!==i?i:e;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=n.match(/\s|\//);if(o||s){const l=[`Unable to register library "${r}" with version "${n}":`];return o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${n}" contains illegal characters (whitespace or "/")`),void el.warn(l.join(" "))}du(new Ja(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const kZ="firebase-heartbeat-database",LZ=1,Eh="firebase-heartbeat-store";let kw=null;function BP(){return kw||(kw=function tZ(e,n,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,n),l=Hs(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Hs(s.result),c.oldVersion,c.newVersion,Hs(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}(kZ,LZ,{upgrade:(e,n)=>{0===n&&e.createObjectStore(Eh)}}).catch(e=>{throw qo.create("idb-open",{originalErrorMessage:e.message})})),kw}function Lw(){return(Lw=se(function*(e){try{return yield(yield BP()).transaction(Eh).objectStore(Eh).get(UP(e))}catch(n){if(n instanceof Ka)el.warn(n.message);else{const t=qo.create("idb-get",{originalErrorMessage:n?.message});el.warn(t.message)}}})).apply(this,arguments)}function VP(e,n){return Fw.apply(this,arguments)}function Fw(){return(Fw=se(function*(e,n){try{const i=(yield BP()).transaction(Eh,"readwrite");yield i.objectStore(Eh).put(n,UP(e)),yield i.done}catch(t){if(t instanceof Ka)el.warn(t.message);else{const i=qo.create("idb-set",{originalErrorMessage:t?.message});el.warn(i.message)}}})).apply(this,arguments)}function UP(e){return`${e.name}!${e.options.appId}`}class UZ{constructor(n){this.container=n,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HZ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var n=this;return se(function*(){var t,i;const o=n.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jP();if((null!=(null===(t=n._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(n._heartbeatsCache=yield n._heartbeatsCachePromise,null!=(null===(i=n._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&n._heartbeatsCache.lastSentHeartbeatDate!==s&&!n._heartbeatsCache.heartbeats.some(l=>l.date===s))return n._heartbeatsCache.heartbeats.push({date:s,agent:o}),n._heartbeatsCache.heartbeats=n._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=2592e6}),n._storage.overwrite(n._heartbeatsCache)})()}getHeartbeatsHeader(){var n=this;return se(function*(){var t;if(null===n._heartbeatsCache&&(yield n._heartbeatsCachePromise),null==(null===(t=n._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===n._heartbeatsCache.heartbeats.length)return"";const i=jP(),{heartbeatsToSend:r,unsentEntries:o}=function jZ(e,n=1024){const t=[];let i=e.slice();for(const r of e){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),HP(t)>n){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),HP(t)>n){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(n._heartbeatsCache.heartbeats),s=v_(JSON.stringify({version:2,heartbeats:r}));return n._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(n._heartbeatsCache.heartbeats=o,yield n._storage.overwrite(n._heartbeatsCache)):(n._heartbeatsCache.heartbeats=[],n._storage.overwrite(n._heartbeatsCache)),s})()}}function jP(){return(new Date).toISOString().substring(0,10)}class HZ{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return se(function*(){return!!function D9(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function E9(){return new Promise((e,n)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;n((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){n(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var n=this;return se(function*(){if(yield n._canUseIndexedDBPromise){const i=yield function FZ(e){return Lw.apply(this,arguments)}(n.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(n){var t=this;return se(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return VP(t.app,{lastSentHeartbeatDate:null!==(i=n.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:n.heartbeats})}})()}add(n){var t=this;return se(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return VP(t.app,{lastSentHeartbeatDate:null!==(i=n.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...n.heartbeats]})}})()}}function HP(e){return v_(JSON.stringify({version:2,heartbeats:e})).length}!function $Z(e){du(new Ja("platform-logger",n=>new rZ(n),"PRIVATE")),du(new Ja("heartbeat",n=>new UZ(n),"PRIVATE")),mr(Ow,"0.9.25",e),mr(Ow,"0.9.25","esm2017"),mr("fire-js","")}(""),mr("firebase","10.7.1","app");class WZ extends rn{constructor(n,t){super()}schedule(n,t=0){return this}}const S_={setInterval(e,n,...t){const{delegate:i}=S_;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=S_;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class $P extends WZ{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return S_.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&S_.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r,i=!1;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,st(i,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const GP={now:()=>(GP.delegate||Date).now(),delegate:void 0};class Th{constructor(n,t=Th.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}}Th.now=GP.now;class zP extends Th{constructor(n,t=Th.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const YZ=new class ZZ extends zP{}(class qZ extends $P{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}}),Bw=new zP($P),KZ=Bw,Vw=new Ac("ANGULARFIRE2_VERSION");const Uw=(e,n)=>{const t=n?[n]:FP(),i=[];return t.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class QZ{constructor(){return Uw(JZ)}}const JZ="app-check";function hu(){}class qP{zone;delegate;constructor(n,t=YZ){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{n.apply(this,[s])})},t,i)}}class XZ{zone;task=null;constructor(n){this.zone=n}call(n,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hu,{},hu,hu)),t.pipe(Mn({next:i,complete:i,error:i})).subscribe(n).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ZP=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qP(Zone.current)),this.insideAngular=t.run(()=>new qP(Zone.current,Bw)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(Q(Be))};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fu(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function nl(e){return fu().ngZone.run(()=>e())}function tY(e){return function nY(e){return function(t){return(t=t.lift(new XZ(e.ngZone))).pipe(zr(e.outsideAngular),hs(e.insideAngular))}}(fu())(e)}const iY=(e,n)=>function(){const i=arguments;return n&&setTimeout(()=>{"scheduled"===n.state&&n.invoke()},10),nl(()=>e.apply(void 0,i))},$s=(e,n)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(n&&(t||=nl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hu,{},hu,hu))),i[o]=iY(i[o],t));const r=function eY(e){return fu().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,i));if(!n){if(r instanceof Ze){const o=fu();return r.pipe(zr(o.outsideAngular),hs(o.insideAngular))}return nl(()=>r)}return r instanceof Ze?r.pipe(tY):r instanceof Promise?nl(()=>new Promise((o,s)=>r.then(l=>nl(()=>o(l)),l=>nl(()=>s(l))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:nl(()=>r)};class Ih{constructor(n){return n}}class YP{constructor(){return FP()}}const jw=new oe("angularfire2._apps"),oY={provide:Ih,useFactory:function rY(e){return e&&1===e.length?e[0]:new Ih(LP())},deps:[[new ar,jw]]},sY={provide:YP,deps:[[new ar,jw]]};function aY(e){return(n,t)=>{const i=n.runOutsideAngular(()=>e(t));return new Ih(i)}}let lY=(()=>{class e{constructor(t){mr("angularfire",Vw.full,"core"),mr("angularfire",Vw.full,"app"),mr("angular",rS.full,t.toString())}static \u0275fac=function(i){return new(i||e)(Q(Pa))};static \u0275mod=Xe({type:e});static \u0275inj=We({providers:[oY,sY]})}return e})();function cY(e,...n){return{ngModule:lY,providers:[{provide:jw,useFactory:aY(e),multi:!0,deps:[Be,Tn,ZP,...n]}]}}const uY=$s(kP,!0);const dY=function KP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QP=new Ch("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),M_=new Iw("@firebase/auth");function A_(e,...n){M_.logLevel<=Dt.ERROR&&M_.error(`Auth (${I_}): ${e}`,...n)}function Ni(e,...n){throw Hw(e,...n)}function uo(e,...n){return Hw(e,...n)}function Hw(e,...n){if("string"!=typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return QP.create(e,...n)}function J(e,n,...t){if(!e)throw Hw(n,...t)}function ho(e){const n="INTERNAL ASSERTION FAILED: "+e;throw A_(n),new Error(n)}function Gs(e,n){e||ho(n)}function XP(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function fY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function $w(){return"http:"===XP()||"https:"===XP()}()||function C9(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Mh{constructor(n,t){this.shortDelay=n,this.longDelay=t,Gs(t>n,"Short delay should be less than long delay!"),this.isMobile=ww()||EP()}get(){return fY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ek{static initialize(n,t,i){this.fetchImpl=n,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_Y=new Mh(3e4,6e4);function jt(e,n){return e.tenantId&&!n.tenantId?Object.assign(Object.assign({},n),{tenantId:e.tenantId}):n}function Ht(e,n,t,i){return zw.apply(this,arguments)}function zw(){return(zw=se(function*(e,n,t,i,r={}){return tk(e,r,se(function*(){let o={},s={};i&&("GET"===n?s=i:o={body:JSON.stringify(i)});const l=Dw(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),ek.fetch()(nk(e,e.config.apiHost,t,l),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function tk(e,n,t){return Ww.apply(this,arguments)}function Ww(){return(Ww=se(function*(e,n,t){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},gY),n);try{const r=new vY(e),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Ah(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Ah(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Ah(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw Ah(e,"user-disabled",s);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw function JP(e,n,t){const i=Object.assign(Object.assign({},dY()),{[n]:t});return new Ch("auth","Firebase",i).create(n,{appName:e.name})}(e,f,d);Ni(e,f)}}catch(r){if(r instanceof Ka)throw r;Ni(e,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function nk(e,n,t,i){const r=`${n}${t}?${i}`;return e.config.emulator?function Gw(e,n){Gs(e.emulator,"Emulator should always be set here");const{url:t}=e.emulator;return n?`${t}${n.startsWith("/")?n.slice(1):n}`:t}(e.config,r):`${e.config.apiScheme}://${r}`}class vY{constructor(n){this.auth=n,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(uo(this.auth,"network-request-failed")),_Y.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ah(e,n,t){const i={appName:e.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=uo(e,n,i);return r.customData._tokenResponse=t,r}function Kw(){return(Kw=se(function*(e,n){return Ht(e,"POST","/v1/accounts:delete",n)})).apply(this,arguments)}function Jw(){return(Jw=se(function*(e,n){return Ht(e,"POST","/v1/accounts:lookup",n)})).apply(this,arguments)}function Nh(e){if(e)try{const n=new Date(Number(e));if(!isNaN(n.getTime()))return n.toUTCString()}catch{}}function Xw(){return(Xw=se(function*(e,n=!1){const t=co(e),i=yield t.getIdToken(n),r=N_(i);J(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Nh(eC(r.auth_time)),issuedAtTime:Nh(eC(r.iat)),expirationTime:Nh(eC(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function eC(e){return 1e3*Number(e)}function N_(e){const[n,t,i]=e.split(".");if(void 0===n||void 0===t||void 0===i)return A_("JWT malformed, contained fewer than 3 sections"),null;try{const r=y_(t);return r?JSON.parse(r):(A_("Failed to decode base64 JWT payload"),null)}catch(r){return A_("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Yo(e,n){return tC.apply(this,arguments)}function tC(){return(tC=se(function*(e,n,t=!1){if(t)return n;try{return yield n}catch(i){throw i instanceof Ka&&function TY({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})).apply(this,arguments)}class IY{constructor(n){this.user=n,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(n){var t;if(n){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(n=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(n);this.timerId=setTimeout(se(function*(){yield t.iteration()}),i)}iteration(){var n=this;return se(function*(){try{yield n.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&n.schedule(!0))}n.schedule()})()}}class ak{constructor(n,t){this.createdAt=n,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nh(this.lastLoginAt),this.creationTime=Nh(this.createdAt)}_copy(n){this.createdAt=n.createdAt,this.lastLoginAt=n.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xh(e){return nC.apply(this,arguments)}function nC(){return nC=se(function*(e){var n;const t=e.auth,i=yield e.getIdToken(),r=yield Yo(e,function CY(e,n){return Jw.apply(this,arguments)}(t,{idToken:i}));J(r?.users.length,t,"internal-error");const o=r.users[0];e._notifyReloadListener(o);const s=null!==(n=o.providerUserInfo)&&void 0!==n&&n.length?function AY(e){return e.map(n=>{var{providerId:t}=n,i=Io(n,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],l=function MY(e,n){return[...e.filter(i=>!n.some(r=>r.providerId===i.providerId)),...n]}(e.providerData,s),f=!!e.isAnonymous&&!(e.email&&o.passwordHash||l?.length),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ak(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,g)}),nC.apply(this,arguments)}function iC(){return(iC=se(function*(e){const n=co(e);yield xh(n),yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)})).apply(this,arguments)}function rC(){return(rC=se(function*(e,n){const t=yield tk(e,{},se(function*(){const i=Dw({grant_type:"refresh_token",refresh_token:n}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=nk(e,r,"/v1/token",`key=${o}`),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(s,{method:"POST",headers:l,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function oC(){return(oC=se(function*(e,n){return Ht(e,"POST","/v2/accounts:revokeToken",jt(e,n))})).apply(this,arguments)}class Rh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(n){J(n.idToken,"internal-error"),J(typeof n.idToken<"u","internal-error"),J(typeof n.refreshToken<"u","internal-error");const t="expiresIn"in n&&typeof n.expiresIn<"u"?Number(n.expiresIn):function EY(e){const n=N_(e);return J(n,"internal-error"),J(typeof n.exp<"u","internal-error"),J(typeof n.iat<"u","internal-error"),Number(n.exp)-Number(n.iat)}(n.idToken);this.updateTokensAndExpiration(n.idToken,n.refreshToken,t)}getToken(n,t=!1){var i=this;return se(function*(){return J(!i.accessToken||i.refreshToken,n,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(n,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(n,t){var i=this;return se(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function NY(e,n){return rC.apply(this,arguments)}(n,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(n,t,i){this.refreshToken=t||null,this.accessToken=n||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(n,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Rh;return i&&(J("string"==typeof i,"internal-error",{appName:n}),s.refreshToken=i),r&&(J("string"==typeof r,"internal-error",{appName:n}),s.accessToken=r),o&&(J("number"==typeof o,"internal-error",{appName:n}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(n){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expirationTime=n.expirationTime}_clone(){return Object.assign(new Rh,this.toJSON())}_performRefresh(){return ho("not implemented")}}function zs(e,n){J("string"==typeof e||typeof e>"u","internal-error",{appName:n})}class il{constructor(n){var{uid:t,auth:i,stsTokenManager:r}=n,o=Io(n,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ak(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(n){var t=this;return se(function*(){const i=yield Yo(t,t.stsTokenManager.getToken(t.auth,n));return J(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(n){return function DY(e){return Xw.apply(this,arguments)}(this,n)}reload(){return function SY(e){return iC.apply(this,arguments)}(this)}_assign(n){this!==n&&(J(this.uid===n.uid,this.auth,"internal-error"),this.displayName=n.displayName,this.photoURL=n.photoURL,this.email=n.email,this.emailVerified=n.emailVerified,this.phoneNumber=n.phoneNumber,this.isAnonymous=n.isAnonymous,this.tenantId=n.tenantId,this.providerData=n.providerData.map(t=>Object.assign({},t)),this.metadata._copy(n.metadata),this.stsTokenManager._assign(n.stsTokenManager))}_clone(n){const t=new il(Object.assign(Object.assign({},this),{auth:n,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(n){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=n,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(n){this.reloadListener?this.reloadListener(n):this.reloadUserInfo=n}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(n,t=!1){var i=this;return se(function*(){let r=!1;n.idToken&&n.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(n),r=!0),t&&(yield xh(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var n=this;return se(function*(){const t=yield n.getIdToken();return yield Yo(n,function bY(e,n){return Kw.apply(this,arguments)}(n.auth,{idToken:t})),n.stsTokenManager.clearRefreshToken(),n.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(n=>Object.assign({},n)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(n,t){var i,r,o,s,l,c,d,f;const g=null!==(i=t.displayName)&&void 0!==i?i:void 0,_=null!==(r=t.email)&&void 0!==r?r:void 0,v=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(l=t.tenantId)&&void 0!==l?l:void 0,E=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,R=null!==(d=t.createdAt)&&void 0!==d?d:void 0,I=null!==(f=t.lastLoginAt)&&void 0!==f?f:void 0,{uid:G,emailVerified:H,isAnonymous:te,providerData:ge,stsTokenManager:Ue}=t;J(G&&Ue,n,"internal-error");const qe=Rh.fromJSON(this.name,Ue);J("string"==typeof G,n,"internal-error"),zs(g,n.name),zs(_,n.name),J("boolean"==typeof H,n,"internal-error"),J("boolean"==typeof te,n,"internal-error"),zs(v,n.name),zs(b,n.name),zs(C,n.name),zs(E,n.name),zs(R,n.name),zs(I,n.name);const Ft=new il({uid:G,auth:n,email:_,emailVerified:H,displayName:g,isAnonymous:te,photoURL:b,phoneNumber:v,tenantId:C,stsTokenManager:qe,createdAt:R,lastLoginAt:I});return ge&&Array.isArray(ge)&&(Ft.providerData=ge.map(nn=>Object.assign({},nn))),E&&(Ft._redirectEventId=E),Ft}static _fromIdTokenResponse(n,t,i=!1){return se(function*(){const r=new Rh;r.updateFromServerResponse(t);const o=new il({uid:t.localId,auth:n,stsTokenManager:r,isAnonymous:i});return yield xh(o),o})()}}const lk=new Map;function Ko(e){Gs(e instanceof Function,"Expected a class definition");let n=lk.get(e);return n?(Gs(n instanceof e,"Instance stored in cache mismatched with class"),n):(n=new e,lk.set(e,n),n)}const ck=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return se(function*(){return!0})()}_set(t,i){var r=this;return se(function*(){r.storage[t]=i})()}_get(t){var i=this;return se(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return se(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return e.type="NONE",e})();function x_(e,n,t){return`firebase:${e}:${n}:${t}`}class gu{constructor(n,t,i){this.persistence=n,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=x_(this.userKey,r.apiKey,o),this.fullPersistenceKey=x_("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(n){return this.persistence._set(this.fullUserKey,n.toJSON())}getCurrentUser(){var n=this;return se(function*(){const t=yield n.persistence._get(n.fullUserKey);return t?il._fromJSON(n.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(n){var t=this;return se(function*(){if(t.persistence===n)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=n,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(n,t,i="authUser"){return se(function*(){if(!t.length)return new gu(Ko(ck),n,i);const r=(yield Promise.all(t.map(function(){var d=se(function*(f){if(yield f._isAvailable())return f});return function(f){return d.apply(this,arguments)}}()))).filter(d=>d);let o=r[0]||Ko(ck);const s=x_(i,n.config.apiKey,n.name);let l=null;for(const d of t)try{const f=yield d._get(s);if(f){const g=il._fromJSON(n,f);d!==o&&(l=g),o=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],l&&(yield o._set(s,l.toJSON())),yield Promise.all(t.map(function(){var d=se(function*(f){if(f!==o)try{yield f._remove(s)}catch{}});return function(f){return d.apply(this,arguments)}}())),new gu(o,n,i)):new gu(o,n,i)})()}}function uk(e){const n=e.toLowerCase();if(n.includes("opera/")||n.includes("opr/")||n.includes("opios/"))return"Opera";if(function fk(e=zi()){return/iemobile/i.test(e)}(n))return"IEMobile";if(n.includes("msie")||n.includes("trident/"))return"IE";if(n.includes("edge/"))return"Edge";if(function dk(e=zi()){return/firefox\//i.test(e)}(n))return"Firefox";if(n.includes("silk/"))return"Silk";if(function gk(e=zi()){return/blackberry/i.test(e)}(n))return"Blackberry";if(function _k(e=zi()){return/webos/i.test(e)}(n))return"Webos";if(function sC(e=zi()){const n=e.toLowerCase();return n.includes("safari/")&&!n.includes("chrome/")&&!n.includes("crios/")&&!n.includes("android")}(n))return"Safari";if((n.includes("chrome/")||function hk(e=zi()){return/crios\//i.test(e)}(n))&&!n.includes("edge/"))return"Chrome";if(function pk(e=zi()){return/android/i.test(e)}(n))return"Android";{const i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function mk(e,n=[]){let t;switch(e){case"Browser":t=uk(zi());break;case"Worker":t=`${uk(zi())}-${e}`;break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${I_}/${i}`}class PY{constructor(n){this.auth=n,this.queue=[]}pushCallback(n,t){const i=o=>new Promise((s,l)=>{try{s(n(o))}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(n){var t=this;return se(function*(){if(t.auth.currentUser===n)return;const i=[];try{for(const r of t.queue)yield r(n),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function aC(){return(aC=se(function*(e,n={}){return Ht(e,"GET","/v2/passwordPolicy",jt(e,n))})).apply(this,arguments)}class FY{constructor(n){var t,i,r,o;const s=n.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=n.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=n.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=n.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=n.schemaVersion}validatePassword(n){var t,i,r,o,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(n,c),this.validatePasswordCharacterOptions(n,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(i=c.meetsMaxPasswordLength)||void 0===i||i),c.isValid&&(c.isValid=null===(r=c.containsLowercaseLetter)||void 0===r||r),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(l=c.containsNonAlphanumericCharacter)||void 0===l||l),c}validatePasswordLengthOptions(n,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=n.length>=i),r&&(t.meetsMaxPasswordLength=n.length<=r)}validatePasswordCharacterOptions(n,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<n.length;r++)i=n.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(n,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(n.containsLowercaseLetter||(n.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(n.containsUppercaseLetter||(n.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(n.containsNumericCharacter||(n.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(n.containsNonAlphanumericCharacter||(n.containsNonAlphanumericCharacter=o))}}class BY{constructor(n,t,i,r){this.app=n,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vk(this),this.idTokenSubscription=new vk(this),this.beforeStateQueue=new PY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=n.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(n,t){var i=this;return t&&(this._popupRedirectResolver=Ko(t)),this._initializationPromise=this.queue(se(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield gu.create(i,n),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var n=this;return se(function*(){if(n._deleted)return;const t=yield n.assertedPersistence.getCurrentUser();if(n.currentUser||t){if(n.currentUser&&t&&n.currentUser.uid===t.uid)return n._currentUser._assign(t),void(yield n.currentUser.getIdToken());yield n._updateCurrentUser(t,!0)}})()}initializeCurrentUser(n){var t=this;return se(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(n&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const l=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,c=o?._redirectEventId,d=yield t.tryRedirectSignIn(n);(!l||l===c)&&d?.user&&(o=d.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(l){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(l))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return J(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(n){var t=this;return se(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,n,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(n){var t=this;return se(function*(){try{yield xh(n)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(n)})()}useDeviceLanguage(){this.languageCode=function pY(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var n=this;return se(function*(){n._deleted=!0})()}updateCurrentUser(n){var t=this;return se(function*(){const i=n?co(n):null;return i&&J(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(n,t=!1){var i=this;return se(function*(){if(!i._deleted)return n&&J(i.tenantId===n.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(n)),i.queue(se(function*(){yield i.directlySetCurrentUser(n),i.notifyAuthListeners()}))})()}signOut(){var n=this;return se(function*(){return yield n.beforeStateQueue.runMiddleware(null),(n.redirectPersistenceManager||n._popupRedirectResolver)&&(yield n._setRedirectUser(null)),n._updateCurrentUser(null,!0)})()}setPersistence(n){var t=this;return this.queue(se(function*(){yield t.assertedPersistence.setPersistence(Ko(n))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(n){var t=this;return se(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const i=t._getPasswordPolicyInternal();return i.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(n)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var n=this;return se(function*(){const t=yield function kY(e){return aC.apply(this,arguments)}(n),i=new FY(t);null===n.tenantId?n._projectPasswordPolicy=i:n._tenantPasswordPolicies[n.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(n){this._errorFactory=new Ch("auth","Firebase",n())}onAuthStateChanged(n,t,i){return this.registerStateListener(this.authStateSubscription,n,t,i)}beforeAuthStateChanged(n,t){return this.beforeStateQueue.pushCallback(n,t)}onIdTokenChanged(n,t,i){return this.registerStateListener(this.idTokenSubscription,n,t,i)}authStateReady(){return new Promise((n,t)=>{if(this.currentUser)n();else{const i=this.onAuthStateChanged(()=>{i(),n()},t)}})}revokeAccessToken(n){var t=this;return se(function*(){if(t.currentUser){const i=yield t.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:n,idToken:i};null!=t.tenantId&&(r.tenantId=t.tenantId),yield function xY(e,n){return oC.apply(this,arguments)}(t,r)}})()}toJSON(){var n;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(n=this._currentUser)||void 0===n?void 0:n.toJSON()}}_setRedirectUser(n,t){var i=this;return se(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===n?r.removeCurrentUser():r.setCurrentUser(n)})()}getOrInitRedirectPersistenceManager(n){var t=this;return se(function*(){if(!t.redirectPersistenceManager){const i=n&&Ko(n)||t._popupRedirectResolver;J(i,t,"argument-error"),t.redirectPersistenceManager=yield gu.create(t,[Ko(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(n){var t=this;return se(function*(){var i,r;return t._isInitialized&&(yield t.queue(se(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===n?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===n?t.redirectUser:null})()}_persistUserIfCurrent(n){var t=this;return se(function*(){if(n===t.currentUser)return t.queue(se(function*(){return t.directlySetCurrentUser(n)}))})()}_notifyListenersIfCurrent(n){n===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(n=this.currentUser)||void 0===n?void 0:n.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(n,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=n.addObserver(t,i,r);return()=>{s=!0,c()}}{const c=n.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(n){var t=this;return se(function*(){t.currentUser&&t.currentUser!==n&&t._currentUser._stopProactiveRefresh(),n&&t.isProactiveRefreshEnabled&&n._startProactiveRefresh(),t.currentUser=n,n?yield t.assertedPersistence.setCurrentUser(n):yield t.assertedPersistence.removeCurrentUser()})()}queue(n){return this.operations=this.operations.then(n,n),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(n){!n||this.frameworks.includes(n)||(this.frameworks.push(n),this.frameworks.sort(),this.clientVersion=mk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var n=this;return se(function*(){var t;const i={"X-Client-Version":n.clientVersion};n.app.options.appId&&(i["X-Firebase-gmpid"]=n.app.options.appId);const r=yield null===(t=n.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield n._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var n=this;return se(function*(){var t;const i=yield null===(t=n.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function hY(e,...n){M_.logLevel<=Dt.WARN&&M_.warn(`Auth (${I_}): ${e}`,...n)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}class vk{constructor(n){this.auth=n,this.observer=null,this.addObserver=function x9(e,n){const t=new R9(e,n);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function yk(e){return`__${e}${Math.floor(1e6*Math.random())}`})("rcb"),new Mh(3e4,6e4),new Mh(2e3,1e4),new Mh(3e4,6e4),new Mh(5e3,15e3),encodeURIComponent("fac");var Kk="@firebase/auth";class UQ{constructor(n){this.auth=n,this.internalListeners=new Map}getUid(){var n;return this.assertAuthConfigured(),(null===(n=this.auth.currentUser)||void 0===n?void 0:n.uid)||null}getToken(n){var t=this;return se(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(n)}:null})()}addAuthTokenListener(n){if(this.assertAuthConfigured(),this.internalListeners.has(n))return;const t=this.auth.onIdTokenChanged(i=>{n(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(n,t),this.updateProactiveRefresh()}removeAuthTokenListener(n){this.assertAuthConfigured();const t=this.internalListeners.get(n);t&&(this.internalListeners.delete(n),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}b_(),function HQ(e){du(new Ja("auth",(n,{options:t})=>{const i=n.getProvider("app").getImmediate(),r=n.getProvider("heartbeat"),o=n.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=i.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mk(e)},d=new BY(i,r,o,c);return function zY(e,n){const t=n?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ko);n?.errorMap&&e._updateErrorMap(n.errorMap),e._initializeWithPersistence(i,n?.popupRedirectResolver)}(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,i)=>{n.getProvider("auth-internal").initialize()})),du(new Ja("auth-internal",n=>{const t=function _n(e){return co(e)}(n.getProvider("auth").getImmediate());return new UQ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Kk,"1.5.1",function jQ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),mr(Kk,"1.5.1","esm2017")}("Browser");class eL{constructor(){return Uw("auth")}}function tL(e,n){return n?t=>rh(n.pipe(Zn(1),function YQ(){return Je((e,n)=>{e.subscribe(Ge(n,si))})}()),t.pipe(tL(e))):dn((t,i)=>an(e(t,i)).pipe(Zn(1),_O(t)))}function nL(e=0,n,t=KZ){let i=-1;return null!=n&&(jf(n)?t=n:i=n),new Ze(r=>{let o=function KQ(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function iL(e,n=Bw){const t=nL(e,n);return tL(()=>t)}const rL="@firebase/database";let X1="";class QQ{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),kn(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:Dh(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class JQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return lo(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const aL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new QQ(n)}}catch{}return new JQ},al=aL("localStorage"),eD=aL("sessionStorage"),_u=new Iw("@firebase/database"),lL=function(){let e=1;return function(){return e++}}(),cL=function(e){const n=function(e){const n=[];let t=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,W(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(e.charCodeAt(i)-56320)}r<128?n[t++]=r:r<2048?(n[t++]=r>>6|192,n[t++]=63&r|128):r<65536?(n[t++]=r>>12|224,n[t++]=r>>6&63|128,n[t++]=63&r|128):(n[t++]=r>>18|240,n[t++]=r>>12&63|128,n[t++]=r>>6&63|128,n[t++]=63&r|128)}return n}(e),t=new N9;t.update(n);const i=t.digest();return bw.encodeByteArray(i)},Bh=function(...e){let n="";for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Bh.apply(null,i):n+="object"==typeof i?kn(i):i,n+=" "}return n};let ll=null,uL=!0;const Ln=function(...e){if(!0===uL&&(uL=!1,null===ll&&!0===eD.get("logging_enabled")&&function(e,n){W(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(_u.logLevel=Dt.VERBOSE,ll=_u.log.bind(_u),n&&eD.set("logging_enabled",!0)):"function"==typeof e?ll=e:(ll=null,eD.remove("logging_enabled"))}(!0)),ll){const n=Bh.apply(null,e);ll(n)}},Vh=function(e){return function(...n){Ln(e,...n)}},tD=function(...e){const n="FIREBASE INTERNAL ERROR: "+Bh(...e);_u.error(n)},fo=function(...e){const n=`FIREBASE FATAL ERROR: ${Bh(...e)}`;throw _u.error(n),new Error(n)},oi=function(...e){const n="FIREBASE WARNING: "+Bh(...e);_u.warn(n)},G_=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ws="[MIN_NAME]",Jo="[MAX_NAME]",cl=function(e,n){if(e===n)return 0;if(e===Ws||n===Jo)return-1;if(n===Ws||e===Jo)return 1;{const t=pL(e),i=pL(n);return null!==t?null!==i?t-i==0?e.length-n.length:t-i:-1:null!==i?1:e<n?-1:1}},tJ=function(e,n){return e===n?0:e<n?-1:1},Uh=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+kn(n))},nD=function(e){if("object"!=typeof e||null===e)return kn(e);const n=[];for(const i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)0!==i&&(t+=","),t+=kn(n[i]),t+=":",t+=nD(e[n[i]]);return t+="}",t},hL=function(e,n){const t=e.length;if(t<=n)return[e];const i=[];for(let r=0;r<t;r+=n)i.push(e.substring(r,r+n>t?t:r+n));return i};function Fn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const fL=function(e){W(!G_(e),"Invalid JSON number");const i=1023;let r,o,s,l,c;0===e?(o=0,s=0,r=1/e==-1/0?1:0):(r=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=l+i,s=Math.round(e*Math.pow(2,52-l)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const d=[];for(c=52;c;c-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(r?1:0),d.reverse();const f=d.join("");let g="";for(c=0;c<64;c+=8){let _=parseInt(f.substr(c,8),2).toString(16);1===_.length&&(_="0"+_),g+=_}return g.toLowerCase()},oJ=new RegExp("^-?(0*)\\d{1,10}$"),pL=function(e){if(oJ.test(e)){const n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},mu=function(e){try{e()}catch(n){setTimeout(()=>{throw oi("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},jh=function(e,n){const t=setTimeout(e,n);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class cJ{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){oi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uJ{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oi(n)}}let Hh=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const yL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CL="websocket",DL="long_polling";class rD{constructor(n,t,i,r,o=!1,s="",l=!1,c=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=al.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&al.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function EL(e,n,t){let i;if(W("string"==typeof n,"typeof type must == string"),W("object"==typeof t,"typeof params must == object"),n===CL)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==DL)throw new Error("Unknown connection type: "+n);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function dJ(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const r=[];return Fn(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class hJ{constructor(){this.counters_={}}incrementCounter(n,t=1){lo(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return d9(this.counters_)}}const oD={},sD={};function aD(e){const n=e.toString();return oD[n]||(oD[n]=new hJ),oD[n]}class pJ{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&mu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class qs{constructor(n,t,i,r,o,s,l){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vh(n),this.stats_=aD(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),EL(t,DL,c))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pJ(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lD((...o)=>{const[s,l,c,d,f]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=l,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,l)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&yL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){qs.forceAllow_=!0}static forceDisallow(){qs.forceDisallow_=!0}static isAvailable(){return!(!qs.forceAllow_&&(qs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=kn(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=wP(t),r=hL(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=kn(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class lD{constructor(n,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=lD.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(l){Ln("frame writing exception"),l.stack&&Ln(l.stack),Ln(l)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Ln("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(r),i()})}addTag(n,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ln("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let W_=null;typeof MozWebSocket<"u"?W_=MozWebSocket:typeof WebSocket<"u"&&(W_=WebSocket);let vu=(()=>{class e{constructor(t,i,r,o,s,l,c){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vh(this.connId),this.stats_=aD(i),this.connURL=e.connectionURL_(i,l,c,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const l={v:"5"};return typeof location<"u"&&location.hostname&&yL.test(location.hostname)&&(l.r="f"),i&&(l.s=i),r&&(l.ls=r),o&&(l.ac=o),s&&(l.p=s),EL(t,CL,l)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,al.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new W_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==W_&&!e.forceDisallow_}static previouslyFailed(){return al.isInMemoryStorage||!0===al.get("previous_websocket_failure")}markConnectionHealthy(){al.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=Dh(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(W(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=kn(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=hL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),xL=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[qs,vu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=vu&&vu.isAvailable();let r=i&&!vu.previouslyFailed();if(t.webSocketOnly&&(i||oi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vu];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class BL{constructor(n,t,i,r,o,s,l,c,d,f){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=l,this.onDisconnect_=c,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vh("c:"+this.id+":"),this.transportManager_=new xL(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=jh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=Uh("t",n),i=Uh("d",n);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=Uh("t",n),i=Uh("d",n);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=Uh("t",n);if("d"in n){const i=n.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?tD("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tD("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&oi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),jh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(al.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class VL{put(n,t,i,r){}merge(n,t,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}}class UL{constructor(n){this.allowedEvents_=n,this.listeners_={},W(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});const r=this.getInitialEvent(n);r&&t.apply(i,r)}off(n,t,i){this.validateEventType_(n);const r=this.listeners_[n]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(n){W(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class q_ extends UL{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ww()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new q_}getInitialEvent(n){return W("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class _t{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function ot(){return new _t("")}function ke(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zs(e){return e.pieces_.length-e.pieceNum_}function St(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new _t(e.pieces_,n)}function uD(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function $h(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function $L(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new _t(n,0)}function Wt(e,n){const t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof _t)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{const i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new _t(t,0)}function Le(e){return e.pieceNum_>=e.pieces_.length}function yi(e,n){const t=ke(e),i=ke(n);if(null===t)return n;if(t===i)return yi(St(e),St(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function LJ(e,n){const t=$h(e,0),i=$h(n,0);for(let r=0;r<t.length&&r<i.length;r++){const o=cl(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function dD(e,n){if(Zs(e)!==Zs(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function yr(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(Zs(e)>Zs(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}class FJ{constructor(n,t){this.errorPrefix_=t,this.parts_=$h(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=D_(this.parts_[i]);GL(this)}}function GL(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ul(e))}function ul(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class hD extends UL{constructor(){let n,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new hD}getInitialEvent(n){return W("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Gh=1e3;let Y_,dl=(()=>{class e extends VL{constructor(t,i,r,o,s,l,c,d){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=e.nextPersistentConnectionId_++,this.log_=Vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hD.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&q_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(kn(s)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new cu,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:l=>{const c=l.d;"ok"===l.s?i.resolve(c):i.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,l=t._path.toString();this.log_("Listen called for "+l+" "+s),this.listens.has(l)||this.listens.set(l,new Map),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(l).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(l).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const d=c.d,f=c.s;e.warnOnListenWarnings_(d,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",c),"ok"!==f&&this.removeListen_(r,o),t.onComplete&&t.onComplete(f,d))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&lo(t,"w")){const r=uu(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();oi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(e){const n=w_(e).claims;return"object"==typeof n&&!0===n.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(e){const t=w_(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,l=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),W(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,l=>{o&&setTimeout(()=>{o(l.s,l.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const l={p:i,d:r};void 0!==s&&(l.h=s),this.outstandingPuts_.push({action:t,request:l,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+kn(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):tD("Unrecognized action received from server: "+kn(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return se(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+e.nextConnectionId_++,l=t.lastSessionId;let c=!1,d=null;const f=function(){d?d.close():(c=!0,o())};t.realtime_={close:f,sendRequest:function(v){W(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)}};const _=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[v,b]=yield Promise.all([t.authTokenProvider_.getToken(_),t.appCheckTokenProvider_.getToken(_)]);c?Ln("getToken() completed but was canceled"):(Ln("getToken() completed. Creating connection."),t.authToken_=v&&v.accessToken,t.appCheckToken_=b&&b.token,d=new BL(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,C=>{oi(C+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},l))}catch(v){t.log_("Failed to get token: "+v),c||(t.repoInfo_.nodeAdmin&&oi(v),f())}}})()}interrupt(t){Ln("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ln("Resuming connection for reason: "+t),delete this.interruptReasons_[t],TP(this.interruptReasons_)&&(this.reconnectDelay_=Gh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>nD(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new _t(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ln("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ln("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+X1.replace(/\./g,"-")]=1,ww()?t["framework.cordova"]=1:EP()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=q_.getInstance().currentlyOnline();return TP(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class Ve{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new Ve(n,t)}}class Z_{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const i=new Ve(Ws,n),r=new Ve(Ws,t);return 0!==this.compare(i,r)}minPost(){return Ve.MIN}}class qL extends Z_{static get __EMPTY_NODE(){return Y_}static set __EMPTY_NODE(n){Y_=n}compare(n,t){return cl(n.name,t.name)}isDefinedOn(n){throw lu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return Ve.MIN}maxPost(){return new Ve(Jo,Y_)}makePost(n,t){return W("string"==typeof n,"KeyIndex indexValue must always be a string."),new Ve(n,Y_)}toString(){return".key"}}const po=new qL;class K_{constructor(n,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(s=t?i(n.key,t):1,r&&(s*=-1),s<0)n=this.isReverse_?n.left:n.right;else{if(0===s){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let pD,Pr=(()=>{class e{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??e.RED,this.left=o??xi.EMPTY_NODE,this.right=s??xi.EMPTY_NODE}copy(t,i,r,o,s){return new e(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return xi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return xi.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class xi{constructor(n,t=xi.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new xi(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,Pr.BLACK,null,null))}remove(n){return new xi(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Pr.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new K_(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new K_(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new K_(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new K_(this.root_,null,this.comparator_,!0,n)}}function zJ(e,n){return cl(e.name,n.name)}function fD(e,n){return cl(e,n)}xi.EMPTY_NODE=new class GJ{copy(n,t,i,r,o){return this}insert(n,t,i){return new Pr(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ZL=function(e){return"number"==typeof e?"number:"+fL(e):"string:"+e},YL=function(e){if(e.isLeafNode()){const n=e.val();W("string"==typeof n||"number"==typeof n||"object"==typeof n&&lo(n,".sv"),"Priority must be a string or number.")}else W(e===pD||e.isEmpty(),"priority of unexpected type.");W(e===pD||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let KL,QL,JL,yu=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,W(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),YL(this.priorityNode_)}static set __childrenNodeConstructor(t){KL=t}static get __childrenNodeConstructor(){return KL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Le(t)?this:".priority"===ke(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ke(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(W(".priority"!==r||1===Zs(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+ZL(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?fL(this.value_):this.value_,this.lazyHash_=cL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(W(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return W(o>=0,"Unknown leaf type: "+i),W(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const kt=new class YJ extends Z_{compare(n,t){const i=n.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?cl(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return Ve.MIN}maxPost(){return new Ve(Jo,new yu("[PRIORITY-POST]",JL))}makePost(n,t){const i=QL(n);return new Ve(t,new yu("[PRIORITY-POST]",i))}toString(){return".priority"}},KJ=Math.log(2);class QJ{constructor(n){this.count=parseInt(Math.log(n+1)/KJ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&r}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Q_=function(e,n,t,i){e.sort(n);const r=function(c,d){const f=d-c;let g,_;if(0===f)return null;if(1===f)return g=e[c],_=t?t(g):g,new Pr(_,g.node,Pr.BLACK,null,null);{const v=parseInt(f/2,10)+c,b=r(c,v),C=r(v+1,d);return g=e[v],_=t?t(g):g,new Pr(_,g.node,Pr.BLACK,b,C)}},l=function(c){let d=null,f=null,g=e.length;const _=function(b,C){const E=g-b,R=g;g-=b;const I=r(E+1,R),G=e[E],H=t?t(G):G;v(new Pr(H,G.node,C,null,I))},v=function(b){d?(d.left=b,d=b):(f=b,d=b)};for(let b=0;b<c.count;++b){const C=c.nextBitIsOne(),E=Math.pow(2,c.count-(b+1));C?_(E,Pr.BLACK):(_(E,Pr.BLACK),_(E,Pr.RED))}return f}(new QJ(e.length));return new xi(i||n,l)};let gD;const bu={};class Xo{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return W(bu&&kt,"ChildrenNode.ts has not been loaded"),gD=gD||new Xo({".priority":bu},{".priority":kt}),gD}get(n){const t=uu(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof xi?t:null}hasIndex(n){return lo(this.indexSet_,n.toString())}addIndex(n,t){W(n!==po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Ve.Wrap);let l,s=o.getNext();for(;s;)r=r||n.isDefinedOn(s.node),i.push(s),s=o.getNext();l=r?Q_(i,n.getCompare()):bu;const c=n.toString(),d=Object.assign({},this.indexSet_);d[c]=n;const f=Object.assign({},this.indexes_);return f[c]=l,new Xo(f,d)}addToIndexes(n,t){const i=C_(this.indexes_,(r,o)=>{const s=uu(this.indexSet_,o);if(W(s,"Missing index implementation for "+o),r===bu){if(s.isDefinedOn(n.node)){const l=[],c=t.getIterator(Ve.Wrap);let d=c.getNext();for(;d;)d.name!==n.name&&l.push(d),d=c.getNext();return l.push(n),Q_(l,s.getCompare())}return bu}{const l=t.get(n.name);let c=r;return l&&(c=c.remove(new Ve(n.name,l))),c.insert(n,n.node)}});return new Xo(i,this.indexSet_)}removeFromIndexes(n,t){const i=C_(this.indexes_,r=>{if(r===bu)return r;{const o=t.get(n.name);return o?r.remove(new Ve(n.name,o)):r}});return new Xo(i,this.indexSet_)}}let zh,Ie=(()=>{class e{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YL(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zh||(zh=new e(new xi(fD),null,Xo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zh}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?zh:i}}getChild(t){const i=ke(t);return null===i?this:this.getImmediateChild(i).getChild(St(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(W(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Ve(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const l=o.isEmpty()?zh:this.priorityNode_;return new e(o,l,s)}}updateChild(t,i){const r=ke(t);if(null===r)return i;{W(".priority"!==ke(t)||1===Zs(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(St(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(kt,(l,c)=>{i[l]=c.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):s=!1}),!t&&s&&o<2*r){const l=[];for(const c in i)l[c]=i[c];return l}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+ZL(this.getPriority().val())+":"),this.forEachChild(kt,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":cL(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new Ve(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Ve(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Ve(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Ve.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Ve.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wh?-1:0}withIndex(t){if(t===po||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===po||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(kt),o=i.getIterator(kt);let s=r.getNext(),l=o.getNext();for(;s&&l;){if(s.name!==l.name||!s.node.equals(l.node))return!1;s=r.getNext(),l=o.getNext()}return null===s&&null===l}return!1}return!1}}resolveIndex_(t){return t===po?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Wh=new class JJ extends Ie{constructor(){super(new xi(fD),Ie.EMPTY_NODE,Xo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Ie.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ve,{MIN:{value:new Ve(Ws,Ie.EMPTY_NODE)},MAX:{value:new Ve(Jo,Wh)}}),qL.__EMPTY_NODE=Ie.EMPTY_NODE,yu.__childrenNodeConstructor=Ie,function WJ(e){pD=e}(Wh),function ZJ(e){JL=e}(Wh);const XJ=!0;function tn(e,n=null){if(null===e)return Ie.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),W(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new yu(e,tn(n));if(e instanceof Array||!XJ){let t=Ie.EMPTY_NODE;return Fn(e,(i,r)=>{if(lo(e,i)&&"."!==i.substring(0,1)){const o=tn(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(tn(n))}{const t=[];let i=!1;if(Fn(e,(s,l)=>{if("."!==s.substring(0,1)){const c=tn(l);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new Ve(s,c)))}}),0===t.length)return Ie.EMPTY_NODE;const o=Q_(t,zJ,s=>s.name,fD);if(i){const s=Q_(t,kt.getCompare());return new Ie(o,tn(n),new Xo({".priority":s},{".priority":kt}))}return new Ie(o,tn(n),Xo.Default)}}!function qJ(e){QL=e}(tn);class _D extends Z_{constructor(n){super(),this.indexPath_=n,W(!Le(n)&&".priority"!==ke(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const i=this.extractChild(n.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?cl(n.name,t.name):o}makePost(n,t){const i=tn(n),r=Ie.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ve(t,r)}maxPost(){const n=Ie.EMPTY_NODE.updateChild(this.indexPath_,Wh);return new Ve(Jo,n)}toString(){return $h(this.indexPath_,0).join("/")}}const mD=new class eX extends Z_{compare(n,t){const i=n.node.compareTo(t.node);return 0===i?cl(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return Ve.MIN}maxPost(){return Ve.MAX}makePost(n,t){const i=tn(n);return new Ve(t,i)}toString(){return".value"}};function XL(e){return{type:"value",snapshotNode:e}}function wu(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function qh(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function Zh(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class vD{constructor(n){this.index_=n}updateChild(n,t,i,r,o,s){W(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=n.getImmediateChild(t);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?n.hasChild(t)?s.trackChildChange(qh(t,l)):W(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?s.trackChildChange(wu(t,i)):s.trackChildChange(Zh(t,i,l))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return null!=i&&(n.isLeafNode()||n.forEachChild(kt,(r,o)=>{t.hasChild(r)||i.trackChildChange(qh(r,o))}),t.isLeafNode()||t.forEachChild(kt,(r,o)=>{if(n.hasChild(r)){const s=n.getImmediateChild(r);s.equals(o)||i.trackChildChange(Zh(r,o,s))}else i.trackChildChange(wu(r,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?Ie.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Yh{constructor(n){this.indexedFilter_=new vD(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Yh.getStartPost_(n),this.endPost_=Yh.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,r,o,s){return this.matches(new Ve(t,i))||(i=Ie.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,r,o,s)}updateFullNode(n,t,i){t.isLeafNode()&&(t=Ie.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ie.EMPTY_NODE);const o=this;return t.forEachChild(kt,(s,l)=>{o.matches(new Ve(s,l))||(r=r.updateImmediateChild(s,Ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class nX{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Yh(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,r,o,s){return this.rangedFilter_.matches(new Ve(t,i))||(i=Ie.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,r,o,s):this.fullLimitUpdateChild_(n,t,i,o,s)}updateFullNode(n,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=Ie.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l)){if(!this.withinDirectionalEnd(l))break;r=r.updateImmediateChild(l.name,l.node),s++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(Ie.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const l=o.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:r=r.updateImmediateChild(l.name,Ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,r,o){let s;if(this.reverse_){const g=this.index_.getCompare();s=(_,v)=>g(v,_)}else s=this.index_.getCompare();const l=n;W(l.numChildren()===this.limit_,"");const c=new Ve(t,i),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(l.hasChild(t)){const g=l.getImmediateChild(t);let _=r.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=_&&(_.name===t||l.hasChild(_.name));)_=r.getChildAfterChild(this.index_,_,this.reverse_);const v=null==_?1:s(_,c);if(f&&!i.isEmpty()&&v>=0)return o?.trackChildChange(Zh(t,i,g)),l.updateImmediateChild(t,i);{o?.trackChildChange(qh(t,g));const C=l.updateImmediateChild(t,Ie.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(wu(_.name,_.node)),C.updateImmediateChild(_.name,_.node)):C}}return i.isEmpty()?n:f&&s(d,c)>=0?(null!=o&&(o.trackChildChange(qh(d.name,d.node)),o.trackChildChange(wu(t,i))),l.updateImmediateChild(t,i).updateImmediateChild(d.name,Ie.EMPTY_NODE)):n}}class yD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kt}copy(){const n=new yD;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function eF(e){const n={};if(e.isDefault())return n;let t;if(e.index_===kt?t="$priority":e.index_===mD?t="$value":e.index_===po?t="$key":(W(e.index_ instanceof _D,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=kn(t),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";n[i]=kn(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+kn(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";n[i]=kn(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+kn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function tF(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==kt&&(n.i=e.index_.toString()),n}class X_ extends VL{constructor(n,t,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Vh("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:(W(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,r){const o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);const s=X_.getListenId_(n,i),l={};this.listens_[s]=l;const c=eF(n._queryParams);this.restRequest_(o+".json",c,(d,f)=>{let g=f;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(o,g,!1,i),uu(this.listens_,s)===l){let _;_=d?401===d?"permission_denied":"rest_error:"+d:"ok",r(_,null)}})}unlisten(n,t){const i=X_.getListenId_(n,t);delete this.listens_[i]}get(n){const t=eF(n._queryParams),i=n._path.toString(),r=new cu;return this.restRequest_(i+".json",t,(o,s)=>{let l=s;404===o&&(l=null,o=null),null===o?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Dw(t);this.log_("Sending REST request for "+s);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&4===l.readyState){this.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Dh(l.responseText)}catch{oi("Failed to parse JSON response for "+s+": "+l.responseText)}i(null,c)}else 401!==l.status&&404!==l.status&&oi("Got unsuccessful REST response for "+s+" Status: "+l.status),i(l.status);i=null}},l.open("GET",s,!0),l.send()})}}class lX{constructor(){this.rootNode_=Ie.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function em(){return{value:null,children:new Map}}function Cu(e,n,t){if(Le(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const i=ke(n);e.children.has(i)||e.children.set(i,em()),Cu(e.children.get(i),n=St(n),t)}}function DD(e,n,t){null!==e.value?t(n,e.value):function cX(e,n){e.children.forEach((t,i)=>{n(i,t)})}(e,(i,r)=>{DD(r,new _t(n.toString()+"/"+i),t)})}class uX{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Fn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=n,t}}class fX{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uX(n);const i=1e4+2e4*Math.random();jh(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),t={};let i=!1;Fn(n,(r,o)=>{o>0&&lo(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),jh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var go=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(go||{});function ID(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class tm{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=go.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(Le(this.path)){if(null!=this.affectedTree.value)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new _t(n));return new tm(ot(),t,this.revert)}}return W(ke(this.path)===n,"operationForChild called for unrelated child."),new tm(St(this.path),this.affectedTree,this.revert)}}class Kh{constructor(n,t){this.source=n,this.path=t,this.type=go.LISTEN_COMPLETE}operationForChild(n){return Le(this.path)?new Kh(this.source,ot()):new Kh(this.source,St(this.path))}}class hl{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=go.OVERWRITE}operationForChild(n){return Le(this.path)?new hl(this.source,ot(),this.snap.getImmediateChild(n)):new hl(this.source,St(this.path),this.snap)}}class Du{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=go.MERGE}operationForChild(n){if(Le(this.path)){const t=this.children.subtree(new _t(n));return t.isEmpty()?null:t.value?new hl(this.source,ot(),t.value):new Du(this.source,ot(),t)}return W(ke(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Du(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ys{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Le(n))return this.isFullyInitialized()&&!this.filtered_;const t=ke(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class pX{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Qh(e,n,t,i,r,o){const s=i.filter(l=>l.type===t);s.sort((l,c)=>function mX(e,n,t){if(null==n.childName||null==t.childName)throw lu("Should only compare child_ events.");const i=new Ve(n.childName,n.snapshotNode),r=new Ve(t.childName,t.snapshotNode);return e.index_.compare(i,r)}(e,l,c)),s.forEach(l=>{const c=function _X(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,l,o);r.forEach(d=>{d.respondsTo(l.type)&&n.push(d.createEvent(c,e.query_))})})}function nm(e,n){return{eventCache:e,serverCache:n}}function Jh(e,n,t,i){return nm(new Ys(n,t,i),e.serverCache)}function iF(e,n,t,i){return nm(e.eventCache,new Ys(n,t,i))}function im(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let SD;class Lt{constructor(n,t=(()=>(SD||(SD=new xi(tJ)),SD))()){this.value=n,this.children=t}static fromObject(n){let t=new Lt(null);return Fn(n,(i,r)=>{t=t.set(new _t(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:ot(),value:this.value};if(Le(n))return null;{const i=ke(n),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(St(n),t);return null!=o?{path:Wt(new _t(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Le(n))return this;{const t=ke(n),i=this.children.get(t);return null!==i?i.subtree(St(n)):new Lt(null)}}set(n,t){if(Le(n))return new Lt(t,this.children);{const i=ke(n),o=(this.children.get(i)||new Lt(null)).set(St(n),t),s=this.children.insert(i,o);return new Lt(this.value,s)}}remove(n){if(Le(n))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const t=ke(n),i=this.children.get(t);if(i){const r=i.remove(St(n));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Lt(null):new Lt(this.value,o)}return this}}get(n){if(Le(n))return this.value;{const t=ke(n),i=this.children.get(t);return i?i.get(St(n)):null}}setTree(n,t){if(Le(n))return t;{const i=ke(n),o=(this.children.get(i)||new Lt(null)).setTree(St(n),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Lt(this.value,s)}}fold(n){return this.fold_(ot(),n)}fold_(n,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Wt(n,r),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,ot(),t)}findOnPath_(n,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Le(n))return null;{const o=ke(n),s=this.children.get(o);return s?s.findOnPath_(St(n),Wt(t,o),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,ot(),t)}foreachOnPath_(n,t,i){if(Le(n))return this;{this.value&&i(t,this.value);const r=ke(n),o=this.children.get(r);return o?o.foreachOnPath_(St(n),Wt(t,r),i):new Lt(null)}}foreach(n){this.foreach_(ot(),n)}foreach_(n,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Wt(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}}class kr{constructor(n){this.writeTree_=n}static empty(){return new kr(new Lt(null))}}function Xh(e,n,t){if(Le(n))return new kr(new Lt(t));{const i=e.writeTree_.findRootMostValueAndPath(n);if(null!=i){const r=i.path;let o=i.value;const s=yi(r,n);return o=o.updateChild(s,t),new kr(e.writeTree_.set(r,o))}{const r=new Lt(t),o=e.writeTree_.setTree(n,r);return new kr(o)}}}function MD(e,n,t){let i=e;return Fn(t,(r,o)=>{i=Xh(i,Wt(n,r),o)}),i}function rF(e,n){if(Le(n))return kr.empty();{const t=e.writeTree_.setTree(n,new Lt(null));return new kr(t)}}function AD(e,n){return null!=pl(e,n)}function pl(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(yi(t.path,n)):null}function oF(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(kt,(i,r)=>{n.push(new Ve(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&n.push(new Ve(i,r.value))}),n}function Ks(e,n){if(Le(n))return e;{const t=pl(e,n);return new kr(null!=t?new Lt(t):e.writeTree_.subtree(n))}}function ND(e){return e.writeTree_.isEmpty()}function Eu(e,n){return sF(ot(),e.writeTree_,n)}function sF(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((r,o)=>{".priority"===r?(W(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=sF(Wt(e,r),o,t)}),!t.getChild(e).isEmpty()&&null!==i&&(t=t.updateChild(Wt(e,".priority"),i)),t}}function rm(e,n){return dF(n,e)}function DX(e,n){if(e.snap)return yr(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&yr(Wt(e.path,t),n))return!0;return!1}function TX(e){return e.visible}function aF(e,n,t){let i=kr.empty();for(let r=0;r<e.length;++r){const o=e[r];if(n(o)){const s=o.path;let l;if(o.snap)yr(t,s)?(l=yi(t,s),i=Xh(i,l,o.snap)):yr(s,t)&&(l=yi(s,t),i=Xh(i,ot(),o.snap.getChild(l)));else{if(!o.children)throw lu("WriteRecord should have .snap or .children");if(yr(t,s))l=yi(t,s),i=MD(i,l,o.children);else if(yr(s,t))if(l=yi(s,t),Le(l))i=MD(i,ot(),o.children);else{const c=uu(o.children,ke(l));if(c){const d=c.getChild(St(l));i=Xh(i,ot(),d)}}}}}return i}function lF(e,n,t,i,r){if(i||r){const o=Ks(e.visibleWrites,n);return!r&&ND(o)?t:r||null!=t||AD(o,ot())?Eu(aF(e.allWrites,function(d){return(d.visible||r)&&(!i||!~i.indexOf(d.writeId))&&(yr(d.path,n)||yr(n,d.path))},n),t||Ie.EMPTY_NODE):null}{const o=pl(e.visibleWrites,n);if(null!=o)return o;{const s=Ks(e.visibleWrites,n);return ND(s)?t:null!=t||AD(s,ot())?Eu(s,t||Ie.EMPTY_NODE):null}}}function om(e,n,t,i){return lF(e.writeTree,e.treePath,n,t,i)}function xD(e,n){return function IX(e,n,t){let i=Ie.EMPTY_NODE;const r=pl(e.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(kt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=Ks(e.visibleWrites,n);return t.forEachChild(kt,(s,l)=>{const c=Eu(Ks(o,new _t(s)),l);i=i.updateImmediateChild(s,c)}),oF(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return oF(Ks(e.visibleWrites,n)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(e.writeTree,e.treePath,n)}function cF(e,n,t,i){return function SX(e,n,t,i,r){W(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Wt(n,t);if(AD(e.visibleWrites,o))return null;{const s=Ks(e.visibleWrites,o);return ND(s)?r.getChild(t):Eu(s,r.getChild(t))}}(e.writeTree,e.treePath,n,t,i)}function sm(e,n){return function AX(e,n){return pl(e.visibleWrites,n)}(e.writeTree,Wt(e.treePath,n))}function RD(e,n,t){return function MX(e,n,t,i){const r=Wt(n,t),o=pl(e.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?Eu(Ks(e.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function uF(e,n){return dF(Wt(e.treePath,n),e.writeTree)}function dF(e,n){return{treePath:e,writeTree:n}}class OX{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,i=n.childName;W("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),W(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,Zh(i,n.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,qh(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,wu(i,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw lu("Illegal combination of changes: "+n+" occurred after "+r);this.changeMap.set(i,Zh(i,n.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const hF=new class PX{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}};class OD{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return RD(this.writes_,n,i)}}getChildAfterChild(n,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fl(this.viewCache_),o=function RX(e,n,t,i,r,o){return function NX(e,n,t,i,r,o,s){let l;const c=Ks(e.visibleWrites,n),d=pl(c,ot());if(null!=d)l=d;else{if(null==t)return[];l=Eu(c,t)}if(l=l.withIndex(s),l.isEmpty()||l.isLeafNode())return[];{const f=[],g=s.getCompare(),_=o?l.getReverseIteratorFrom(i,s):l.getIteratorFrom(i,s);let v=_.getNext();for(;v&&f.length<r;)0!==g(v,i)&&f.push(v),v=_.getNext();return f}}(e.writeTree,e.treePath,n,t,i,r,o)}(this.writes_,r,t,1,i,n);return 0===o.length?null:o[0]}}function fF(e,n,t,i,r,o){const s=n.eventCache;if(null!=sm(i,t))return n;{let l,c;if(Le(t))if(W(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const d=fl(n),g=xD(i,d instanceof Ie?d:Ie.EMPTY_NODE);l=e.filter.updateFullNode(n.eventCache.getNode(),g,o)}else{const d=om(i,fl(n));l=e.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{const d=ke(t);if(".priority"===d){W(1===Zs(t),"Can't have a priority with additional path components");const f=s.getNode();c=n.serverCache.getNode();const g=cF(i,t,f,c);l=null!=g?e.filter.updatePriority(f,g):s.getNode()}else{const f=St(t);let g;if(s.isCompleteForChild(d)){c=n.serverCache.getNode();const _=cF(i,t,s.getNode(),c);g=null!=_?s.getNode().getImmediateChild(d).updateChild(f,_):s.getNode().getImmediateChild(d)}else g=RD(i,d,n.serverCache);l=null!=g?e.filter.updateChild(s.getNode(),d,g,f,r,o):s.getNode()}}return Jh(n,l,s.isFullyInitialized()||Le(t),e.filter.filtersNodes())}}function am(e,n,t,i,r,o,s,l){const c=n.serverCache;let d;const f=s?e.filter:e.filter.getIndexedFilter();if(Le(t))d=f.updateFullNode(c.getNode(),i,null);else if(f.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(t,i);d=f.updateFullNode(c.getNode(),v,null)}else{const v=ke(t);if(!c.isCompleteForPath(t)&&Zs(t)>1)return n;const b=St(t),E=c.getNode().getImmediateChild(v).updateChild(b,i);d=".priority"===v?f.updatePriority(c.getNode(),E):f.updateChild(c.getNode(),v,E,b,hF,null)}const g=iF(n,d,c.isFullyInitialized()||Le(t),f.filtersNodes());return fF(e,g,t,r,new OD(r,g,o),l)}function PD(e,n,t,i,r,o,s){const l=n.eventCache;let c,d;const f=new OD(r,n,o);if(Le(t))d=e.filter.updateFullNode(n.eventCache.getNode(),i,s),c=Jh(n,d,!0,e.filter.filtersNodes());else{const g=ke(t);if(".priority"===g)d=e.filter.updatePriority(n.eventCache.getNode(),i),c=Jh(n,d,l.isFullyInitialized(),l.isFiltered());else{const _=St(t),v=l.getNode().getImmediateChild(g);let b;if(Le(_))b=i;else{const C=f.getCompleteChild(g);b=null!=C?".priority"===uD(_)&&C.getChild($L(_)).isEmpty()?C:C.updateChild(_,i):Ie.EMPTY_NODE}c=v.equals(b)?n:Jh(n,e.filter.updateChild(l.getNode(),g,b,_,f,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return c}function pF(e,n){return e.eventCache.isCompleteForChild(n)}function gF(e,n,t){return t.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function kD(e,n,t,i,r,o,s,l){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let d,c=n;d=Le(t)?i:new Lt(null).setTree(t,i);const f=n.serverCache.getNode();return d.children.inorderTraversal((g,_)=>{if(f.hasChild(g)){const b=gF(0,n.serverCache.getNode().getImmediateChild(g),_);c=am(e,c,new _t(g),b,r,o,s,l)}}),d.children.inorderTraversal((g,_)=>{const v=!n.serverCache.isCompleteForChild(g)&&null===_.value;if(!f.hasChild(g)&&!v){const C=gF(0,n.serverCache.getNode().getImmediateChild(g),_);c=am(e,c,new _t(g),C,r,o,s,l)}}),c}class $X{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new vD(i.getIndex()),o=function iX(e){return e.loadsAllData()?new vD(e.getIndex()):e.hasLimit()?new nX(e):new Yh(e)}(i);this.processor_=function kX(e){return{filter:e}}(o);const s=t.serverCache,l=t.eventCache,c=r.updateFullNode(Ie.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(Ie.EMPTY_NODE,l.getNode(),null),f=new Ys(c,s.isFullyInitialized(),r.filtersNodes()),g=new Ys(d,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=nm(g,f),this.eventGenerator_=new pX(this.query_)}get query(){return this.query_}}function WX(e,n){const t=fl(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!Le(n)&&!t.getImmediateChild(ke(n)).isEmpty())?t.getChild(n):null}function _F(e){return 0===e.eventRegistrations_.length}function mF(e,n,t){const i=[];if(t){W(null==n,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(t,r);s&&i.push(s)})}if(n){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(n)){if(n.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}else r.push(s)}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function vF(e,n,t,i){n.type===go.MERGE&&null!==n.source.queryId&&(W(fl(e.viewCache_),"We should always have a full cache before handling merges"),W(im(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,o=function FX(e,n,t,i,r){const o=new OX;let s,l;if(t.type===go.OVERWRITE){const d=t;d.source.fromUser?s=PD(e,n,d.path,d.snap,i,r,o):(W(d.source.fromServer,"Unknown source."),l=d.source.tagged||n.serverCache.isFiltered()&&!Le(d.path),s=am(e,n,d.path,d.snap,i,r,l,o))}else if(t.type===go.MERGE){const d=t;d.source.fromUser?s=function VX(e,n,t,i,r,o,s){let l=n;return i.foreach((c,d)=>{const f=Wt(t,c);pF(n,ke(f))&&(l=PD(e,l,f,d,r,o,s))}),i.foreach((c,d)=>{const f=Wt(t,c);pF(n,ke(f))||(l=PD(e,l,f,d,r,o,s))}),l}(e,n,d.path,d.children,i,r,o):(W(d.source.fromServer,"Unknown source."),l=d.source.tagged||n.serverCache.isFiltered(),s=kD(e,n,d.path,d.children,i,r,l,o))}else if(t.type===go.ACK_USER_WRITE){const d=t;s=d.revert?function HX(e,n,t,i,r,o){let s;if(null!=sm(i,t))return n;{const l=new OD(i,n,r),c=n.eventCache.getNode();let d;if(Le(t)||".priority"===ke(t)){let f;if(n.serverCache.isFullyInitialized())f=om(i,fl(n));else{const g=n.serverCache.getNode();W(g instanceof Ie,"serverChildren would be complete if leaf node"),f=xD(i,g)}d=e.filter.updateFullNode(c,f,o)}else{const f=ke(t);let g=RD(i,f,n.serverCache);null==g&&n.serverCache.isCompleteForChild(f)&&(g=c.getImmediateChild(f)),d=null!=g?e.filter.updateChild(c,f,g,St(t),l,o):n.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,Ie.EMPTY_NODE,St(t),l,o):c,d.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=om(i,fl(n)),s.isLeafNode()&&(d=e.filter.updateFullNode(d,s,o)))}return s=n.serverCache.isFullyInitialized()||null!=sm(i,ot()),Jh(n,d,s,e.filter.filtersNodes())}}(e,n,d.path,i,r,o):function UX(e,n,t,i,r,o,s){if(null!=sm(r,t))return n;const l=n.serverCache.isFiltered(),c=n.serverCache;if(null!=i.value){if(Le(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return am(e,n,t,c.getNode().getChild(t),r,o,l,s);if(Le(t)){let d=new Lt(null);return c.getNode().forEachChild(po,(f,g)=>{d=d.set(new _t(f),g)}),kD(e,n,t,d,r,o,l,s)}return n}{let d=new Lt(null);return i.foreach((f,g)=>{const _=Wt(t,f);c.isCompleteForPath(_)&&(d=d.set(f,c.getNode().getChild(_)))}),kD(e,n,t,d,r,o,l,s)}}(e,n,d.path,d.affectedTree,i,r,o)}else{if(t.type!==go.LISTEN_COMPLETE)throw lu("Unknown operation type: "+t.type);s=function jX(e,n,t,i,r){const o=n.serverCache;return fF(e,iF(n,o.getNode(),o.isFullyInitialized()||Le(t),o.isFiltered()),t,i,hF,r)}(e,n,t.path,i,o)}const c=o.getChanges();return function BX(e,n,t){const i=n.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=im(e);(t.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(XL(im(n)))}}(n,s,c),{viewCache:s,changes:c}}(e.processor_,r,n,t,i);return function LX(e,n){W(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),W(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),W(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,yF(e,o.changes,o.viewCache.eventCache.getNode(),null)}function yF(e,n,t,i){return function gX(e,n,t,i){const r=[],o=[];return n.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function tX(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(s.childName,s.snapshotNode))}),Qh(e,r,"child_removed",n,i,t),Qh(e,r,"child_added",n,i,t),Qh(e,r,"child_moved",o,i,t),Qh(e,r,"child_changed",n,i,t),Qh(e,r,"value",n,i,t),r}(e.eventGenerator_,n,t,i?[i]:e.eventRegistrations_)}let lm,um;class bF{constructor(){this.views=new Map}}function LD(e,n,t,i){const r=n.source.queryId;if(null!==r){const o=e.views.get(r);return W(null!=o,"SyncTree gave us an op for an invalid query."),vF(o,n,t,i)}{let o=[];for(const s of e.views.values())o=o.concat(vF(s,n,t,i));return o}}function JX(e,n,t,i,r,o){const s=function wF(e,n,t,i,r){const s=e.views.get(n._queryIdentifier);if(!s){let l=om(t,r?i:null),c=!1;l?c=!0:i instanceof Ie?(l=xD(t,i),c=!1):(l=Ie.EMPTY_NODE,c=!1);const d=nm(new Ys(l,c,!1),new Ys(i,r,!1));return new $X(n,d)}return s}(e,n,i,r,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,s),function qX(e,n){e.eventRegistrations_.push(n)}(s,t),function ZX(e,n){const t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(kt,(o,s)=>{i.push(wu(o,s))}),t.isFullyInitialized()&&i.push(XL(t.getNode())),yF(e,i,t.getNode(),n)}(s,t)}function CF(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function Qs(e,n){let t=null;for(const i of e.views.values())t=t||WX(i,n);return t}function DF(e,n){return n._queryParams.loadsAllData()?cm(e):e.views.get(n._queryIdentifier)}function EF(e,n){return null!=DF(e,n)}function Js(e){return null!=cm(e)}function cm(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let nee=1;class TF{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Lt(null),this.pendingWriteTree_=function xX(){return{visibleWrites:kr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FD(e,n,t,i,r){return function yX(e,n,t,i,r){W(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:r}),r&&(e.visibleWrites=Xh(e.visibleWrites,n,t)),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i,r),r?Tu(e,new hl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function Xs(e,n,t=!1){const i=function wX(e,n){for(let t=0;t<e.allWrites.length;t++){const i=e.allWrites[t];if(i.writeId===n)return i}return null}(e.pendingWriteTree_,n);if(function CX(e,n){const t=e.allWrites.findIndex(l=>l.writeId===n);W(t>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[t];e.allWrites.splice(t,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){const l=e.allWrites[s];l.visible&&(s>=t&&DX(l,i.path)?r=!1:yr(i.path,l.path)&&(o=!0)),s--}return!!r&&(o?(function EX(e){e.visibleWrites=aF(e.allWrites,TX,ot()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=rF(e.visibleWrites,i.path):Fn(i.children,c=>{e.visibleWrites=rF(e.visibleWrites,Wt(i.path,c))}),!0))}(e.pendingWriteTree_,n)){let o=new Lt(null);return null!=i.snap?o=o.set(ot(),!0):Fn(i.children,s=>{o=o.set(new _t(s),!0)}),Tu(e,new tm(i.path,o,t))}return[]}function ef(e,n,t){return Tu(e,new hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function dm(e,n,t,i,r=!1){const o=n._path,s=e.syncPointTree_.get(o);let l=[];if(s&&("default"===n._queryIdentifier||EF(s,n))){const c=function XX(e,n,t,i){const r=n._queryIdentifier,o=[];let s=[];const l=Js(e);if("default"===r)for(const[c,d]of e.views.entries())s=s.concat(mF(d,t,i)),_F(d)&&(e.views.delete(c),d.query._queryParams.loadsAllData()||o.push(d.query));else{const c=e.views.get(r);c&&(s=s.concat(mF(c,t,i)),_F(c)&&(e.views.delete(r),c.query._queryParams.loadsAllData()||o.push(c.query)))}return l&&!Js(e)&&o.push(new(function KX(){return W(lm,"Reference.ts has not been loaded"),lm}())(n._repo,n._path)),{removed:o,events:s}}(s,n,t,i);(function QX(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const d=c.removed;if(l=c.events,!r){const f=-1!==d.findIndex(_=>_._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(o,(_,v)=>Js(v));if(f&&!g){const _=e.syncPointTree_.subtree(o);if(!_.isEmpty()){const v=function cee(e){return e.fold((n,t,i)=>{if(t&&Js(t))return[cm(t)];{let r=[];return t&&(r=CF(t)),Fn(i,(o,s)=>{r=r.concat(s)}),r}})}(_);for(let b=0;b<v.length;++b){const C=v[b],E=C.query,R=AF(e,C);e.listenProvider_.startListening(nf(E),tf(e,E),R.hashFn,R.onComplete)}}}!g&&d.length>0&&!i&&(f?e.listenProvider_.stopListening(nf(n),null):d.forEach(_=>{const v=e.queryToTagMap.get(fm(_));e.listenProvider_.stopListening(nf(_),v)}))}!function uee(e,n){for(let t=0;t<n.length;++t){const i=n[t];if(!i._queryParams.loadsAllData()){const r=fm(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}(e,d)}return l}function BD(e,n,t,i=!1){const r=n._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(_,v)=>{const b=yi(_,r);o=o||Qs(v,b),s=s||Js(v)});let c,l=e.syncPointTree_.get(r);l?(s=s||Js(l),o=o||Qs(l,ot())):(l=new bF,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=o?c=!0:(c=!1,o=Ie.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((v,b)=>{const C=Qs(b,ot());C&&(o=o.updateImmediateChild(v,C))}));const d=EF(l,n);if(!d&&!n._queryParams.loadsAllData()){const _=fm(n);W(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const v=function dee(){return nee++}();e.queryToTagMap.set(_,v),e.tagToQueryMap.set(v,_)}let g=JX(l,n,t,rm(e.pendingWriteTree_,r),o,c);if(!d&&!s&&!i){const _=DF(l,n);g=g.concat(function hee(e,n,t){const i=n._path,r=tf(e,n),o=AF(e,t),s=e.listenProvider_.startListening(nf(n),r,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(i);if(r)W(!Js(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((d,f,g)=>{if(!Le(d)&&f&&Js(f))return[cm(f).query];{let _=[];return f&&(_=_.concat(CF(f).map(v=>v.query))),Fn(g,(v,b)=>{_=_.concat(b)}),_}});for(let d=0;d<c.length;++d){const f=c[d];e.listenProvider_.stopListening(nf(f),tf(e,f))}}return s}(e,n,_))}return g}function hm(e,n,t){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(s,l)=>{const d=Qs(l,yi(s,n));if(d)return d});return lF(r,n,o,t,!0)}function Tu(e,n){return SF(n,e.syncPointTree_,null,rm(e.pendingWriteTree_,ot()))}function SF(e,n,t,i){if(Le(e.path))return MF(e,n,t,i);{const r=n.get(ot());null==t&&null!=r&&(t=Qs(r,ot()));let o=[];const s=ke(e.path),l=e.operationForChild(s),c=n.children.get(s);if(c&&l){const d=t?t.getImmediateChild(s):null,f=uF(i,s);o=o.concat(SF(l,c,d,f))}return r&&(o=o.concat(LD(r,e,i,t))),o}}function MF(e,n,t,i){const r=n.get(ot());null==t&&null!=r&&(t=Qs(r,ot()));let o=[];return n.children.inorderTraversal((s,l)=>{const c=t?t.getImmediateChild(s):null,d=uF(i,s),f=e.operationForChild(s);f&&(o=o.concat(MF(f,l,c,d)))}),r&&(o=o.concat(LD(r,e,i,t))),o}function AF(e,n){const t=n.query,i=tf(e,t);return{hashFn:()=>(function GX(e){return e.viewCache_.serverCache.getNode()}(n)||Ie.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function see(e,n,t){const i=VD(e,t);if(i){const r=UD(i),o=r.path,s=r.queryId,l=yi(o,n);return jD(e,o,new Kh(ID(s),l))}return[]}(e,t._path,i):function oee(e,n){return Tu(e,new Kh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const o=function rJ(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}(r,t);return dm(e,t,null,o)}}}}function tf(e,n){const t=fm(n);return e.queryToTagMap.get(t)}function fm(e){return e._path.toString()+"$"+e._queryIdentifier}function VD(e,n){return e.tagToQueryMap.get(n)}function UD(e){const n=e.indexOf("$");return W(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new _t(e.substr(0,n))}}function jD(e,n,t){const i=e.syncPointTree_.get(n);return W(i,"Missing sync point for query tag that we're tracking"),LD(i,t,rm(e.pendingWriteTree_,n),null)}function nf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function tee(){return W(um,"Reference.ts has not been loaded"),um}())(e._repo,e._path):e}class HD{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new HD(t)}node(){return this.node_}}class $D{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=Wt(this.path_,n);return new $D(this.syncTree_,t)}node(){return hm(this.syncTree_,this.path_)}}const fee=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},NF=function(e,n,t){return e&&"object"==typeof e?(W(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?pee(e[".sv"],n,t):"object"==typeof e[".sv"]?gee(e[".sv"],n):void W(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pee=function(e,n,t){if("timestamp"===e)return t.timestamp;W(!1,"Unexpected server value: "+e)},gee=function(e,n,t){e.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&W(!1,"Unexpected increment value: "+i);const r=n.node();if(W(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},xF=function(e,n,t,i){return zD(n,new $D(t,e),i)},GD=function(e,n,t){return zD(e,new HD(n),t)};function zD(e,n,t){const i=e.getPriority().val(),r=NF(i,n.getImmediateChild(".priority"),t);let o;if(e.isLeafNode()){const s=e,l=NF(s.getValue(),n,t);return l!==s.getValue()||r!==s.getPriority().val()?new yu(l,tn(r)):e}{const s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new yu(r))),s.forEachChild(kt,(l,c)=>{const d=zD(c,n.getImmediateChild(l),t);d!==c&&(o=o.updateImmediateChild(l,d))}),o}}class WD{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}}function pm(e,n){let t=n instanceof _t?n:new _t(n),i=e,r=ke(t);for(;null!==r;){const o=uu(i.node.children,r)||{children:{},childCount:0};i=new WD(r,i,o),t=St(t),r=ke(t)}return i}function gl(e){return e.node.value}function qD(e,n){e.node.value=n,ZD(e)}function RF(e){return e.node.childCount>0}function gm(e,n){Fn(e.node.children,(t,i)=>{n(new WD(t,e,i))})}function OF(e,n,t,i){t&&!i&&n(e),gm(e,r=>{OF(r,n,!0,i)}),t&&i&&n(e)}function rf(e){return new _t(null===e.parent?e.name:rf(e.parent)+"/"+e.name)}function ZD(e){null!==e.parent&&function vee(e,n,t){const i=function _ee(e){return void 0===gl(e)&&!RF(e)}(t),r=lo(e.node.children,n);i&&r?(delete e.node.children[n],e.node.childCount--,ZD(e)):!i&&!r&&(e.node.children[n]=t.node,e.node.childCount++,ZD(e))}(e.parent,e.name,e)}const yee=/[\[\].#$\/\u0000-\u001F\u007F]/,bee=/[\[\].#$\u0000-\u001F\u007F]/,YD=10485760,_m=function(e){return"string"==typeof e&&0!==e.length&&!yee.test(e)},PF=function(e){return"string"==typeof e&&0!==e.length&&!bee.test(e)},_o=function(e,n,t,i){i&&void 0===n||af(Qa(e,"value"),n,t)},af=function(e,n,t){const i=t instanceof _t?new FJ(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+ul(i));if("function"==typeof n)throw new Error(e+"contains a function "+ul(i)+" with contents = "+n.toString());if(G_(n))throw new Error(e+"contains "+n.toString()+" "+ul(i));if("string"==typeof n&&n.length>YD/3&&D_(n)>YD)throw new Error(e+"contains a string greater than "+YD+" utf8 bytes "+ul(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let r=!1,o=!1;if(Fn(n,(s,l)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!_m(s)))throw new Error(e+" contains an invalid key ("+s+") "+ul(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BJ(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=D_(n),GL(e)})(i,s),af(e,l,i),function VJ(e){const n=e.parts_.pop();e.byteLength_-=D_(n),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),r&&o)throw new Error(e+' contains ".value" child '+ul(i)+" in addition to actual children.")}},kF=function(e,n,t,i){if(i&&void 0===n)return;const r=Qa(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");const o=[];Fn(n,(s,l)=>{const c=new _t(s);if(af(r,l,Wt(t,c)),".priority"===uD(c)&&!function(e){return null===e||"string"==typeof e||"number"==typeof e&&!G_(e)||e&&"object"==typeof e&&lo(e,".sv")}(l))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];const o=$h(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!_m(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(LJ);let r=null;for(t=0;t<n.length;t++){if(i=n[t],null!==r&&yr(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},QD=function(e,n,t,i){if(!(i&&void 0===t||PF(t)))throw new Error(Qa(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Dee=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QD(e,n,t,i)},mo=function(e,n){if(".info"===ke(n))throw new Error(e+" failed = Can't modify data under /.info/")};class Eee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mm(e,n){let t=null;for(let i=0;i<n.length;i++){const r=n[i],o=r.getPath();null!==t&&!dD(o,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&e.eventLists_.push(t)}function FF(e,n,t){mm(e,t),BF(e,i=>dD(i,n))}function Wi(e,n,t){mm(e,t),BF(e,i=>yr(i,n)||yr(n,i))}function BF(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];r&&(n(r.path)?(Tee(e.eventLists_[i]),e.eventLists_[i]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function Tee(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const i=t.getEventRunner();ll&&Ln("event: "+t.toString()),mu(i)}}}const Iee=25;class See{constructor(n,t,i,r){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Eee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=em(),this.transactionQueueTree_=new WD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UF(e){const t=e.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function cf(e){return fee({timestamp:UF(e)})}function jF(e,n,t,i,r){e.dataUpdateCount++;const o=new _t(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let s=[];if(r)if(i){const c=C_(t,d=>tn(d));s=function aee(e,n,t,i){const r=VD(e,i);if(r){const o=UD(r),s=o.path,l=o.queryId,c=yi(s,n),d=Lt.fromObject(t);return jD(e,s,new Du(ID(l),c,d))}return[]}(e.serverSyncTree_,o,c,r)}else{const c=tn(t);s=function IF(e,n,t,i){const r=VD(e,i);if(null!=r){const o=UD(r),s=o.path,l=o.queryId,c=yi(s,n);return jD(e,s,new hl(ID(l),c,t))}return[]}(e.serverSyncTree_,o,c,r)}else if(i){const c=C_(t,d=>tn(d));s=function ree(e,n,t){const i=Lt.fromObject(t);return Tu(e,new Du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(e.serverSyncTree_,o,c)}else{const c=tn(t);s=ef(e.serverSyncTree_,o,c)}let l=o;s.length>0&&(l=Su(e,o)),Wi(e.eventQueue_,l,s)}function HF(e,n){JD(e,"connected",n),!1===n&&function Ree(e){Iu(e,"onDisconnectEvents");const n=cf(e),t=em();DD(e.onDisconnect_,ot(),(r,o)=>{const s=xF(r,o,e.serverSyncTree_,n);Cu(t,r,s)});let i=[];DD(t,ot(),(r,o)=>{i=i.concat(ef(e.serverSyncTree_,r,o));const s=nE(e,r);Su(e,s)}),e.onDisconnect_=em(),Wi(e.eventQueue_,ot(),i)}(e)}function JD(e,n,t){const i=new _t("/.info/"+n),r=tn(t);e.infoData_.updateSnapshot(i,r);const o=ef(e.infoSyncTree_,i,r);Wi(e.eventQueue_,i,o)}function vm(e){return e.nextWriteId_++}function eE(e,n,t){let i;i=".info"===ke(n._path)?dm(e.infoSyncTree_,n,t):dm(e.serverSyncTree_,n,t),FF(e.eventQueue_,n._path,i)}function Iu(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Ln(t,...n)}function ea(e,n,t,i){n&&mu(()=>{if("ok"===t)n(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,n(s)}})}function tE(e,n,t){return hm(e.serverSyncTree_,n,t)||Ie.EMPTY_NODE}function ym(e,n=e.transactionQueueTree_){if(n||bm(e,n),gl(n)){const t=WF(e,n);W(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Vee(e,n,t){const i=t.map(d=>d.currentWriteId),r=tE(e,n,i);let o=r;const s=r.hash();for(let d=0;d<t.length;d++){const f=t[d];W(0===f.status,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const g=yi(n,f.path);o=o.updateChild(g,f.currentOutputSnapshotRaw)}const l=o.val(!0),c=n;e.server_.put(c.toString(),l,d=>{Iu(e,"transaction put response",{path:c.toString(),status:d});let f=[];if("ok"===d){const g=[];for(let _=0;_<t.length;_++)t[_].status=2,f=f.concat(Xs(e.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&g.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();bm(e,pm(e.transactionQueueTree_,n)),ym(e,e.transactionQueueTree_),Wi(e.eventQueue_,n,f);for(let _=0;_<g.length;_++)mu(g[_])}else{if("datastale"===d)for(let g=0;g<t.length;g++)t[g].status=3===t[g].status?4:0;else{oi("transaction at "+c.toString()+" failed: "+d);for(let g=0;g<t.length;g++)t[g].status=4,t[g].abortReason=d}Su(e,n)}},s)}(e,rf(n),t)}else RF(n)&&gm(n,t=>{ym(e,t)})}function Su(e,n){const t=zF(e,n),i=rf(t);return function Uee(e,n,t){if(0===n.length)return;const i=[];let r=[];const s=n.filter(l=>0===l.status).map(l=>l.currentWriteId);for(let l=0;l<n.length;l++){const c=n[l],d=yi(t,c.path);let g,f=!1;if(W(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,g=c.abortReason,r=r.concat(Xs(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Iee)f=!0,g="maxretry",r=r.concat(Xs(e.serverSyncTree_,c.currentWriteId,!0));else{const _=tE(e,c.path,s);c.currentInputSnapshot=_;const v=n[l].update(_.val());if(void 0!==v){af("transaction failed: Data returned ",v,c.path);let b=tn(v);"object"==typeof v&&null!=v&&lo(v,".priority")||(b=b.updatePriority(_.getPriority()));const E=c.currentWriteId,R=cf(e),I=GD(b,_,R);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=I,c.currentWriteId=vm(e),s.splice(s.indexOf(E),1),r=r.concat(FD(e.serverSyncTree_,c.path,I,c.currentWriteId,c.applyLocally)),r=r.concat(Xs(e.serverSyncTree_,E,!0))}else f=!0,g="nodata",r=r.concat(Xs(e.serverSyncTree_,c.currentWriteId,!0))}Wi(e.eventQueue_,t,r),r=[],f&&(n[l].status=2,setTimeout(n[l].unwatcher,Math.floor(0)),n[l].onComplete&&i.push("nodata"===g?()=>n[l].onComplete(null,!1,n[l].currentInputSnapshot):()=>n[l].onComplete(new Error(g),!1,null)))}bm(e,e.transactionQueueTree_);for(let l=0;l<i.length;l++)mu(i[l]);ym(e,e.transactionQueueTree_)}(e,WF(e,t),i),i}function zF(e,n){let t,i=e.transactionQueueTree_;for(t=ke(n);null!==t&&void 0===gl(i);)i=pm(i,t),t=ke(n=St(n));return i}function WF(e,n){const t=[];return qF(e,n,t),t.sort((i,r)=>i.order-r.order),t}function qF(e,n,t){const i=gl(n);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);gm(n,r=>{qF(e,r,t)})}function bm(e,n){const t=gl(n);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,qD(n,t.length>0?t:void 0)}gm(n,i=>{bm(e,i)})}function nE(e,n){const t=rf(zF(e,n)),i=pm(e.transactionQueueTree_,n);return function mee(e,n,t){let i=t?e:e.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,r=>{iE(e,r)}),iE(e,i),OF(i,r=>{iE(e,r)}),t}function iE(e,n){const t=gl(n);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(W(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(W(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(Xs(e.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?qD(n,void 0):t.length=o+1,Wi(e.eventQueue_,rf(n),r);for(let s=0;s<i.length;s++)mu(i[s])}}const rE=function(e,n){const t=$ee(e),i=t.namespace;return"firebase.com"===t.domain&&fo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&fo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&oi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rD(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,n,"",i!==t.subdomain),path:new _t(t.pathString)}},$ee=function(e){let n="",t="",i="",r="",o="",s=!0,l="https",c=443;if("string"==typeof e){let d=e.indexOf("//");d>=0&&(l=e.substring(0,d-1),e=e.substring(d+2));let f=e.indexOf("/");-1===f&&(f=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),n=e.substring(0,Math.min(f,g)),f<g&&(r=function jee(e){let n="";const t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}(e.substring(f,g)));const _=function Hee(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):oi(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,g)));d=n.indexOf(":"),d>=0?(s="https"===l||"wss"===l,c=parseInt(n.substring(d+1),10)):d=n.length;const v=n.slice(0,d);if("localhost"===v.toLowerCase())t="localhost";else if(v.split(".").length<=2)t=v;else{const b=n.indexOf(".");i=n.substring(0,b).toLowerCase(),t=n.substring(b+1),o=i}"ns"in _&&(o=_.ns)}return{host:n,port:c,domain:t,subdomain:i,secure:s,scheme:l,pathString:r,namespace:o}},ZF="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gee=function(){let e=0;const n=[];return function(t){const i=t===e;let r;e=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=ZF.charAt(t%64),t=Math.floor(t/64);W(0===t,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=ZF.charAt(n[r]);return W(20===s.length,"nextPushId: Length should be 20."),s}}();class YF{constructor(n,t,i,r){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+kn(this.snapshot.exportVal())}}class KF{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class oE{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class qi{constructor(n,t,i,r){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Le(this._path)?null:uD(this._path)}get ref(){return new Lr(this._repo,this._path)}get _queryIdentifier(){const n=tF(this._queryParams),t=nD(n);return"{}"===t?"default":t}get _queryObject(){return tF(this._queryParams)}isEqual(n){if(!((n=co(n))instanceof qi))return!1;const t=this._repo===n._repo,i=dD(this._path,n._path);return t&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kJ(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}class Lr extends qi{constructor(n,t){super(n,t,new yD,!1)}get parent(){const n=$L(this._path);return null===n?null:new Lr(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class _l{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new _t(n),i=ml(this.ref,n);return new _l(this._node.getChild(t),i,kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>n(new _l(r,ml(this.ref,i),kt)))}hasChild(n){const t=new _t(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function QF(e,n){return(e=co(e))._checkNotDeleted("ref"),void 0!==n?ml(e._root,n):e._root}function ml(e,n){return null===ke((e=co(e))._path)?Dee("child","path",n,!1):QD("child","path",n,!1),new Lr(e._repo,Wt(e._path,n))}function Wee(e,n){e=co(e),mo("push",e._path),_o("push",n,e._path,!0);const t=UF(e._repo),i=Gee(t),r=ml(e,i),o=ml(e,i);let s;return s=null!=n?JF(o,n).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function qee(e){return mo("remove",e._path),JF(e,null)}function JF(e,n){e=co(e),mo("set",e._path),_o("set",n,e._path,!1);const t=new cu;return function XD(e,n,t,i,r){Iu(e,"set",{path:n.toString(),value:t,priority:i});const o=cf(e),s=tn(t,i),l=hm(e.serverSyncTree_,n),c=GD(s,l,o),d=vm(e),f=FD(e.serverSyncTree_,n,c,d,!0);mm(e.eventQueue_,f),e.server_.put(n.toString(),s.val(!0),(_,v)=>{const b="ok"===_;b||oi("set at "+n+" failed: "+_);const C=Xs(e.serverSyncTree_,d,!b);Wi(e.eventQueue_,n,C),ea(0,r,_,v)});const g=nE(e,n);Su(e,g),Wi(e.eventQueue_,g,[])}(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function Zee(e,n){kF("update",n,e._path,!1);const t=new cu;return function xee(e,n,t,i){Iu(e,"update",{path:n.toString(),value:t});let r=!0;const o=cf(e),s={};if(Fn(t,(l,c)=>{r=!1,s[l]=xF(Wt(n,l),tn(c),e.serverSyncTree_,o)}),r)Ln("update() called with empty data.  Don't do anything."),ea(0,i,"ok",void 0);else{const l=vm(e),c=function iee(e,n,t,i){!function bX(e,n,t,i){W(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=MD(e.visibleWrites,n,t),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i);const r=Lt.fromObject(t);return Tu(e,new Du({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,r))}(e.serverSyncTree_,n,s,l);mm(e.eventQueue_,c),e.server_.merge(n.toString(),t,(d,f)=>{const g="ok"===d;g||oi("update at "+n+" failed: "+d);const _=Xs(e.serverSyncTree_,l,!g),v=_.length>0?Su(e,n):n;Wi(e.eventQueue_,v,_),ea(0,i,d,f)}),Fn(t,d=>{const f=nE(e,Wt(n,d));Su(e,f)}),Wi(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}class uf{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const i=t._queryParams.getIndex();return new YF("value",this,new _l(n.snapshotNode,new Lr(t._repo,t._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new KF(this,n,t):null}matches(n){return n instanceof uf&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Dm{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new KF(this,n,t):null}createEvent(n,t){W(null!=n.childName,"Child events should have a childName.");const i=ml(new Lr(t._repo,t._path),n.childName),r=t._queryParams.getIndex();return new YF(n.type,this,new _l(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof Dm&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function df(e,n,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const c=t,d=(f,g)=>{eE(e._repo,e,l),c(f,g)};d.userCallback=t.userCallback,d.context=t.context,t=d}const s=new oE(t,o||void 0),l="value"===n?new uf(s):new Dm(n,s);return function Lee(e,n,t){let i;i=".info"===ke(n._path)?BD(e.infoSyncTree_,n,t):BD(e.serverSyncTree_,n,t),FF(e.eventQueue_,n._path,i)}(e._repo,e,l),()=>eE(e._repo,e,l)}(function YX(e){W(!lm,"__referenceConstructor has already been defined"),lm=e})(Lr),function eee(e){W(!um,"__referenceConstructor has already been defined"),um=e}(Lr);const sE={};function i2(e,n,t,i,r){let o=i||e.options.databaseURL;void 0===o&&(e.options.projectId||fo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ln("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,d,s=rE(o,r),l=s.repoInfo;typeof process<"u"&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(c=!0,o=`http://${d}?ns=${l.namespace}`,s=rE(o,r),l=s.repoInfo):c=!s.repoInfo.secure;const f=r&&c?new Hh(Hh.OWNER):new uJ(e.name,e.options,n);(function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!_m(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PF(e)}(t))throw new Error(Qa(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),Le(s.path)||fo("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function hte(e,n,t,i){let r=sE[n.name];r||(r={},sE[n.name]=r);let o=r[e.toURLString()];return o&&fo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new See(e,false,t,i),r[e.toURLString()]=o,o}(l,e,f,new cJ(e.name,t));return new pte(g,e)}class pte{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Mee(e,n,t){if(e.stats_=aD(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new X_(e.repoInfo_,(i,r,o,s)=>{jF(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>HF(e,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new dl(e.repoInfo_,n,(i,r,o,s)=>{jF(e,i,r,o,s)},i=>{HF(e,i)},i=>{!function Aee(e,n){Fn(n,(t,i)=>{JD(e,t,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function fJ(e,n){const t=e.toString();return sD[t]||(sD[t]=n()),sD[t]}(e.repoInfo_,()=>new fX(e.stats_,e.server_)),e.infoData_=new lX,e.infoSyncTree_=new TF({startListening:(i,r,o,s)=>{let l=[];const c=e.infoData_.getNode(i._path);return c.isEmpty()||(l=ef(e.infoSyncTree_,i._path,c),setTimeout(()=>{s("ok")},0)),l},stopListening:()=>{}}),JD(e,"connected",!1),e.serverSyncTree_=new TF({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(l,c)=>{const d=s(l,c);Wi(e.eventQueue_,i._path,d)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Lr(this._repo,ot())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dte(e,n){const t=sE[n];(!t||t[e.key]!==e)&&fo(`Database ${n}(${e.repoInfo_}) has already been deleted.`),function GF(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&fo("Cannot call "+n+" on a deleted database.")}}function gte(e=LP(),n){const t=function PP(e,n){const t=e.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),e.container.getProvider(n)}(e,"database").getImmediate({identifier:n});if(!t._instanceStarted){const i=(e=>{const n=(e=>{var n,t;return null===(t=null===(n=b_())||void 0===n?void 0:n.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!n)return;const t=n.lastIndexOf(":");if(t<=0||t+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const i=parseInt(n.substring(t+1),10);return"["===n[0]?[n.substring(1,t-1),i]:[n.substring(0,t),i]})("database");i&&function _te(e,n,t,i={}){(e=co(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fo("Cannot call useEmulator() after instance has already been initialized.");const r=e._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&fo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Hh(Hh.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:function b9(e,n){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=n||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[v_(JSON.stringify({alg:"none",type:"JWT"})),v_(JSON.stringify(s)),""].join(".")}(i.mockUserToken,e.app.options.projectId);o=new Hh(s)}!function ute(e,n,t,i){e.repoInfo_=new rD(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(r,n,t,o)}(t,...i)}return t}dl.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},dl.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function mte(e){(function sL(e){X1=e})(I_),du(new Ja("database",(n,{instanceIdentifier:t})=>i2(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),mr(rL,"1.0.2",e),mr(rL,"1.0.2","esm2017")}();var vl,wn=function(e){return e.added="child_added",e.removed="child_removed",e.changed="child_changed",e.moved="child_moved",e.value="value",e}(wn||{}),bte=Object.freeze(((vl={})[wn.added]=function Yee(e,n,t,i){return df(e,"child_added",n,t,i)},vl[wn.removed]=function Jee(e,n,t,i){return df(e,"child_removed",n,t,i)},vl[wn.changed]=function Kee(e,n,t,i){return df(e,"child_changed",n,t,i)},vl[wn.moved]=function Qee(e,n,t,i){return df(e,"child_moved",n,t,i)},vl[wn.value]=function XF(e,n,t,i){return df(e,"value",n,t,i)},vl));function wte(e){return function hf(e,n){return new Ze(function(t){var i=bte[n](e,function(r,o){t.next({snapshot:r,prevKey:o,event:n})},t.error.bind(t));return{unsubscribe:function(){!function Xee(e,n,t){let i=null;const r=t?new oE(t):null;"value"===n?i=new uf(r):n&&(i=new Dm(n,r)),eE(e._repo,e,i)}(e,n,i)}}}).pipe(iL(0))}(e,wn.value)}"function"==typeof SuppressedError&&SuppressedError;class Tm{constructor(n){return n}}const l2="database",aE=new oe("angularfire2.database-instances");function xte(e){return(n,t)=>{const i=n.runOutsideAngular(()=>e(t));return new Tm(i)}}const Rte={provide:class Ate{constructor(){return Uw(l2)}},deps:[[new ar,aE]]},Ote={provide:Tm,useFactory:function Nte(e,n){const t=function WP(e,n,t){if(n){if(1===n.length)return n[0];const o=n.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(e).getImmediate({optional:!0})}(l2,e,n);return t&&new Tm(t)},deps:[[new ar,aE],Ih]};let Pte=(()=>{class e{constructor(){mr("angularfire",Vw.full,"rtdb")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=Xe({type:e});static \u0275inj=We({providers:[Ote,Rte]})}return e})();function kte(e,...n){return{ngModule:Pte,providers:[{provide:aE,useFactory:xte(e),multi:!0,deps:[Be,Tn,ZP,YP,[new ar,eL],[new ar,QZ],...n]}]}}const c2=$s(wte,!0),Lte=$s(ml,!0),Fte=$s(gte,!0),Bte=$s(Wee,!0),Mu=$s(QF,!0),Vte=$s(qee,!0),u2=$s(Zee,!0);let pf=(()=>{class e{constructor(t,i){this.db=t,this.router=i,this.appartements=new fe,this._appartements=[],this.appartement=new fe,this._appartement={}}disconnect(){null!=this.$appartements&&this.$appartements.unsubscribe()}getAll(){null!=this.$appartements&&this.$appartements.unsubscribe(),this.$appartements=c2(Mu(this.db,"/appartements")).subscribe(t=>{var i=t.snapshot.val(),r=Object.keys(i);this._appartements=[],r.forEach(o=>{this._appartements.push(i[o])}),this.appartements.next(this._appartements)})}create(){var t={id:"",origine:"",ville:"",nom:"Nouvel appartement...",lien:"",image:"",description:"",surface:1,pieces:1,ascenseur:"",classeE:"",classeGES:"",prix:0,honoraires:0,prixFinal:0,charges:{copro:0,energie:0,annuelles:0},depenses:{list:{},total:0},credit:{apport:0,taux:0,duree:0,mensualites:0,interets:0,total:0},loyer:0,rendement:.04,latlng:{lat:0,lng:0}};t.id=Bte(Lte(Mu(this.db),"appartements")).key,u2(Mu(this.db,"appartements/"+t.id),t).then(()=>{console.log("Appartement : "+t.id+" ajout\xe9.")}).catch(i=>{console.log(i)})}getOne(t){null!=this.$appartement&&this.$appartement.unsubscribe(),this.$appartement=c2(Mu(this.db,"/appartements/"+t)).subscribe(i=>{var r=i.snapshot.val();this._appartement=r,null==this._appartement.depenses.list&&(this._appartement.depenses.list={}),this.appartement.next(this._appartement)})}save(){""!=this._appartement.id?u2(Mu(this.db,"appartements/"+this._appartement.id),this._appartement).then(()=>{console.log("Appartement : "+this._appartement.id+" modifi\xe9."),alert("Enregistrement r\xe9ussi.")}).catch(t=>{console.log(t)}):console.log("Pas d'appartement s\xe9lectionn\xe9.")}remove(t){if(confirm("Attention, cette action est irr\xe9versible. Voulez-vous continuer ?"))if(""!=t&&null!=t){try{this.$appartement.unsubscribe()}catch{}Vte(Mu(this.db,"appartements/"+t)).then(()=>{console.log("Appartement : "+t+" supprim\xe9."),alert("L'appartement a bien \xe9t\xe9 supprim\xe9."),this.router.navigate(["/pageune"])}).catch(i=>{console.log(i)})}else console.log("Pas d'appartement s\xe9lectionn\xe9.")}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Tm),Q(Ai))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ute=function(e){return["/appartement",e]};function jte(e,n){if(1&e){const t=vn();S(0,"a",20)(1,"div",2)(2,"div",21)(3,"span"),U(4),A(),et(5,"br"),S(6,"small",22),U(7),A()(),S(8,"div",21)(9,"span"),U(10),A()(),S(11,"div",21)(12,"span"),U(13),ro(14,"currency"),A(),et(15,"br"),S(16,"small",22),U(17),ro(18,"currency"),A()(),S(19,"div",21)(20,"span"),U(21),ro(22,"percent"),A(),et(23,"br"),A(),S(24,"div",23)(25,"button",24),re("click",function(){const o=ye(t).$implicit;return be(z().db.remove(o.id))}),et(26,"i",25),A()()()()}if(2&e){const t=n.$implicit;j("routerLink",io(15,Ute,t.id)),P(4),Wn(t.nom),P(3),Wn(t.ville.toUpperCase()),P(3),cr("",t.surface," m2"),P(3),Wn(xs(14,7,t.prixFinal,"EUR")),P(4),Wn(xs(18,10,t.prixFinal/t.surface,"\u20ac/m2")),P(4),Wn(bb(22,13,t.rendement))}}const Hte=function(){return["/map"]};let $te=(()=>{class e{constructor(t){this.db=t,this.appartements=[{origine:"Leboncoin",ville:"strasbourg-67000",nom:"Appartement 1 pi\xe8ce",lien:"https://www.leboncoin.fr/offre/ventes_immobilieres/2466052225",image:"https://img.leboncoin.fr/api/v1/lbcpb1/images/82/a3/08/82a3081c1bc8127ba34fcb3708560a810f3a1d8c.jpg?rule=ad-large",description:"Studio 1 pi\xe8ce 18 m\xb2  STRASBOURG En plein coeur du Centre Ville, \xe0 deux pas de la Place Kl\xe9ber, des commerces et de toutes les commodit\xe9s. Nous vous proposons ce STUDIO de 18m\xb2, situ\xe9 en 2\xe8me \xe9tage d'une r\xe9sidence de 1910. L'appartement est compos\xe9 d'une entr\xe9e, d'un coin kitchenette, d'une salle d''eau avec douche et wc, d'une pi\xe8ce principale orn\xe9e de poutres dans l'esprit alsacien. Situation exceptionnelle pour ce STUDIO qui saura vous s\xe9duire! [Coordonn\xe9es masqu\xe9es] - [Coordonn\xe9es masqu\xe9es]  Surface : 18 m\xb2 Prix du bien : 109000 \u20ac Prix du bien hors honoraires : 100000 \u20ac Honoraires TTC : 9 % soit 9000 \u20ac Honoraires \xe0 la charge de l'acqu\xe9reur  A propos de la copropri\xe9t\xe9 : Pas de proc\xe9dure en cours Nombre de lots : 30 Charges pr\xe9visionnelles annuelles : 661 \u20ac Date de r\xe9alisation du diagnostic \xe9nerg\xe9tique : 19/12/2023  Consommation \xe9nergie primaire : 408 kWh/m\xb2/an Consommation \xe9nergie finale : Non communiqu\xe9  Montant estim\xe9 des d\xe9penses annuelles d'\xe9nergie pour un usage standard : entre 510 \u20ac et 730 \u20ac par an. Prix moyens des \xe9nergies index\xe9s sur l'ann\xe9e 2021 (abonnements compris) Logement \xe0 consommation \xe9nerg\xe9tique excessive : classe F",surface:18,pieces:1,ascenseur:"oui",classeE:"F",classeGES:"C",prix:1e5,honoraires:9e3,prixFinal:109e3,charges:{copro:661,energie:620},depenseE:620,financement:{apport:6e4,pret:12e4},depenses:{list:[{intitule:"Achat",montant:4e3}],total:4e3},recettes:{loyer:421},loyer:600}]}ngOnInit(){this.db.appartements.subscribe(t=>{this.appartements=t}),this.db.getAll()}ngOnDestroy(){}static#e=this.\u0275fac=function(i){return new(i||e)(D(pf))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["app-liste"]],decls:39,vars:3,consts:[[1,"nav-top"],[1,"container"],[1,"row"],[1,"col-10","mx-auto"],[1,"m-0"],[1,"fw-bolder"],[1,"text-secondary","fw-lighter","fs-5"],[1,"nav","nav-pills"],[1,"nav-item"],[1,"nav-link","active"],[1,"nav-link",3,"routerLink"],[1,"container","container-nav"],[1,"col-lg-10","mx-auto"],[1,"card","mt-5"],[1,"card-header"],[1,"col","bg-light"],[1,"col-2","bg-light"],[1,"btn","btn-sm","btn-success","w-100",3,"click"],[1,"list-group","list-group-flush"],["class","list-group-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"list-group-item",3,"routerLink"],[1,"col"],[1,"text-secondary"],[1,"col-2"],[1,"btn","btn-sm","btn-danger","w-100",3,"click"],[1,"bi","bi-trash"]],template:function(i,r){1&i&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"span",5),U(6,"IMMOPOTAM"),A(),S(7,"small",6),U(8," by Marc & Sophie"),A()(),S(9,"ul",7)(10,"li",8)(11,"a",9),U(12,"Liste"),A()(),S(13,"li",8)(14,"a",10),U(15,"Carte"),A()()()()()()(),S(16,"div",11)(17,"div",2)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",2)(22,"div",15)(23,"b"),U(24,"Nom"),A()(),S(25,"div",15)(26,"b"),U(27,"Surface"),A()(),S(28,"div",15)(29,"b"),U(30,"Prix"),A()(),S(31,"div",15)(32,"b"),U(33,"Rendement"),A()(),S(34,"div",16)(35,"button",17),re("click",function(){return r.db.create()}),U(36,"Ajouter"),A()()()(),S(37,"div",18),ae(38,jte,27,17,"a",19),A()()()()()),2&i&&(P(14),j("routerLink",vg(2,Hte)),P(24),j("ngForOf",r.appartements))},dependencies:[oo,au,f0,p0]})}return e})();var vo=q(433);function Gte(e,n){if(1&e){const t=vn();S(0,"button",29),re("click",function(){return ye(t),be(z(2).toggleModifier())}),et(1,"i",30),U(2," Modifier"),A()}}function zte(e,n){if(1&e){const t=vn();S(0,"div")(1,"div",19)(2,"div",20)(3,"h4",21),U(4),A()(),S(5,"div",22),ae(6,Gte,3,0,"button",23),S(7,"button",24),re("click",function(){return ye(t),be(z().db.save())}),et(8,"i",25),U(9," Enregistrer"),A(),S(10,"button",26),re("click",function(){ye(t);const r=z();return be(r.db.remove(r.appartement.id))}),et(11,"i",27),U(12," Supprimer"),A()()(),S(13,"a",28),U(14),A()()}if(2&e){const t=z();P(4),Wn(t.appartement.nom),P(2),j("ngIf",1==t.afficherModifier),P(7),kd("href",t.appartement.lien,yd),P(1),Wn(t.appartement.lien)}}function Wte(e,n){if(1&e){const t=vn();S(0,"button",36),re("click",function(){return ye(t),be(z(2).toggleModifier())}),U(1,"Modifier"),A()}}function qte(e,n){if(1&e){const t=vn();S(0,"div",2)(1,"div",31)(2,"label"),U(3,"Nom : "),A(),S(4,"input",32),re("ngModelChange",function(r){return ye(t),be(z().appartement.nom=r)}),A()(),S(5,"div",33)(6,"label"),U(7,"Lien : "),A(),S(8,"input",32),re("ngModelChange",function(r){return ye(t),be(z().appartement.lien=r)}),A()(),S(9,"div",33)(10,"label"),U(11,"Image : "),A(),S(12,"input",32),re("ngModelChange",function(r){return ye(t),be(z().appartement.image=r)}),A()(),S(13,"div",34),ae(14,Wte,2,0,"button",35),A()()}if(2&e){const t=z();P(4),j("ngModel",t.appartement.nom),P(4),j("ngModel",t.appartement.lien),P(4),j("ngModel",t.appartement.image),P(2),j("ngIf",1==t.afficherModifier)}}function Zte(e,n){if(1&e&&(S(0,"div",61),et(1,"img",62)(2,"div",63),A()),2&e){const t=z(2);P(1),kd("src",t.appartement.image,yd)}}function Yte(e,n){if(1&e){const t=vn();S(0,"div"),ae(1,Zte,3,1,"div",37),S(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41)(6,"label",42),U(7,"Origine : "),A(),S(8,"select",43),re("ngModelChange",function(r){return ye(t),be(z().appartement.origine=r)}),S(9,"option",44),U(10,"Leboncoin"),A(),S(11,"option",45),U(12,"Ebay"),A()()(),S(13,"div",41)(14,"label",42),U(15,"Ville : "),A(),S(16,"select",43),re("ngModelChange",function(r){return ye(t),be(z().appartement.ville=r)}),S(17,"option",46),U(18,"Strasbourg"),A(),S(19,"option",47),U(20,"Colmar"),A(),S(21,"option",48),U(22,"S\xe9lestat"),A(),S(23,"option",49),U(24,"Obernai"),A(),S(25,"option",50),U(26,"Barr"),A(),S(27,"option",51),U(28,"Saint-Di\xe9"),A()()(),S(29,"div",41)(30,"label",42),U(31,"Pi\xe8ces : "),A(),S(32,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.pieces=r)}),A()(),S(33,"div",41)(34,"label",42),U(35,"Surface : "),A(),S(36,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.surface=r)}),A()()(),S(37,"div",40)(38,"div",41)(39,"label",42),U(40,"Prix de Vente : "),A(),S(41,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.prix=r)}),A()(),S(42,"div",41)(43,"label",42),U(44,"Honnoraires : "),A(),S(45,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.honnoraires=r)}),A()(),S(46,"div",41)(47,"label",42),U(48,"Classe Energie : "),A(),S(49,"select",43),re("ngModelChange",function(r){return ye(t),be(z().appartement.classeE=r)}),S(50,"option",53),U(51,"A"),A(),S(52,"option",54),U(53,"B"),A(),S(54,"option",55),U(55,"C"),A(),S(56,"option",56),U(57,"D"),A(),S(58,"option",57),U(59,"E"),A(),S(60,"option",58),U(61,"F"),A(),S(62,"option",59),U(63,"G"),A()()(),S(64,"div",41)(65,"label",42),U(66,"Classe GES : "),A(),S(67,"select",43),re("ngModelChange",function(r){return ye(t),be(z().appartement.classeGES=r)}),S(68,"option",53),U(69,"A"),A(),S(70,"option",54),U(71,"B"),A(),S(72,"option",55),U(73,"C"),A(),S(74,"option",56),U(75,"D"),A(),S(76,"option",57),U(77,"E"),A(),S(78,"option",58),U(79,"F"),A(),S(80,"option",59),U(81,"G"),A()()()(),S(82,"div",40)(83,"div",41)(84,"label",42),U(85,"Charges Copropri\xe9t\xe9 : "),A(),S(86,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.charges.copro=r)}),A()(),S(87,"div",41)(88,"label",42),U(89,"Charges Energie : "),A(),S(90,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.charges.energie=r)}),A()()(),S(91,"div",20)(92,"label"),U(93,"Description : "),A(),S(94,"textarea",60),re("ngModelChange",function(r){return ye(t),be(z().appartement.description=r)}),A()()()()()}if(2&e){const t=z();P(1),j("ngIf",0==t.modifier),P(7),j("ngModel",t.appartement.origine),P(8),j("ngModel",t.appartement.ville),P(16),j("ngModel",t.appartement.pieces),P(4),j("ngModel",t.appartement.surface),P(5),j("ngModel",t.appartement.prix),P(4),j("ngModel",t.appartement.honnoraires),P(4),j("ngModel",t.appartement.classeE),P(18),j("ngModel",t.appartement.classeGES),P(19),j("ngModel",t.appartement.charges.copro),P(4),j("ngModel",t.appartement.charges.energie),P(4),j("ngModel",t.appartement.description)}}function Kte(e,n){if(1&e){const t=vn();S(0,"div",72)(1,"div",2)(2,"div",33)(3,"input",73),re("ngModelChange",function(r){return be(ye(t).$implicit.intitule=r)}),A()(),S(4,"div",66)(5,"input",74),re("ngModelChange",function(r){return be(ye(t).$implicit.montant=r)}),A()(),S(6,"div",67)(7,"button",75),re("click",function(){const o=ye(t).index;return be(z(2).appartement.depenses.list.splice(o,1))}),et(8,"i",27),A()()()()}if(2&e){const t=n.$implicit;P(3),j("ngModel",t.intitule),P(2),j("ngModel",t.montant)}}function Qte(e,n){if(1&e){const t=vn();S(0,"div",64)(1,"div",65)(2,"div",2)(3,"div",33)(4,"b"),U(5,"Intitul\xe9"),A()(),S(6,"div",66)(7,"b"),U(8,"Montant"),A()(),S(9,"div",67)(10,"button",68),re("click",function(){return ye(t),be(z().ajouterDepense())}),et(11,"i",69),U(12," Ajouter"),A()()()(),S(13,"div",70),ae(14,Kte,9,2,"div",71),A()()}if(2&e){const t=z();P(14),j("ngForOf",t.getDepenses())}}const Jte=function(e){return{"text-danger":e}};function Xte(e,n){if(1&e){const t=vn();S(0,"div",76)(1,"div",39)(2,"div",2)(3,"div",33)(4,"label"),U(5,"Prix Annonce : "),A(),S(6,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.prix=r)}),A(),S(7,"small",77),U(8),ro(9,"currency"),A()(),S(10,"div",33)(11,"label"),U(12,"Valeur March\xe9 : "),A(),S(13,"div",78)(14,"input",52),re("ngModelChange",function(r){return ye(t),be(z().appartement.prixMarche=r)}),A(),S(15,"a",79),et(16,"i",80),A()(),S(17,"small",77),U(18,"Prix moyen du march\xe9"),A()(),S(19,"div",33)(20,"label"),U(21,"Prix d'achat retenu : "),A(),S(22,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.prixFinal=r)})("change",function(){return ye(t),be(z().updateCredit())}),A(),S(23,"small",82),U(24),ro(25,"currency"),A()()(),S(26,"div",83)(27,"b"),U(28,"Simulation cr\xe9dit :"),A()(),S(29,"div",84)(30,"div",33)(31,"label"),U(32,"Apport : "),A(),S(33,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.credit.apport=r)})("change",function(){return ye(t),be(z().updateCredit())}),A()(),S(34,"div",33)(35,"label"),U(36,"Taux (%) : "),A(),S(37,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.credit.taux=r)})("change",function(){return ye(t),be(z().updateCredit())}),A()(),S(38,"div",33)(39,"label"),U(40,"Dur\xe9e (ans) : "),A(),S(41,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.credit.duree=r)})("change",function(){return ye(t),be(z().updateCredit())}),A()()(),S(42,"div",83)(43,"div",2)(44,"div",33)(45,"div",85)(46,"div",86)(47,"h4"),et(48,"i",87),A(),S(49,"b"),U(50,"Mensualit\xe9s"),A(),et(51,"br"),U(52),ro(53,"currency"),A()()(),S(54,"div",33)(55,"div",85)(56,"div",86)(57,"h4"),et(58,"i",88),A(),S(59,"b"),U(60,"Int\xe9r\xeats"),A(),et(61,"br"),U(62),ro(63,"currency"),A()()(),S(64,"div",33)(65,"div",85)(66,"div",86)(67,"h4"),et(68,"i",89),A(),S(69,"b"),U(70,"Co\xfbt Total"),A(),et(71,"br"),U(72),ro(73,"currency"),A()()()()()()()}if(2&e){const t=z();P(6),j("ngModel",t.appartement.prix),P(2),cr("Soit ",xs(9,13,t.appartement.prix/t.appartement.surface,"\u20ac/m2"),""),P(6),j("ngModel",t.appartement.prixMarche),P(1),Ld("href","https://www.meilleursagents.com/prix-immobilier/",t.appartement.ville,"",yd),P(7),j("ngModel",t.appartement.prixFinal),P(1),j("ngClass",io(28,Jte,t.appartement.prixFinal/t.appartement.surface-t.appartement.prixMarche>0)),P(1),cr(" Soit ",xs(25,16,t.appartement.prixFinal/t.appartement.surface-t.appartement.prixMarche,"\u20ac/m2")," de diff\xe9rence "),P(9),j("ngModel",t.appartement.credit.apport),P(4),j("ngModel",t.appartement.credit.taux),P(4),j("ngModel",t.appartement.credit.duree),P(11),cr(" ",xs(53,19,t.appartement.credit.mensualites,"\u20ac/mois")," "),P(10),cr(" ",xs(63,22,t.appartement.credit.interets,"\u20ac")," "),P(10),cr(" ",xs(73,25,t.appartement.credit.interets+t.appartement.prixFinal+t.appartement.depenses.total,"\u20ac")," ")}}function ene(e,n){if(1&e){const t=vn();S(0,"div",90)(1,"div",39)(2,"div",2)(3,"div",33)(4,"div",85)(5,"div",39)(6,"h4",91),et(7,"i",92),A(),S(8,"label"),U(9,"Loyer : "),A(),S(10,"div",78)(11,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.loyer=r)})("change",function(){return ye(t),be(z().updateRendement())}),A(),S(12,"a",93),et(13,"i",80),A()(),S(14,"small",77),U(15,"Loyer mensuel annonce."),A()()()(),S(16,"div",33)(17,"div",85)(18,"div",39)(19,"h4",91),et(20,"i",94),A(),S(21,"label"),U(22,"Charges Annuelles : "),A(),S(23,"input",81),re("ngModelChange",function(r){return ye(t),be(z().appartement.charges.annuelles=r)})("change",function(){return ye(t),be(z().updateRendement())}),A(),S(24,"small",77),U(25,"Ex : assurance"),A()()()(),S(26,"div",33)(27,"div",95)(28,"div",86)(29,"div",96)(30,"h4",91),et(31,"i",97),A(),S(32,"h4",98),U(33,"Rendement : "),S(34,"small"),U(35),ro(36,"percent"),A()()()()()()()()()}if(2&e){const t=z();P(11),j("ngModel",t.appartement.loyer),P(12),j("ngModel",t.appartement.charges.annuelles),P(12),Wn(bb(36,3,t.appartement.rendement))}}const lE=function(e){return{active:e}},tne=function(){return["/liste"]};let nne=(()=>{class e{constructor(t,i){this.route=t,this.db=i,this.nav="annonce",this.afficherModifier=!0,this.modifier=!1,this.appartement={}}toggleModifier(){this.modifier?(this.modifier=!1,setTimeout(()=>{this.initMap()},200)):this.modifier=!0}navigate(t){this.nav=t,this.afficherModifier=!1,this.modifier=!1,"annonce"==this.nav&&(this.afficherModifier=!0,setTimeout(()=>{this.initMap()},500)),this.update()}update(){var t=0;this.appartement.depenses.list.forEach(i=>{t+=i.montant}),this.appartement.depenses.total=t}updateCredit(){var t=this.appartement.depenses.total+this.appartement.prixFinal-this.appartement.credit.apport,i=12*this.appartement.credit.duree,r=this.appartement.credit.taux/1200,o=t*r/(1-Math.pow(1+r,-1*i));this.appartement.credit.mensualites=o,this.appartement.credit.mensualites>0?(this.appartement.credit.total=o*i,this.appartement.credit.interets=this.appartement.credit.total-t):(this.appartement.credit.total=t,this.appartement.credit.mensualites=0,this.appartement.credit.interets=0),this.updateRendement()}updateRendement(){this.appartement.rendement=(12*this.appartement.loyer-this.appartement.charges.annuelles)/(this.appartement.credit.interets+this.appartement.prixFinal+this.appartement.depenses.total)}ngOnInit(){this.db.appartement.subscribe(i=>{this.appartement=i,""==this.appartement.lien&&(this.afficherModifier=!0,this.modifier=!0)});var t=this.route.snapshot.paramMap.get("id");null!=t&&this.db.getOne(t)}initMap(){this.map=vo.map("map",{center:[48.32297254687718,7.425127029418946],zoom:13,zoomControl:!1,attributionControl:!1}),vo.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map);var t=vo.marker(vo.latLng(this.appartement.latlng));t.addTo(this.map),null!=this.appartement.latlng.lat&&this.appartement.latlng.lat>0&&this.map.panTo(t.getLatLng()),this.map.on("click",i=>{this.appartement.latlng=i.latlng,t.setLatLng(vo.latLng(this.appartement.latlng)),this.map.panTo(t.getLatLng())})}ngAfterViewInit(){this.initMap()}getDepenses(){var t=[];return Object.keys(this.appartement.depenses.list).forEach(r=>{t.push(this.appartement.depenses.list[r])}),t}ajouterDepense(){var t=this.getDepenses().length;this.appartement.depenses.list[t.toString()]={intitule:"Nouvelle d\xe9pense...",montant:0}}static#e=this.\u0275fac=function(i){return new(i||e)(D(Ya),D(pf))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["app-appartement"]],decls:29,vars:17,consts:[[1,"nav-top"],[1,"container"],[1,"row"],[1,"col-10","mx-auto"],[1,"m-0"],[1,"fw-bolder"],[1,"text-secondary","fw-lighter","fs-5"],[1,"nav","nav-pills"],[1,"nav-link",3,"ngClass","click"],[1,"container","container-nav"],[1,"col-lg-10","mx-auto","pt-5"],[1,"link-back",3,"routerLink"],[1,"bi","bi-chevron-left"],[1,"mt-4"],[4,"ngIf"],["class","row",4,"ngIf"],["class","mt-4 card",4,"ngIf"],["class","card mt-4",4,"ngIf"],["class","card mt-3 mb-5",4,"ngIf"],[1,"d-flex","flex-column","flex-lg-row","h-100","justify-content-between"],[1,""],[1,"fw-bolder","text-uppercase","mb-0"],[1,"mt-2","mt-md-0"],["class","  btn btn-sm btn-secondary",3,"click",4,"ngIf"],[1,"ms-3","btn","btn-sm","btn-success",3,"click"],[1,"bi","bi-floppy"],[1,"ms-3","btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-trash3"],["target","_blank",1,"d-none","d-md-block",3,"href"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-pencil"],[1,"col-4"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],[1,"col-2","d-flex","align-items-end"],["class","  btn  btn-secondary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],["class","mt-4 d-flex",4,"ngIf"],[1,"card","mt-4","mb-5",2,"font-size",".9rem"],[1,"card-body"],[1,"row","mb-3"],[1,"col-lg-3","col-6"],[1,"form-label"],[1,"form-control",3,"ngModel","ngModelChange"],["value","Leboncoin"],["value","Ebay"],["value","strasbourg-67000"],["value","colmar-68000"],["value","selestat-67600"],["value","obernai-67210"],["value","barr-67140"],["value","saint-die-des-vosges-88100"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["value","A"],["value","B"],["value","C"],["value","D"],["value","E"],["value","F"],["value","G"],["rows","12","cols","80",1,"form-control","mt-2",3,"ngModel","ngModelChange"],[1,"mt-4","d-flex"],[1,"img-fluid","rounded","me-2",2,"width","50%",3,"src"],["id","map",1,"rounded","ms-2",2,"width","50%"],[1,"mt-4","card"],[1,"card-header"],[1,"col-3"],[1,"col-2"],[1,"btn","btn-sm","btn-success","w-100",3,"click"],[1,"bi","bi-plus-circle"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["type","text",1,"form-control","border-0",3,"ngModel","ngModelChange"],["type","number",1,"form-control","border-0",3,"ngModel","ngModelChange"],[1,"btn","btn-danger","btn-sm","w-100",3,"click"],[1,"card","mt-4"],[1,"text-secondary"],[1,"d-flex"],["target","_blank",1,"ms-3","btn","btn-outline-success",3,"href"],[1,"bi","bi-binoculars-fill"],["type","number",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"text-secondary",3,"ngClass"],[1,"mt-4","pt-3","border-top"],[1,"row","mt-2"],[1,"card"],[1,"card-body","text-center"],[1,"bi","bi-calendar-event"],[1,"bi","bi-bank"],[1,"bi","bi-cash-stack"],[1,"card","mt-3","mb-5"],[1,"text-center"],[1,"bi","bi-house-add"],["href","https://www.seloger.com}}","target","_blank",1,"ms-3","btn","btn-outline-success"],[1,"bi","bi-house-dash"],[1,"card","h-100"],[1,"d-flex","flex-column","h-100"],[1,"bi","bi-percent"],[1,"my-auto"]],template:function(i,r){1&i&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"span",5),U(6,"IMMOPOTAM"),A(),S(7,"small",6),U(8," by Marc & Sophie"),A()(),S(9,"ul",7)(10,"a",8),re("click",function(){return r.navigate("annonce")}),U(11,"Annonce"),A(),S(12,"a",8),re("click",function(){return r.navigate("depenses")}),U(13,"D\xe9penses"),A(),S(14,"a",8),re("click",function(){return r.navigate("financement")}),U(15,"Financement"),A()()()()()(),S(16,"div",9)(17,"div",2)(18,"div",10)(19,"a",11),et(20,"i",12),U(21," Retour \xe0 la Liste"),A(),S(22,"div",13),ae(23,zte,15,4,"div",14),ae(24,qte,15,4,"div",15),A(),ae(25,Yte,95,12,"div",14),ae(26,Qte,15,1,"div",16),ae(27,Xte,74,30,"div",17),ae(28,ene,37,5,"div",18),A()()()),2&i&&(P(10),j("ngClass",io(10,lE,"annonce"==r.nav)),P(2),j("ngClass",io(12,lE,"depenses"==r.nav)),P(2),j("ngClass",io(14,lE,"financement"==r.nav)),P(5),j("routerLink",vg(16,tne)),P(4),j("ngIf",0==r.modifier),P(1),j("ngIf",1==r.modifier),P(1),j("ngIf","annonce"==r.nav),P(1),j("ngIf","depenses"==r.nav),P(1),j("ngIf","financement"==r.nav),P(1),j("ngIf","financement"==r.nav))},dependencies:[Ax,oo,ks,au,XR,tO,Hg,H0,Xg,xR,j0,f0,p0]})}return e})();const ine=function(){return["/liste"]},rne=[{path:"map",component:(()=>{class e{constructor(t,i){this.db=t,this.router=i,this.appartements=[]}ngOnInit(){}ngAfterViewInit(){this.initMap(),this.db.appartements.subscribe(t=>{this.appartements=t;var i=this.router,r=[];this.appartements.forEach(o=>{var s=vo.marker(vo.latLng(o.latlng));s.on("click",l=>{i.navigate(["/appartement",o.id])}),r.push(s)});try{this.map.removeLayer(this.appartsLayer)}catch{}this.appartsLayer=vo.featureGroup(r),this.appartsLayer.addTo(this.map),this.map.fitBounds(this.appartsLayer.getBounds())}),this.db.getAll()}ngOnDestroy(){}initMap(){this.map=vo.map("map",{center:[48.32297254687718,7.425127029418946],zoom:13,zoomControl:!1,attributionControl:!1}),vo.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map)}static#e=this.\u0275fac=function(i){return new(i||e)(D(pf),D(Ai))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["map"]],decls:18,vars:2,consts:[[1,"nav-top"],[1,"container"],[1,"row"],[1,"col-10","mx-auto"],[1,"m-0"],[1,"fw-bolder"],[1,"text-secondary","fw-lighter","fs-5"],[1,"nav","nav-pills"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"nav-link","active"],[1,"container-nav","d-flex",2,"height","100vh"],["id","map",2,"width","100%","height","100%"]],template:function(i,r){1&i&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4)(5,"span",5),U(6,"IMMOPOTAM"),A(),S(7,"small",6),U(8," by Marc & Sophie"),A()(),S(9,"ul",7)(10,"li",8)(11,"a",9),U(12,"Liste"),A()(),S(13,"li",8)(14,"a",10),U(15,"Carte"),A()()()()()()(),S(16,"div",11),et(17,"div",12),A()),2&i&&(P(11),j("routerLink",vg(1,ine)))},dependencies:[au]})}return e})()},{path:"liste",component:$te},{path:"appartement/:id",component:nne}];let one=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({imports:[mP.forRoot(rne),mP]})}return e})(),sne=(()=>{class e{constructor(t){this.db=t,this.title="Immopotam"}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||e)(D(pf))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&et(0,"router-outlet")},dependencies:[uw]})}return e})();const ane=["addListener","removeListener"],lne=["addEventListener","removeEventListener"],cne=["on","off"];function Yn(e,n,t,i){if(Ne(t)&&(i=t,t=void 0),i)return Yn(e,n,t).pipe(S0(i));const[r,o]=function hne(e){return Ne(e.addEventListener)&&Ne(e.removeEventListener)}(e)?lne.map(s=>l=>e[s](n,l,t)):function une(e){return Ne(e.addListener)&&Ne(e.removeListener)}(e)?ane.map(d2(e,n)):function dne(e){return Ne(e.on)&&Ne(e.off)}(e)?cne.map(d2(e,n)):[];if(!r&&Uu(e))return dn(s=>Yn(s,n,t))(an(e));if(!r)throw new TypeError("Invalid event target");return new Ze(s=>{const l=(...c)=>s.next(1<c.length?c:c[0]);return r(l),()=>o(l)})}function d2(e,n){return t=>i=>e[t](n,i)}const{isArray:fne}=Array;function h2(e){return 1===e.length&&fne(e[0])?e[0]:e}function cE(...e){const n=Bl(e),t=h2(e);return t.length?new Ze(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)an(t[s]).subscribe(Ge(i,l=>{if(r[s].push(l),r.every(c=>c.length)){const c=r.map(d=>d.shift());i.next(n?n(...c):c),r.some((d,f)=>!d.length&&o[f])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):li}function uE(...e){const n=Bl(e);return Je((t,i)=>{const r=e.length,o=new Array(r);let s=e.map(()=>!1),l=!1;for(let c=0;c<r;c++)an(e[c]).subscribe(Ge(i,d=>{o[c]=d,!l&&!s[c]&&(s[c]=!0,(l=s.every(At))&&(s=null))},si));t.subscribe(Ge(i,c=>{if(l){const d=[c,...o];i.next(n?n(...d):d)}}))})}Math,Math,Math;const $ie=["*"],yre=["dialog"];function wl(e){return"string"==typeof e}function Cl(e){return null!=e}function Pu(e){return(e||document.body).getBoundingClientRect()}const G2={animation:!0,transitionTimerDelayMs:5},doe=()=>{},{transitionTimerDelayMs:hoe}=G2,Cf=new Map,Pi=(e,n,t,i)=>{let r=i.context||{};const o=Cf.get(n);if(o)switch(i.runningTransition){case"continue":return li;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Cf.delete(n)}const s=t(n,i.animation,r)||doe;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return e.run(()=>s()),ne(void 0).pipe(function coe(e){return n=>new Ze(t=>n.subscribe({next:s=>e.run(()=>t.next(s)),error:s=>e.run(()=>t.error(s)),complete:()=>e.run(()=>t.complete())}))}(e));const l=new fe,c=new fe,d=l.pipe(function gne(...e){return n=>rh(n,ne(...e))}(!0));Cf.set(n,{transition$:l,complete:()=>{c.next(),c.complete()},context:r});const f=function uoe(e){const{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(n)+parseFloat(t))}(n);return e.runOutsideAngular(()=>{const g=Yn(n,"transitionend").pipe(un(d),Pn(({target:v})=>v===n));(function f2(...e){return 1===(e=h2(e)).length?an(e[0]):new Ze(function pne(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(an(e[i]).subscribe(Ge(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}(e))})(nL(f+hoe).pipe(un(d)),g,c).pipe(un(d)).subscribe(()=>{Cf.delete(n),e.run(()=>{s(),l.next(),l.complete()})})}),l.asObservable()};let Om=(()=>{class e{constructor(){this.animation=G2.animation}static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X2=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),eB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),iB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),rB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();var Mt=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}(Mt||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const dB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function hB(e){const n=Array.from(e.querySelectorAll(dB)).filter(t=>-1!==t.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let TB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),MB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();class Sl{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}}let dse=(()=>{class e{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Zn(1)).subscribe(()=>{Pi(this._zone,this._el.nativeElement,(t,i)=>{i&&Pu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Pi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||e)(D(ft),D(Be))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Fa("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),rt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[dr],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return e})();class AB{update(n){}close(n){}dismiss(n){}}const hse=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],fse=["animation","backdropClass"];class pse{_applyWindowOptions(n,t){hse.forEach(i=>{Cl(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){fse.forEach(i=>{Cl(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(un(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(un(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new fe,this._dismissed=new fe,this._hidden=new fe,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function j2(e){return e&&e.then}(t)?!1!==t&&this._dismiss(n):t.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ne(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),cE(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var BE=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(BE||{});let gse=(()=>{class e{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new fe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ce,this.shown=new fe,this.hidden=new fe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":wl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Zn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=cE(Pi(this._zone,t,()=>t.classList.remove("show"),i),Pi(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const t={animation:this.animation,runningTransition:"continue"};cE(Pi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Pu(o),o.classList.add("show")},t),Pi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Yn(t,"keydown").pipe(un(this._closed$),Pn(r=>r.which===Mt.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(BE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Yn(this._dialogEl.nativeElement,"mousedown").pipe(un(this._closed$),Mn(()=>i=!1),Gt(()=>Yn(t,"mouseup").pipe(un(this._closed$),Zn(1))),Pn(({target:r})=>t===r)).subscribe(()=>{i=!0}),Yn(t,"click").pipe(un(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(BE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=hB(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Pi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||e)(D(Sn),D(ft),D(Be))};static#t=this.\u0275cmp=Rn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Ua(yre,7),2&i){let o;mt(o=function vt(){return function Lz(e,n){return e[xt].queries[n].queryList}(F(),IT())}())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(gt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Fa("modal d-block"+(r.windowClass?" "+r.windowClass:"")),rt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[dr],ngContentSelectors:$ie,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,r){1&i&&(function TM(e){const n=F()[$][u];if(!n.projection){const i=n.projection=dd(e?e.length:1,null),r=i.slice();let o=n.child;for(;null!==o;){const s=e?s3(o,e):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),S(0,"div",0,1)(2,"div",2),function IM(e,n=0,t){const i=F(),r=Qe(),o=Oc(r,Pe+e,16,null,t||null);null===o.projection&&(o.projection=n),xv(),(!i[ni]||lc())&&32!=(32&o.flags)&&function lj(e,n,t){MI(n[w],0,n,t,ry(e,t,n),CI(t.parent||n[u],t,n))}(r,i,o)}(3),A()()),2&i&&Fa("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),_se=(()=>{class e{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){const l=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${l+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Sn))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mse=(()=>{class e{constructor(t,i,r,o,s,l,c){this._applicationRef=t,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=s,this._rendererFactory=l,this._ngZone=c,this._activeWindowCmptHasChanged=new fe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ce,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const d=this._windowCmpts[this._windowCmpts.length-1];((e,n,t,i=!1)=>{e.runOutsideAngular(()=>{const r=Yn(n,"focusin").pipe(un(t),Re(o=>o.target));Yn(n,"keydown").pipe(un(t),Pn(o=>o.which===Mt.Tab),uE(r)).subscribe(([o,s])=>{const[l,c]=hB(n);(s===l||s===n)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(l.focus(),o.preventDefault())}),i&&Yn(n,"click").pipe(un(t),uE(r),Re(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,d.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(d.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const o=r.container instanceof HTMLElement?r.container:Cl(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const l=new AB,c=(t=r.injector||t).get(Ii,null)||this._environmentInjector,d=this._getContentRef(t,c,i,l,r);let f=!1!==r.backdrop?this._attachBackdrop(o):void 0,g=this._attachWindowComponent(o,d.nodes),_=new pse(g,d,f,r.beforeDismiss);return this._registerModalRef(_),this._registerWindowCmpt(g),_.hidden.pipe(Zn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=v=>{_.close(v)},l.dismiss=v=>{_.dismiss(v)},l.update=v=>{_.update(v)},_.update(r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),f&&f.instance&&f.changeDetectorRef.detectChanges(),g.changeDetectorRef.detectChanges(),_}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Zb(dse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Zb(gse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof Xt?this._createFromTemplateRef(r,o):wl(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new Sl([])}_createFromTemplateRef(t,i){const o=t.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Sl([o.rootNodes],o)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Sl([[i]])}_createFromComponent(t,i,r,o,s){const c=Zb(r,{environmentInjector:i,elementInjector:Tn.create({providers:[{provide:AB,useValue:o}],parent:t})}),d=c.location.nativeElement;return s.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Sl([[d]],c.hostView,c)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Os),Q(Tn),Q(Ii),Q(Sn),Q(_se),Q(Ry),Q(Be))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vse=(()=>{class e{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Om))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yse=(()=>{class e{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||e)(Q(Tn),Q(mse),Q(vse))};static#t=this.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),NB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({providers:[yse]})}return e})(),OB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),jB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),HB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),$B=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),GB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),zB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),WB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),qB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),ZB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();new oe("live announcer delay",{providedIn:"root",factory:function Pse(){return 100}});let YB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})(),KB=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({})}return e})();const Lse=[X2,eB,iB,rB,TB,MB,NB,OB,KB,jB,HB,$B,GB,zB,WB,qB,ZB,YB];let Fse=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e});static#n=this.\u0275inj=We({imports:[Lse,X2,eB,iB,rB,TB,MB,NB,OB,KB,jB,HB,$B,GB,zB,WB,qB,ZB,YB]})}return e})();!function t4(e,n,t){(function K3(e,n,t){"string"!=typeof n&&(t=n,n=e[Ot.LocaleId]),n=n.toLowerCase().replace(/_/g,"-"),Gc[n]=e,t&&(Gc[n][Ot.ExtraData]=t)})(e,n,t)}(U6);let Bse=(()=>{class e{static#e=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=Xe({type:e,bootstrap:[sne]});static#n=this.\u0275inj=We({providers:[{provide:fr,useValue:"fr-FR"},pf],imports:[M5,one,Fse,B6,kte(()=>Fte()),cY(()=>uY({projectId:"immopotam-bf965",appId:"1:1068729125208:web:815f644d27924c270b7d2d",databaseURL:"https://immopotam-bf965-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"immopotam-bf965.appspot.com",apiKey:"AIzaSyAj48kfpNGVEXnTFIpmvxW0J0bJRqKVd2Y",authDomain:"immopotam-bf965.firebaseapp.com",messagingSenderId:"1068729125208",measurementId:"G-NNEVRGQBGE"}))]})}return e})();I5().bootstrapModule(Bse).catch(e=>console.error(e))},433:function(ts,oa){!function(q){"use strict";function Fe(a){var u,h,p,m;for(h=1,p=arguments.length;h<p;h++)for(u in m=arguments[h])a[u]=m[u];return a}var wr=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function st(a,u){var h=Array.prototype.slice;if(a.bind)return a.bind.apply(a,h.call(arguments,1));var p=h.call(arguments,2);return function(){return a.apply(u,p.length?p.concat(h.call(arguments)):arguments)}}var rn=0;function He(a){return"_leaflet_id"in a||(a._leaflet_id=++rn),a._leaflet_id}function sa(a,u,h){var p,m,y,w;return w=function(){p=!1,m&&(y.apply(h,m),m=!1)},y=function(){p?m=arguments:(a.apply(h,arguments),setTimeout(w,u),p=!0)},y}function wo(a,u,h){var p=u[1],m=u[0],y=p-m;return a===p&&h?a:((a-m)%y+y)%y+m}function at(){return!1}function Vn(a,u){if(!1===u)return a;var h=Math.pow(10,void 0===u?6:u);return Math.round(a*h)/h}function ns(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function si(a){return ns(a).split(/\s+/)}function bt(a,u){for(var h in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?wr(a.options):{}),u)a.options[h]=u[h];return a.options}function Ol(a,u,h){var p=[];for(var m in a)p.push(encodeURIComponent(h?m.toUpperCase():m)+"="+encodeURIComponent(a[m]));return(u&&-1!==u.indexOf("?")?"&":"?")+p.join("&")}var Co=/\{ *([\w_ -]+) *\}/g;function is(a,u){return a.replace(Co,function(h,p){var m=u[p];if(void 0===m)throw new Error("No value provided for variable "+h);return"function"==typeof m&&(m=m(u)),m})}var on=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function Cr(a,u){for(var h=0;h<a.length;h++)if(a[h]===u)return h;return-1}var Do="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Hr(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var rs=0;function ai(a){var u=+new Date,h=Math.max(0,16-(u-rs));return rs=u+h,window.setTimeout(a,h)}var os=window.requestAnimationFrame||Hr("RequestAnimationFrame")||ai,$r=window.cancelAnimationFrame||Hr("CancelAnimationFrame")||Hr("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Zt(a,u,h){if(!h||os!==ai)return os.call(window,st(a,u));a.call(u)}function Jn(a){a&&$r.call(window,a)}var aa={__proto__:null,extend:Fe,create:wr,bind:st,get lastId(){return rn},stamp:He,throttle:sa,wrapNum:wo,falseFn:at,formatNum:Vn,trim:ns,splitWords:si,setOptions:bt,getParamString:Ol,template:is,isArray:on,indexOf:Cr,emptyImageUrl:Do,requestFn:os,cancelFn:$r,requestAnimFrame:Zt,cancelAnimFrame:Jn};function wi(){}wi.extend=function(a){var u=function(){bt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,p=wr(h);for(var m in p.constructor=u,u.prototype=p,this)Object.prototype.hasOwnProperty.call(this,m)&&"prototype"!==m&&"__super__"!==m&&(u[m]=this[m]);return a.statics&&Fe(u,a.statics),a.includes&&(function la(a){if(!(typeof L>"u")&&L&&L.Mixin){a=on(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(a.includes),Fe.apply(null,[p].concat(a.includes))),Fe(p,a),delete p.statics,delete p.includes,p.options&&(p.options=h.options?wr(h.options):{},Fe(p.options,a.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,w=p._initHooks.length;y<w;y++)p._initHooks[y].call(this)}},u},wi.include=function(a){var u=this.prototype.options;return Fe(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},wi.mergeOptions=function(a){return Fe(this.prototype.options,a),this},wi.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),h="function"==typeof a?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var At={on:function(a,u,h){if("object"==typeof a)for(var p in a)this._on(p,a[p],u);else for(var m=0,y=(a=si(a)).length;m<y;m++)this._on(a[m],u,h);return this},off:function(a,u,h){if(arguments.length)if("object"==typeof a)for(var p in a)this._off(p,a[p],u);else{a=si(a);for(var m=1===arguments.length,y=0,w=a.length;y<w;y++)m?this._off(a[y]):this._off(a[y],u,h)}else delete this._events;return this},_on:function(a,u,h,p){if("function"==typeof u){if(!1===this._listens(a,u,h)){h===this&&(h=void 0);var m={fn:u,ctx:h};p&&(m.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(m)}}else console.warn("wrong listener type: "+typeof u)},_off:function(a,u,h){var p,m,y;if(this._events&&(p=this._events[a])){if(1===arguments.length){if(this._firingCount)for(m=0,y=p.length;m<y;m++)p[m].fn=at;return void delete this._events[a]}if("function"!=typeof u)return void console.warn("wrong listener type: "+typeof u);var w=this._listens(a,u,h);!1!==w&&(this._firingCount&&(p[w].fn=at,this._events[a]=p=p.slice()),p.splice(w,1))}},fire:function(a,u,h){if(!this.listens(a,h))return this;var p=Fe({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var m=this._events[a];if(m){this._firingCount=this._firingCount+1||1;for(var y=0,w=m.length;y<w;y++){var M=m[y],x=M.fn;M.once&&this.off(a,x,M.ctx),x.call(M.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(a,u,h,p){"string"!=typeof a&&console.warn('"string" type argument expected');var m=u;"function"!=typeof u&&(p=!!u,m=void 0,h=void 0);var y=this._events&&this._events[a];if(y&&y.length&&!1!==this._listens(a,m,h))return!0;if(p)for(var w in this._eventParents)if(this._eventParents[w].listens(a,u,h,p))return!0;return!1},_listens:function(a,u,h){if(!this._events)return!1;var p=this._events[a]||[];if(!u)return!!p.length;h===this&&(h=void 0);for(var m=0,y=p.length;m<y;m++)if(p[m].fn===u&&p[m].ctx===h)return m;return!1},once:function(a,u,h){if("object"==typeof a)for(var p in a)this._on(p,a[p],u,!0);else for(var m=0,y=(a=si(a)).length;m<y;m++)this._on(a[m],u,h,!0);return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[He(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[He(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,Fe({layer:a.target,propagatedFrom:a.target},a),!0)}};At.addEventListener=At.on,At.removeEventListener=At.clearAllEventListeners=At.off,At.addOneTimeEventListener=At.once,At.fireEvent=At.fire,At.hasEventListeners=At.listens;var Eo=wi.extend(At);function we(a,u,h){this.x=h?Math.round(a):a,this.y=h?Math.round(u):u}var Ze=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};function _e(a,u,h){return a instanceof we?a:on(a)?new we(a[0],a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new we(a.x,a.y):new we(a,u,h)}function wt(a,u){if(a)for(var h=u?[a,u]:a,p=0,m=h.length;p<m;p++)this.extend(h[p])}function Nn(a,u){return!a||a instanceof wt?a:new wt(a,u)}function Cn(a,u){if(a)for(var h=u?[a,u]:a,p=0,m=h.length;p<m;p++)this.extend(h[p])}function fe(a,u){return a instanceof Cn?a:new Cn(a,u)}function nt(a,u,h){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,void 0!==h&&(this.alt=+h)}function xe(a,u,h){return a instanceof nt?a:on(a)&&"object"!=typeof a[0]?3===a.length?new nt(a[0],a[1],a[2]):2===a.length?new nt(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new nt(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===u?null:new nt(a,u,h)}we.prototype={clone:function(){return new we(this.x,this.y)},add:function(a){return this.clone()._add(_e(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(_e(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new we(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new we(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ze(this.x),this.y=Ze(this.y),this},distanceTo:function(a){var u=(a=_e(a)).x-this.x,h=a.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(a){return(a=_e(a)).x===this.x&&a.y===this.y},contains:function(a){return a=_e(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+Vn(this.x)+", "+Vn(this.y)+")"}},wt.prototype={extend:function(a){var u,h;if(!a)return this;if(a instanceof we||"number"==typeof a[0]||"x"in a)u=h=_e(a);else if(h=(a=Nn(a)).max,!(u=a.min)||!h)return this;return this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)):(this.min=u.clone(),this.max=h.clone()),this},getCenter:function(a){return _e((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return _e(this.min.x,this.max.y)},getTopRight:function(){return _e(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,h;return(a="number"==typeof a[0]||a instanceof we?_e(a):Nn(a))instanceof wt?(u=a.min,h=a.max):u=h=a,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(a){a=Nn(a);var u=this.min,h=this.max,p=a.min,m=a.max;return m.x>=u.x&&p.x<=h.x&&m.y>=u.y&&p.y<=h.y},overlaps:function(a){a=Nn(a);var u=this.min,h=this.max,p=a.min,m=a.max;return m.x>u.x&&p.x<h.x&&m.y>u.y&&p.y<h.y},isValid:function(){return!(!this.min||!this.max)},pad:function(a){var u=this.min,h=this.max,p=Math.abs(u.x-h.x)*a,m=Math.abs(u.y-h.y)*a;return Nn(_e(u.x-p,u.y-m),_e(h.x+p,h.y+m))},equals:function(a){return!!a&&(a=Nn(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight()))}},Cn.prototype={extend:function(a){var p,m,u=this._southWest,h=this._northEast;if(a instanceof nt)p=a,m=a;else{if(!(a instanceof Cn))return a?this.extend(xe(a)||fe(a)):this;if(m=a._northEast,!(p=a._southWest)||!m)return this}return u||h?(u.lat=Math.min(p.lat,u.lat),u.lng=Math.min(p.lng,u.lng),h.lat=Math.max(m.lat,h.lat),h.lng=Math.max(m.lng,h.lng)):(this._southWest=new nt(p.lat,p.lng),this._northEast=new nt(m.lat,m.lng)),this},pad:function(a){var u=this._southWest,h=this._northEast,p=Math.abs(u.lat-h.lat)*a,m=Math.abs(u.lng-h.lng)*a;return new Cn(new nt(u.lat-p,u.lng-m),new nt(h.lat+p,h.lng+m))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof nt||"lat"in a?xe(a):fe(a);var p,m,u=this._southWest,h=this._northEast;return a instanceof Cn?(p=a.getSouthWest(),m=a.getNorthEast()):p=m=a,p.lat>=u.lat&&m.lat<=h.lat&&p.lng>=u.lng&&m.lng<=h.lng},intersects:function(a){a=fe(a);var u=this._southWest,h=this._northEast,p=a.getSouthWest(),m=a.getNorthEast();return m.lat>=u.lat&&p.lat<=h.lat&&m.lng>=u.lng&&p.lng<=h.lng},overlaps:function(a){a=fe(a);var u=this._southWest,h=this._northEast,p=a.getSouthWest(),m=a.getNorthEast();return m.lat>u.lat&&p.lat<h.lat&&m.lng>u.lng&&p.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return!!a&&(a=fe(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}},nt.prototype={equals:function(a,u){return!!a&&(a=xe(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===u?1e-9:u))},toString:function(a){return"LatLng("+Vn(this.lat,a)+", "+Vn(this.lng,a)+")"},distanceTo:function(a){return Ge.distance(this,xe(a))},wrap:function(){return Ge.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,h=u/Math.cos(Math.PI/180*this.lat);return fe([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};var a,Je={latLngToPoint:function(a,u){var h=this.projection.project(a),p=this.scale(u);return this.transformation._transform(h,p)},pointToLatLng:function(a,u){var h=this.scale(u),p=this.transformation.untransform(a,h);return this.projection.unproject(p)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(a);return new wt(this.transformation.transform(u.min,h),this.transformation.transform(u.max,h))},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?wo(a.lng,this.wrapLng,!0):a.lng;return new nt(this.wrapLat?wo(a.lat,this.wrapLat,!0):a.lat,u,a.alt)},wrapLatLngBounds:function(a){var u=a.getCenter(),h=this.wrapLatLng(u),p=u.lat-h.lat,m=u.lng-h.lng;if(0===p&&0===m)return a;var y=a.getSouthWest(),w=a.getNorthEast();return new Cn(new nt(y.lat-p,y.lng-m),new nt(w.lat-p,w.lng-m))}},Ge=Fe({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var h=Math.PI/180,p=a.lat*h,m=u.lat*h,y=Math.sin((u.lat-a.lat)*h/2),w=Math.sin((u.lng-a.lng)*h/2),M=y*y+Math.cos(p)*Math.cos(m)*w*w,x=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*x}}),Re={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,a.lat),-h),m=Math.sin(p*u);return new we(this.R*a.lng*u,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(a){var u=180/Math.PI;return new nt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:(a=6378137*Math.PI,new wt([-a,-a],[a,a]))};function ss(a,u,h,p){if(on(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=u,this._c=h,this._d=p}function as(a,u,h,p){return new ss(a,u,h,p)}ss.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return a.x=(u=u||1)*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return new we((a.x/(u=u||1)-this._b)/this._a,(a.y/u-this._d)/this._c)}};var To=Fe({},Ge,{code:"EPSG:3857",projection:Re,transformation:function(){var a=.5/(Math.PI*Re.R);return as(a,.5,-a,.5)}()}),Io=Fe({},To,{code:"EPSG:900913"});function Pl(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ua(a,u){var p,m,y,w,M,x,h="";for(p=0,y=a.length;p<y;p++){for(m=0,w=(M=a[p]).length;m<w;m++)h+=(m?"L":"M")+(x=M[m]).x+" "+x.y;h+=u?le.svg?"z":"x":""}return h||"M0 0"}var N=document.documentElement.style,T="ActiveXObject"in window,O=T&&!document.addEventListener,B="msLaunchUri"in navigator&&!("documentMode"in document),X=ki("webkit"),ie=ki("android"),sn=ki("android 2")||ki("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=ie&&ki("Google")&&it<537&&!("AudioNode"in window),$t=!!window.opera,Ji=!B&&ki("chrome"),Gr=ki("gecko")&&!X&&!$t&&!T,ls=!Ji&&ki("safari"),cs=ki("phantom"),Yt="OTransition"in N,So=0===navigator.platform.indexOf("Win"),Kt=T&&"transition"in N,Xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!sn,kl="MozPerspective"in N,Vu=!window.L_DISABLE_3D&&(Kt||Xi||kl)&&!Yt&&!cs,Mo=typeof orientation<"u"||ki("mobile"),Qm=Mo&&X,Jm=Mo&&Xi,Af=!window.PointerEvent&&window.MSPointerEvent,Nf=!(!window.PointerEvent&&!Af),xf="ontouchstart"in window||!!window.TouchEvent,Xm=!window.L_NO_TOUCH&&(xf||Nf),ev=Mo&&$t,GE=Mo&&Gr,Uu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rf=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",at,u),window.removeEventListener("testPassiveEventSupport",at,u)}catch{}return a}(),Of=!!document.createElement("canvas").getContext,Ll=!(!document.createElementNS||!Pl("svg").createSVGRect),Pf=!!Ll&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}(),tv=!Ll&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch{return!1}}();function ki(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var le={ie:T,ielt9:O,edge:B,webkit:X,android:ie,android23:sn,androidStock:lt,opera:$t,chrome:Ji,gecko:Gr,safari:ls,phantom:cs,opera12:Yt,win:So,ie3d:Kt,webkit3d:Xi,gecko3d:kl,any3d:Vu,mobile:Mo,mobileWebkit:Qm,mobileWebkit3d:Jm,msPointer:Af,pointer:Nf,touch:Xm,touchNative:xf,mobileOpera:ev,mobileGecko:GE,retina:Uu,passiveEvents:Rf,canvas:Of,svg:Ll,vml:tv,inlineSvg:Pf,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},an=le.msPointer?"MSPointerDown":"pointerdown",Ff=le.msPointer?"MSPointerMove":"pointermove",Bf=le.msPointer?"MSPointerUp":"pointerup",Vf=le.msPointer?"MSPointerCancel":"pointercancel",ju={touchstart:an,touchmove:Ff,touchend:Bf,touchcancel:Vf},Hu={touchstart:function jf(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&xn(u),Fl(a,u)},touchmove:Fl,touchend:Fl,touchcancel:Fl},us={},Uf=!1;function Dr(a,u,h){return"touchstart"===u&&function zE(){Uf||(document.addEventListener(an,dn,!0),document.addEventListener(Ff,ds,!0),document.addEventListener(Bf,li,!0),document.addEventListener(Vf,li,!0),Uf=!0)}(),Hu[u]?(h=Hu[u].bind(this,h),a.addEventListener(ju[u],h,!1),h):(console.warn("wrong event specified:",u),at)}function dn(a){us[a.pointerId]=a}function ds(a){us[a.pointerId]&&(us[a.pointerId]=a)}function li(a){delete us[a.pointerId]}function Fl(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var h in u.touches=[],us)u.touches.push(us[h]);u.changedTouches=[u],a(u)}}var Bl=200;var Ao,fa,Ae,Gu,$l,hs=Hl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zr=Hl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hf="webkitTransition"===zr||"OTransition"===zr?zr+"End":"transitionend";function $f(a){return"string"==typeof a?document.getElementById(a):a}function ha(a,u){var h=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!h||"auto"===h)&&document.defaultView){var p=document.defaultView.getComputedStyle(a,null);h=p?p[u]:null}return"auto"===h?null:h}function Ye(a,u,h){var p=document.createElement(a);return p.className=u||"",h&&h.appendChild(p),p}function Nt(a){var u=a.parentNode;u&&u.removeChild(a)}function Vl(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function fs(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Bt(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Ul(a,u){if(void 0!==a.classList)return a.classList.contains(u);var h=ps(a);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function de(a,u){if(void 0!==a.classList)for(var h=si(u),p=0,m=h.length;p<m;p++)a.classList.add(h[p]);else if(!Ul(a,u)){var y=ps(a);jl(a,(y?y+" ":"")+u)}}function ne(a,u){void 0!==a.classList?a.classList.remove(u):jl(a,ns((" "+ps(a)+" ").replace(" "+u+" "," ")))}function jl(a,u){void 0===a.className.baseVal?a.className=u:a.className.baseVal=u}function ps(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function Gt(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&function Gf(a,u){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=a.filters.item(p)}catch{if(1===u)return}u=Math.round(100*u),h?(h.Enabled=100!==u,h.Opacity=u):a.style.filter+=" progid:"+p+"(opacity="+u+")"}(a,u)}function Hl(a){for(var u=document.documentElement.style,h=0;h<a.length;h++)if(a[h]in u)return a[h];return!1}function je(a,u,h){var p=u||new we(0,0);a.style[hs]=(le.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function Vt(a,u){a._leaflet_pos=u,le.any3d?je(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Et(a){return a._leaflet_pos||new we(0,0)}if("onselectstart"in document)Ao=function(){Te(window,"selectstart",xn)},fa=function(){ht(window,"selectstart",xn)};else{var he=Hl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ao=function(){if(he){var a=document.documentElement.style;Ae=a[he],a[he]="none"}},fa=function(){he&&(document.documentElement.style[he]=Ae,Ae=void 0)}}function pa(){Te(window,"dragstart",xn)}function ga(){ht(window,"dragstart",xn)}function V(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(No(),Gu=a,$l=a.style.outlineStyle,a.style.outlineStyle="none",Te(window,"keydown",No))}function No(){Gu&&(Gu.style.outlineStyle=$l,Gu=void 0,$l=void 0,ht(window,"keydown",No))}function me(a){do{a=a.parentNode}while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function Ke(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var rv={__proto__:null,TRANSFORM:hs,TRANSITION:zr,TRANSITION_END:Hf,get:$f,getStyle:ha,create:Ye,remove:Nt,empty:Vl,toFront:fs,toBack:Bt,hasClass:Ul,addClass:de,removeClass:ne,setClass:jl,getClass:ps,setOpacity:Gt,testProp:Hl,setTransform:je,setPosition:Vt,getPosition:Et,get disableTextSelection(){return Ao},get enableTextSelection(){return fa},disableImageDrag:pa,enableImageDrag:ga,preventOutline:V,restoreOutline:No,getSizedParentNode:me,getScale:Ke};function Te(a,u,h,p){if(u&&"object"==typeof u)for(var m in u)zu(a,m,u[m],h);else for(var y=0,w=(u=si(u)).length;y<w;y++)zu(a,u[y],h,p);return this}var er="_leaflet_events";function ht(a,u,h,p){if(1===arguments.length)Xn(a),delete a[er];else if(u&&"object"==typeof u)for(var m in u)Wf(a,m,u[m],h);else if(u=si(u),2===arguments.length)Xn(a,function(M){return-1!==Cr(u,M)});else for(var y=0,w=u.length;y<w;y++)Wf(a,u[y],h,p);return this}function Xn(a,u){for(var h in a[er]){var p=h.split(/\d/)[0];(!u||u(p))&&Wf(a,p,null,null,h)}}var zf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zu(a,u,h,p){var m=u+He(h)+(p?"_"+He(p):"");if(a[er]&&a[er][m])return this;var y=function(M){return h.call(p||a,M||window.event)},w=y;!le.touchNative&&le.pointer&&0===u.indexOf("touch")?y=Dr(a,u,y):le.touch&&"dblclick"===u?y=function da(a,u){a.addEventListener("dblclick",u);var p,h=0;function m(y){if(1===y.detail){if("mouse"!==y.pointerType&&(!y.sourceCapabilities||y.sourceCapabilities.firesTouchEvents)){var w=Zf(y);if(!w.some(function(x){return x instanceof HTMLLabelElement&&x.attributes.for})||w.some(function(x){return x instanceof HTMLInputElement||x instanceof HTMLSelectElement})){var M=Date.now();M-h<=Bl?2==++p&&u(function $u(a){var h,p,u={};for(p in a)u[p]=(h=a[p])&&h.bind?h.bind(a):h;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}(y)):p=1,h=M}}}else p=y.detail}return a.addEventListener("click",m),{dblclick:u,simDblclick:m}}(a,y):"addEventListener"in a?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?a.addEventListener(zf[u]||u,y,!!le.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?a.addEventListener(zf[u],y=function(M){M=M||window.event,ei(a,M)&&w(M)},!1):a.addEventListener(u,w,!1):a.attachEvent("on"+u,y),a[er]=a[er]||{},a[er][m]=y}function Wf(a,u,h,p,m){m=m||u+He(h)+(p?"_"+He(p):"");var y=a[er]&&a[er][m];if(!y)return this;!le.touchNative&&le.pointer&&0===u.indexOf("touch")?function nv(a,u,h){ju[u]?a.removeEventListener(ju[u],h,!1):console.warn("wrong event specified:",u)}(a,u,y):le.touch&&"dblclick"===u?function iv(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}(a,y):"removeEventListener"in a?a.removeEventListener(zf[u]||u,y,!1):a.detachEvent("on"+u,y),a[er][m]=null}function ci(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function qf(a){return zu(a,"wheel",ci),this}function Gl(a){return Te(a,"mousedown touchstart dblclick contextmenu",ci),a._leaflet_disable_click=!0,this}function xn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function gs(a){return xn(a),ci(a),this}function Zf(a){if(a.composedPath)return a.composedPath();for(var u=[],h=a.target;h;)u.push(h),h=h.parentNode;return u}function ov(a,u){if(!u)return new we(a.clientX,a.clientY);var h=Ke(u),p=h.boundingClientRect;return new we((a.clientX-p.left)/h.x-u.clientLeft,(a.clientY-p.top)/h.y-u.clientTop)}var sv=le.linux&&le.chrome?window.devicePixelRatio:le.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function av(a){return le.edge?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/sv:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function ei(a,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==a;)h=h.parentNode}catch{return!1}return h!==a}var pe={__proto__:null,on:Te,off:ht,stopPropagation:ci,disableScrollPropagation:qf,disableClickPropagation:Gl,preventDefault:xn,stop:gs,getPropagationPath:Zf,getMousePosition:ov,getWheelDelta:av,isExternalTarget:ei,addListener:Te,removeListener:ht},lv=Eo.extend({run:function(a,u,h,p){this.stop(),this._el=a,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Et(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Zt(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,h=1e3*this._duration;u<h?this._runFrame(this._easeOut(u/h),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var h=this._startPos.add(this._offset.multiplyBy(a));u&&h._round(),Vt(this._el,h),this.fire("step")},_complete:function(){Jn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ze=Eo.extend({options:{crs:To,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=bt(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=st(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(xe(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zr&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Hf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,h){return u=void 0===u?this._zoom:this._limitZoom(u),a=this._limitCenter(xe(a),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=Fe({animate:h.animate},h.zoom),h.pan=Fe({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,h.zoom):this._tryAnimatedPan(a,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,u,h.pan&&h.pan.noMoveStart),this)},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return this.setZoom(this._zoom+(a=a||(le.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(a,u){return this.setZoom(this._zoom-(a=a||(le.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(a,u,h){var p=this.getZoomScale(u),m=this.getSize().divideBy(2),w=(a instanceof we?a:this.latLngToContainerPoint(a)).subtract(m).multiplyBy(1-1/p),M=this.containerPointToLatLng(m.add(w));return this.setView(M,u,{zoom:h})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():fe(a);var h=_e(u.paddingTopLeft||u.padding||[0,0]),p=_e(u.paddingBottomRight||u.padding||[0,0]),m=this.getBoundsZoom(a,!1,h.add(p));if((m="number"==typeof u.maxZoom?Math.min(u.maxZoom,m):m)===1/0)return{center:a.getCenter(),zoom:m};var y=p.subtract(h).divideBy(2),w=this.project(a.getSouthWest(),m),M=this.project(a.getNorthEast(),m);return{center:this.unproject(w.add(M).divideBy(2).add(y),m),zoom:m}},fitBounds:function(a,u){if(!(a=fe(a)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(a,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(u=u||{},!(a=_e(a).round()).x&&!a.y)return this.fire("moveend");if(!0!==u.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate){de(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,h){if(!1===(h=h||{}).animate||!le.any3d)return this.setView(a,u,h);this._stop();var p=this.project(this.getCenter()),m=this.project(a),y=this.getSize(),w=this._zoom;a=xe(a),u=void 0===u?w:u;var M=Math.max(y.x,y.y),x=M*this.getZoomScale(w,u),k=m.distanceTo(p)||1,$=1.42,ue=$*$;function De(ct){var hp=(x*x-M*M+(ct?-1:1)*ue*ue*k*k)/(2*(ct?x:M)*ue*k),jn=Math.sqrt(hp*hp+1)-hp;return jn<1e-9?-18:Math.log(jn)}function xt(ct){return(Math.exp(ct)-Math.exp(-ct))/2}function zt(ct){return(Math.exp(ct)+Math.exp(-ct))/2}var Qt=De(0);function Ea(ct){return M*(zt(Qt)*function hi(ct){return xt(ct)/zt(ct)}(Qt+$*ct)-xt(Qt))/ue}var Pe=Date.now(),bv=(De(1)-Qt)/$,nd=h.duration?1e3*h.duration:1e3*bv*.8;return this._moveStart(!0,h.noMoveStart),function id(){var ct=(Date.now()-Pe)/nd,Po=function Ta(ct){return 1-Math.pow(1-ct,1.5)}(ct)*bv;ct<=1?(this._flyToFrame=Zt(id,this),this._move(this.unproject(p.add(m.subtract(p).multiplyBy(Ea(Po)/k)),w),this.getScaleZoom(M/function ni(ct){return M*(zt(Qt)/zt(Qt+$*ct))}(Po),w),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(a,u){var h=this._getBoundsCenterZoom(a,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(a){return a=fe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,fe(a));return h.equals(p)||this.panTo(p,u),this._enforcingBounds=!1,this},panInside:function(a,u){var h=_e((u=u||{}).paddingTopLeft||u.padding||[0,0]),p=_e(u.paddingBottomRight||u.padding||[0,0]),m=this.project(this.getCenter()),y=this.project(a),w=this.getPixelBounds(),M=Nn([w.min.add(h),w.max.subtract(p)]),x=M.getSize();if(!M.contains(y)){this._enforcingBounds=!0;var k=y.subtract(M.getCenter()),$=M.extend(y).getSize().subtract(x);m.x+=k.x<0?-$.x:$.x,m.y+=k.y<0?-$.y:$.y,this.panTo(this.unproject(m),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=Fe({animate:!1,pan:!0},!0===a?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=u.divideBy(2).round(),m=h.divideBy(2).round(),y=p.subtract(m);return y.x||y.y?(a.animate&&a.pan?this.panBy(y):(a.pan&&this._rawPanBy(y),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(st(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=Fe({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=st(this._handleGeolocationResponse,this),h=st(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,a):navigator.geolocation.getCurrentPosition(u,h,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,h=a.message||(1===u?"permission denied":2===u?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var p=new nt(a.coords.latitude,a.coords.longitude),m=p.toBounds(2*a.coords.accuracy),y=this._locateOptions;if(y.setView){var w=this.getBoundsZoom(m);this.setView(p,y.maxZoom?Math.min(w,y.maxZoom):w)}var M={latlng:p,bounds:m,timestamp:a.timestamp};for(var x in a.coords)"number"==typeof a.coords[x]&&(M[x]=a.coords[x]);this.fire("locationfound",M)}},addHandler:function(a,u){if(!u)return this;var h=this[a]=new u(this);return this._handlers.push(h),this.options[a]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var a;for(a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Nt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Jn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)Nt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var p=Ye("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),u||this._mapPane);return a&&(this._panes[a]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new Cn(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,h){a=fe(a),h=_e(h||[0,0]);var p=this.getZoom()||0,m=this.getMinZoom(),y=this.getMaxZoom(),w=a.getNorthWest(),M=a.getSouthEast(),x=this.getSize().subtract(h),k=Nn(this.project(M,p),this.project(w,p)).getSize(),$=le.any3d?this.options.zoomSnap:1,ue=x.x/k.x,De=x.y/k.y,xt=u?Math.max(ue,De):Math.min(ue,De);return p=this.getScaleZoom(xt,p),$&&(p=Math.round(p/($/100))*($/100),p=u?Math.ceil(p/$)*$:Math.floor(p/$)*$),Math.max(m,Math.min(y,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new we(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var h=this._getTopLeftPoint(a,u);return new wt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var h=this.options.crs;return u=void 0===u?this._zoom:u,h.scale(a)/h.scale(u)},getScaleZoom:function(a,u){var h=this.options.crs,p=h.zoom(a*h.scale(u=void 0===u?this._zoom:u));return isNaN(p)?1/0:p},project:function(a,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(xe(a),u)},unproject:function(a,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(_e(a),u)},layerPointToLatLng:function(a){var u=_e(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){return this.project(xe(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(xe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(fe(a))},distance:function(a,u){return this.options.crs.distance(xe(a),xe(u))},containerPointToLayerPoint:function(a){return _e(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return _e(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(_e(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(a)))},mouseEventToContainerPoint:function(a){return ov(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=$f(a);if(!u)throw new Error("Map container not found.");if(u._leaflet_id)throw new Error("Map container is already initialized.");Te(u,"scroll",this._onScroll,this),this._containerId=He(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,de(a,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=ha(a,"position");"absolute"!==u&&"relative"!==u&&"fixed"!==u&&"sticky"!==u&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new we(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(a.markerPane,"leaflet-zoom-hide"),de(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,h){Vt(this._mapPane,new we(0,0));var p=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var m=this._zoom!==u;this._moveStart(m,h)._move(a,u)._moveEnd(m),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,h,p){void 0===u&&(u=this._zoom);var m=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),p?h&&h.pinch&&this.fire("zoom",h):((m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Jn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Vt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[He(this._container)]=this;var u=a?ht:Te;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Jn(this._resizeRequest),this._resizeRequest=Zt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var p,h=[],m="mouseout"===u||"mouseover"===u,y=a.target||a.srcElement,w=!1;y;){if((p=this._targets[He(y)])&&("click"===u||"preclick"===u)&&this._draggableMoved(p)){w=!0;break}if(p&&p.listens(u,!0)&&(m&&!ei(y,a)||(h.push(p),m))||y===this._container)break;y=y.parentNode}return!h.length&&!w&&!m&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||"click"===a.type&&this._isClickDisabled(u))){var h=a.type;"mousedown"===h&&V(u),this._fireDOMEvent(a,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,h){if("click"===a.type){var p=Fe({},a);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var m=this._findEventTargets(a,u);if(h){for(var y=[],w=0;w<h.length;w++)h[w].listens(u,!0)&&y.push(h[w]);m=y.concat(m)}if(m.length){"contextmenu"===u&&xn(a);var M=m[0],x={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var k=M.getLatLng&&(!M._radius||M._radius<=10);x.containerPoint=k?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(a),x.layerPoint=this.containerPointToLayerPoint(x.containerPoint),x.latlng=k?M.getLatLng():this.layerPointToLatLng(x.layerPoint)}for(w=0;w<m.length;w++)if(m[w].fire(u,x,!0),x.originalEvent._stopped||!1===m[w].options.bubblingMouseEvents&&-1!==Cr(this._mouseEvents,u))return}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Et(this._mapPane)||new we(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){return(a&&void 0!==u?this._getNewPixelOrigin(a,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var h=this.getSize()._divideBy(2);return this.project(a,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,h){var p=this._getNewPixelOrigin(h,u);return this.project(a,u)._subtract(p)},_latLngBoundsToNewLayerBounds:function(a,u,h){var p=this._getNewPixelOrigin(h,u);return Nn([this.project(a.getSouthWest(),u)._subtract(p),this.project(a.getNorthWest(),u)._subtract(p),this.project(a.getSouthEast(),u)._subtract(p),this.project(a.getNorthEast(),u)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,h){if(!h)return a;var p=this.project(a,u),m=this.getSize().divideBy(2),y=new wt(p.subtract(m),p.add(m)),w=this._getBoundsOffset(y,h,u);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?a:this.unproject(p.add(w),u)},_limitOffset:function(a,u){if(!u)return a;var h=this.getPixelBounds(),p=new wt(h.min.add(a),h.max.add(a));return a.add(this._getBoundsOffset(p,u))},_getBoundsOffset:function(a,u,h){var p=Nn(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),m=p.min.subtract(a.min),y=p.max.subtract(a.max);return new we(this._rebound(m.x,-y.x),this._rebound(m.y,-y.y))},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),h=this.getMaxZoom(),p=le.any3d?this.options.zoomSnap:1;return p&&(a=Math.round(a/p)*p),Math.max(u,Math.min(h,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var h=this._getCenterOffset(a)._trunc();return!(!0!==(u&&u.animate)&&!this.getSize().contains(h)||(this.panBy(h,u),0))},_createAnimProxy:function(){var a=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var h=hs,p=this._proxy.style[h];je(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Nt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();je(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(u),m=this._getCenterOffset(a)._divideBy(1-1/p);return!(!0!==h.animate&&!this.getSize().contains(m)||(Zt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(a,u,!0)},this),0))},_animateZoom:function(a,u,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(st(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Z=wi.extend({options:{position:"topright"},initialize:function(a){bt(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),h=this.getPosition(),p=a._controlCorners[h];return de(u,"leaflet-control"),-1!==h.indexOf("bottom")?p.insertBefore(u,p.firstChild):p.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Nt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),zl=function(a){return new Z(a)};ze.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",h=this._controlContainer=Ye("div",u+"control-container",this._container);function p(m,y){a[m+y]=Ye("div",u+m+" "+u+y,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Nt(this._controlCorners[a]);Nt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var We=Z.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,h,p){return h<p?-1:p<h?1:0}},initialize:function(a,u,h){for(var p in bt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,a)this._addLayer(a[p],p);for(p in u)this._addLayer(u[p],p,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Z.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(He(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Ye("div",a),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Gl(u),qf(u);var p=this._section=Ye("section",a+"-list");h&&(this._map.on("click",this.collapse,this),Te(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=Ye("a",a+"-toggle",u);m.href="#",m.title="Layers",m.setAttribute("role","button"),Te(m,{keydown:function(y){13===y.keyCode&&this._expandSafely()},click:function(y){xn(y),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Ye("div",a+"-base",p),this._separator=Ye("div",a+"-separator",p),this._overlaysList=Ye("div",a+"-overlays",p),u.appendChild(p)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&He(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,h){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(st(function(p,m){return this.options.sortFunction(p.layer,m.layer,p.name,m.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Vl(this._baseLayersList),Vl(this._overlaysList),this._layerControlInputs=[];var a,u,h,p,m=0;for(h=0;h<this._layers.length;h++)this._addItem(p=this._layers[h]),u=u||p.overlay,a=a||!p.overlay,m+=p.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(a=a&&m>1)?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(He(a.target)),h=u.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(a,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(a){var p,u=document.createElement("label"),h=this._map.hasLayer(a.layer);a.overlay?((p=document.createElement("input")).type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+He(this),h),this._layerControlInputs.push(p),p.layerId=He(a.layer),Te(p,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+a.name;var y=document.createElement("span");return u.appendChild(y),y.appendChild(p),y.appendChild(m),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var u,h,a=this._layerControlInputs,p=[],m=[];this._handlingClick=!0;for(var y=a.length-1;y>=0;y--)h=this._getLayer((u=a[y]).layerId).layer,u.checked?p.push(h):u.checked||m.push(h);for(y=0;y<m.length;y++)this._map.hasLayer(m[y])&&this._map.removeLayer(m[y]);for(y=0;y<p.length;y++)this._map.hasLayer(p[y])||this._map.addLayer(p[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u,h,a=this._layerControlInputs,p=this._map.getZoom(),m=a.length-1;m>=0;m--)h=this._getLayer((u=a[m]).layerId).layer,u.disabled=void 0!==h.options.minZoom&&p<h.options.minZoom||void 0!==h.options.maxZoom&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Te(a,"click",xn),this.expand();var u=this;setTimeout(function(){ht(a,"click",xn),u._preventClick=!1})}}),Wu=Z.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",h=Ye("div",u+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,h,p,m){var y=Ye("a",h,p);return y.innerHTML=a,y.href="#",y.title=u,y.setAttribute("role","button"),y.setAttribute("aria-label",u),Gl(y),Te(y,"click",gs),Te(y,"click",m,this),Te(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ne(this._zoomInButton,u),ne(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(de(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(de(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wu,this.addControl(this.zoomControl))});var Kf=Z.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",h=Ye("div",u),p=this.options;return this._addScales(p,u+"-line",h),a.on(p.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),h},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,h){a.metric&&(this._mScale=Ye("div",u,h)),a.imperial&&(this._iScale=Ye("div",u,h))},_update:function(){var a=this._map,u=a.getSize().y/2,h=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/a)},_updateImperial:function(a){var h,p,m,u=3.2808399*a;u>5280?(p=this._getRoundNum(h=u/5280),this._updateScale(this._iScale,p+" mi",p/h)):(m=this._getRoundNum(u),this._updateScale(this._iScale,m+" ft",m/u))},_updateScale:function(a,u,h){a.style.width=Math.round(this.options.maxWidth*h)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),h=a/u;return u*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),_a=Z.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(a){bt(this,a),this._attributions={}},onAdd:function(a){for(var u in a.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),Gl(this._container),a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),a.length&&h.push(a.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&(new _a).addTo(this)});Z.Layers=We,Z.Zoom=Wu,Z.Scale=Kf,Z.Attribution=_a,zl.layers=function(a,u,h){return new We(a,u,h)},zl.zoom=function(a){return new Wu(a)},zl.scale=function(a){return new Kf(a)},zl.attribution=function(a){return new _a(a)};var tr=wi.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(a,u){return a.addHandler(u,this),this};var Oe={Events:At},Yl=le.touch?"touchstart mousedown":"mousedown",Er=Eo.extend({options:{clickTolerance:3},initialize:function(a,u,h,p){bt(this,p),this._element=a,this._dragStartTarget=u||a,this._preventOutline=h},enable:function(){this._enabled||(Te(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),ht(this._dragStartTarget,Yl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ul(this._element,"leaflet-zoom-anim"))){if(a.touches&&1!==a.touches.length)return void(Er._dragging===this&&this.finishDrag());if(!(Er._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(Er._dragging=this,this._preventOutline&&V(this._element),pa(),Ao(),this._moving))){this.fire("down");var u=a.touches?a.touches[0]:a,h=me(this._element);this._startPoint=new we(u.clientX,u.clientY),this._startPos=Et(this._element),this._parentScale=Ke(h);var p="mousedown"===a.type;Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var u=a.touches&&1===a.touches.length?a.touches[0]:a,h=new we(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,xn(a),this._moved||(this.fire("dragstart"),this._moved=!0,de(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Vt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ne(document.body,"leaflet-dragging"),this._lastTarget&&(ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ht(document,"mousemove touchmove",this._onMove,this),ht(document,"mouseup touchend touchcancel",this._onUp,this),ga(),fa();var u=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Un(a,u,h){var p,y,w,M,x,k,$,ue,De,m=[1,4,2,8];for(y=0,$=a.length;y<$;y++)a[y]._code=ms(a[y],u);for(M=0;M<4;M++){for(ue=m[M],p=[],y=0,w=($=a.length)-1;y<$;w=y++)k=a[w],(x=a[y])._code&ue?k._code&ue||((De=_s(k,x,ue,u,h))._code=ms(De,u),p.push(De)):(k._code&ue&&((De=_s(k,x,ue,u,h))._code=ms(De,u),p.push(De)),p.push(x));a=p}return a}function qu(a,u){var h,p,m,y,w,M,x,k;if(!a||0===a.length)throw new Error("latlngs not passed");Li(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ue=xe([0,0]),De=fe(a);De.getNorthWest().distanceTo(De.getSouthWest())*De.getNorthEast().distanceTo(De.getNorthWest())<1700&&(ue=Jf(a));var zt=a.length,hi=[];for(h=0;h<zt;h++){var Qt=xe(a[h]);hi.push(u.project(xe([Qt.lat-ue.lat,Qt.lng-ue.lng])))}for(M=x=k=0,h=0,p=zt-1;h<zt;p=h++)x+=((m=hi[h]).x+(y=hi[p]).x)*(w=m.y*y.x-y.y*m.x),k+=(m.y+y.y)*w,M+=3*w;var ni=u.unproject(_e(0===M?hi[0]:[x/M,k/M]));return xe([ni.lat+ue.lat,ni.lng+ue.lng])}function Jf(a){for(var u=0,h=0,p=0,m=0;m<a.length;m++){var y=xe(a[m]);u+=y.lat,h+=y.lng,p++}return xe([u/p,h/p])}var Kl,Ct={__proto__:null,clipPolygon:Un,polygonCenter:qu,centroid:Jf};function cv(a,u){if(!u||!a.length)return a.slice();var h=u*u;return function Zu(a,u){var h=a.length,m=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);m[0]=m[h-1]=1,ma(a,m,u,0,h-1);var y,w=[];for(y=0;y<h;y++)m[y]&&w.push(a[y]);return w}(a=function Xf(a,u){for(var h=[a[0]],p=1,m=0,y=a.length;p<y;p++)qE(a[p],a[m])>u&&(h.push(a[p]),m=p);return m<y-1&&h.push(a[y-1]),h}(a,h),h)}function uv(a,u,h){return Math.sqrt(Ql(a,u,h,!0))}function ma(a,u,h,p,m){var w,M,x,y=0;for(M=p+1;M<=m-1;M++)(x=Ql(a[M],a[p],a[m],!0))>y&&(w=M,y=x);y>h&&(u[w]=1,ma(a,u,h,p,w),ma(a,u,h,w,m))}function ep(a,u,h,p,m){var M,x,k,y=p?Kl:ms(a,h),w=ms(u,h);for(Kl=w;;){if(!(y|w))return[a,u];if(y&w)return!1;k=ms(x=_s(a,u,M=y||w,h,m),h),M===y?(a=x,y=k):(u=x,w=k)}}function _s(a,u,h,p,m){var k,$,y=u.x-a.x,w=u.y-a.y,M=p.min,x=p.max;return 8&h?(k=a.x+y*(x.y-a.y)/w,$=x.y):4&h?(k=a.x+y*(M.y-a.y)/w,$=M.y):2&h?(k=x.x,$=a.y+w*(x.x-a.x)/y):1&h&&(k=M.x,$=a.y+w*(M.x-a.x)/y),new we(k,$,m)}function ms(a,u){var h=0;return a.x<u.min.x?h|=1:a.x>u.max.x&&(h|=2),a.y<u.min.y?h|=4:a.y>u.max.y&&(h|=8),h}function qE(a,u){var h=u.x-a.x,p=u.y-a.y;return h*h+p*p}function Ql(a,u,h,p){var k,m=u.x,y=u.y,w=h.x-m,M=h.y-y,x=w*w+M*M;return x>0&&((k=((a.x-m)*w+(a.y-y)*M)/x)>1?(m=h.x,y=h.y):k>0&&(m+=w*k,y+=M*k)),w=a.x-m,M=a.y-y,p?w*w+M*M:new we(m,y)}function Li(a){return!on(a[0])||"object"!=typeof a[0][0]&&typeof a[0][0]<"u"}function dv(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Li(a)}function vs(a,u){var h,p,m,y,w,M,x,k;if(!a||0===a.length)throw new Error("latlngs not passed");Li(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var $=xe([0,0]),ue=fe(a);ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest())<1700&&($=Jf(a));var xt=a.length,zt=[];for(h=0;h<xt;h++){var hi=xe(a[h]);zt.push(u.project(xe([hi.lat-$.lat,hi.lng-$.lng])))}for(h=0,p=0;h<xt-1;h++)p+=zt[h].distanceTo(zt[h+1])/2;if(0===p)k=zt[0];else for(h=0,y=0;h<xt-1;h++)if((y+=m=(w=zt[h]).distanceTo(M=zt[h+1]))>p){k=[M.x-(x=(y-p)/m)*(M.x-w.x),M.y-x*(M.y-w.y)];break}var Qt=u.unproject(_e(k));return xe([Qt.lat+$.lat,Qt.lng+$.lng])}var Yu={__proto__:null,simplify:cv,pointToSegmentDistance:uv,closestPointOnSegment:function oe(a,u,h){return Ql(a,u,h)},clipSegment:ep,_getEdgeIntersection:_s,_getBitCode:ms,_sqClosestPointOnSegment:Ql,isFlat:Li,_flat:dv,polylineCenter:vs},ys={project:function(a){return new we(a.lng,a.lat)},unproject:function(a){return new nt(a.y,a.x)},bounds:new wt([-180,-90],[180,90])},Ku={R:6378137,R_MINOR:6356752.314245179,bounds:new wt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(a){var u=Math.PI/180,h=this.R,p=a.lat*u,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),w=y*Math.sin(p),M=Math.tan(Math.PI/4-p/2)/Math.pow((1-w)/(1+w),y/2);return p=-h*Math.log(Math.max(M,1e-10)),new we(a.lng*u*h,p)},unproject:function(a){for(var k,u=180/Math.PI,h=this.R,p=this.R_MINOR/h,m=Math.sqrt(1-p*p),y=Math.exp(-a.y/h),w=Math.PI/2-2*Math.atan(y),M=0,x=.1;M<15&&Math.abs(x)>1e-7;M++)k=m*Math.sin(w),k=Math.pow((1-k)/(1+k),m/2),w+=x=Math.PI/2-2*Math.atan(y*k)-w;return new nt(w*u,a.x*u/h)}},hv={__proto__:null,LonLat:ys,Mercator:Ku,SphericalMercator:Re},fv=Fe({},Ge,{code:"EPSG:3395",projection:Ku,transformation:function(){var a=.5/(Math.PI*Ku.R);return as(a,.5,-a,.5)}()}),Qu=Fe({},Ge,{code:"EPSG:4326",projection:ys,transformation:as(1/180,1,-1/180,.5)}),bs=Fe({},Je,{projection:ys,transformation:as(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var h=u.lng-a.lng,p=u.lat-a.lat;return Math.sqrt(h*h+p*p)},infinite:!0});Je.Earth=Ge,Je.EPSG3395=fv,Je.EPSG3857=To,Je.EPSG900913=Io,Je.EPSG4326=Qu,Je.Simple=bs;var Fi=Eo.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[He(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[He(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=He(a);return this._layers[u]||(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var u=He(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return He(a)in this._layers},eachLayer:function(a,u){for(var h in this._layers)a.call(u,this._layers[h]);return this},_addLayers:function(a){for(var u=0,h=(a=a?on(a)?a:[a]:[]).length;u<h;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[He(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=He(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var m=this._zoomBoundLayers[p].options;a=void 0===m.minZoom?a:Math.min(a,m.minZoom),u=void 0===m.maxZoom?u:Math.max(u,m.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ui=Fi.extend({initialize:function(a,u){var h,p;if(bt(this,u),this._layers={},a)for(h=0,p=a.length;h<p;h++)this.addLayer(a[h])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var h,p,u=Array.prototype.slice.call(arguments,1);for(h in this._layers)(p=this._layers[h])[a]&&p[a].apply(p,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var h in this._layers)a.call(u,this._layers[h]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return He(a)}}),Q=ui.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ui.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ui.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Cn;for(var u in this._layers){var h=this._layers[u];a.extend(h.getBounds?h.getBounds():h.getLatLng())}return a}}),Y=wi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){bt(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var h=this._getIconUrl(a);if(!h){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,u&&"IMG"===u.tagName?u:null);return this._setIconStyles(p,a),(this.options.crossOrigin||""===this.options.crossOrigin)&&(p.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),p},_setIconStyles:function(a,u){var h=this.options,p=h[u+"Size"];"number"==typeof p&&(p=[p,p]);var m=_e(p),y=_e("shadow"===u&&h.shadowAnchor||h.iconAnchor||m&&m.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(h.className||""),y&&(a.style.marginLeft=-y.x+"px",a.style.marginTop=-y.y+"px"),m&&(a.style.width=m.x+"px",a.style.height=m.y+"px")},_createImg:function(a,u){return(u=u||document.createElement("img")).src=a,u},_getIconUrl:function(a){return le.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});var xo=Y.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof xo.imagePath&&(xo.imagePath=this._detectIconPath()),(this.options.imagePath||xo.imagePath)+Y.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(h,p,m){var y=p.exec(h);return y&&y[m]};return(a=u(a,/^url\((['"])?(.+)\1\)$/,2))&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Ye("div","leaflet-default-icon-path",document.body),u=ha(a,"background-image")||ha(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u))return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),ws=tr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Er(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,h=u._map,p=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,y=Et(u._icon),w=h.getPixelBounds(),M=h.getPixelOrigin(),x=Nn(w.min._subtract(M).add(m),w.max._subtract(M).subtract(m));if(!x.contains(y)){var k=_e((Math.max(x.max.x,y.x)-x.max.x)/(w.max.x-x.max.x)-(Math.min(x.min.x,y.x)-x.min.x)/(w.min.x-x.min.x),(Math.max(x.max.y,y.y)-x.max.y)/(w.max.y-x.max.y)-(Math.min(x.min.y,y.y)-x.min.y)/(w.min.y-x.min.y)).multiplyBy(p);h.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),Vt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Zt(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Jn(this._panRequest),this._panRequest=Zt(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,h=u._shadow,p=Et(u._icon),m=u._map.layerPointToLatLng(p);h&&Vt(h,p),u._latlng=m,a.latlng=m,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Jn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Xl=Fi.extend({options:{icon:new xo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){bt(this,u),this._latlng=xe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=xe(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=a.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,a.title&&(h.title=a.title),"IMG"===h.tagName&&(h.alt=a.alt||"")),de(h,u),a.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(h,"focus",this._panOnFocus,this);var m=a.icon.createShadow(this._shadow),y=!1;m!==this._shadow&&(this._removeShadow(),y=!0),m&&(de(m,u),m.alt=""),this._shadow=m,a.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&y&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ht(this._icon,"focus",this._panOnFocus,this),Nt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Nt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Vt(this._icon,a),this._shadow&&Vt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ws)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ws(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Gt(this._icon,a),this._shadow&&Gt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,h=u.iconSize?_e(u.iconSize):_e(0,0),p=u.iconAnchor?_e(u.iconAnchor):_e(0,0);a.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Wr=Fi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return bt(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ci=Wr.extend({options:{fill:!0,radius:10},initialize:function(a,u){bt(this,u),this._latlng=xe(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=xe(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return Wr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,h=this._clickTolerance(),p=[a+h,u+h];this._pxBounds=new wt(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var di=Ci.extend({initialize:function(a,u,h){if("number"==typeof u&&(u=Fe({},h,{radius:u})),bt(this,u),this._latlng=xe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Cn(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Wr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Ge.distance){var m=Math.PI/180,y=this._mRadius/Ge.R/m,w=h.project([u+y,a]),M=h.project([u-y,a]),x=w.add(M).divideBy(2),k=h.unproject(x).lat,$=Math.acos((Math.cos(y*m)-Math.sin(u*m)*Math.sin(k*m))/(Math.cos(u*m)*Math.cos(k*m)))/m;(isNaN($)||0===$)&&($=y/Math.cos(Math.PI/180*u)),this._point=x.subtract(h.getPixelOrigin()),this._radius=isNaN($)?0:x.x-h.project([k,a-$]).x,this._radiusY=x.y-w.y}else{var ue=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ue).x}this._updateBounds()}});var Se=Wr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){bt(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var m,y,u=1/0,h=null,p=Ql,w=0,M=this._parts.length;w<M;w++)for(var x=this._parts[w],k=1,$=x.length;k<$;k++){var ue=p(a,m=x[k-1],y=x[k],!0);ue<u&&(u=ue,h=p(a,m,y))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=xe(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Cn,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],h=Li(a),p=0,m=a.length;p<m;p++)h?(u[p]=xe(a[p]),this._bounds.extend(u[p])):u[p]=this._convertLatLngs(a[p]);return u},_project:function(){var a=new wt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new we(a,a);this._rawPxBounds&&(this._pxBounds=new wt([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,h){var y,w,m=a.length;if(a[0]instanceof nt){for(w=[],y=0;y<m;y++)w[y]=this._map.latLngToLayerPoint(a[y]),h.extend(w[y]);u.push(w)}else for(y=0;y<m;y++)this._projectLatlngs(a[y],u,h)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);var h,p,m,y,w,M,x,u=this._parts;for(h=0,m=0,y=this._rings.length;h<y;h++)for(p=0,w=(x=this._rings[h]).length;p<w-1;p++)(M=ep(x[p],x[p+1],a,p,!0))&&(u[m]=u[m]||[],u[m].push(M[0]),(M[1]!==x[p+1]||p===w-2)&&(u[m].push(M[1]),m++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,h=0,p=a.length;h<p;h++)a[h]=cv(a[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var h,p,m,y,w,M,x=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(h=0,y=this._parts.length;h<y;h++)for(p=0,m=(w=(M=this._parts[h]).length)-1;p<w;m=p++)if((u||0!==p)&&uv(a,M[m],M[p])<=x)return!0;return!1}});Se._flat=dv;var qr=Se.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=Se.prototype._convertLatLngs.call(this,a),h=u.length;return h>=2&&u[0]instanceof nt&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(a){Se.prototype._setLatLngs.call(this,a),Li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,h=new we(u,u);if(a=new wt(a.min.subtract(h),a.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);for(var y,p=0,m=this._rings.length;p<m;p++)(y=Un(this._rings[p],a,!0)).length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var h,p,m,y,w,M,x,k,u=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(y=0,x=this._parts.length;y<x;y++)for(w=0,M=(k=(h=this._parts[y]).length)-1;w<k;M=w++)(p=h[w]).y>a.y!=(m=h[M]).y>a.y&&a.x<(m.x-p.x)*(a.y-p.y)/(m.y-p.y)+p.x&&(u=!u);return u||Se.prototype._containsPoint.call(this,a,!0)}});var ir=Q.extend({initialize:function(a,u){bt(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var h,p,m,u=on(a)?a:a.features;if(u){for(h=0,p=u.length;h<p;h++)((m=u[h]).geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var y=this.options;if(y.filter&&!y.filter(a))return this;var w=Di(a,y);return w?(w.feature=Zr(a),w.defaultOptions=w.options,this.resetStyle(w),y.onEachFeature&&y.onEachFeature(a,w),this.addLayer(w)):this},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=Fe({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&("function"==typeof u&&(u=u(a.feature)),a.setStyle(u))}});function Di(a,u){var M,x,k,$,h="Feature"===a.type?a.geometry:a,p=h?h.coordinates:null,m=[],y=u&&u.pointToLayer,w=u&&u.coordsToLatLng||nc;if(!p&&!h)return null;switch(h.type){case"Point":return Cs(y,a,M=w(p),u);case"MultiPoint":for(k=0,$=p.length;k<$;k++)M=w(p[k]),m.push(Cs(y,a,M,u));return new Q(m);case"LineString":case"MultiLineString":return x=va(p,"LineString"===h.type?0:1,w),new Se(x,u);case"Polygon":case"MultiPolygon":return x=va(p,"Polygon"===h.type?1:2,w),new qr(x,u);case"GeometryCollection":for(k=0,$=h.geometries.length;k<$;k++){var ue=Di({geometry:h.geometries[k],type:"Feature",properties:a.properties},u);ue&&m.push(ue)}return new Q(m);case"FeatureCollection":for(k=0,$=h.features.length;k<$;k++){var De=Di(h.features[k],u);De&&m.push(De)}return new Q(m);default:throw new Error("Invalid GeoJSON object.")}}function Cs(a,u,h,p){return a?a(u,h):new Xl(h,p&&p.markersInheritOptions&&p)}function nc(a){return new nt(a[1],a[0],a[2])}function va(a,u,h){for(var w,p=[],m=0,y=a.length;m<y;m++)w=u?va(a[m],u-1,h):(h||nc)(a[m]),p.push(w);return p}function ya(a,u){return void 0!==(a=xe(a)).alt?[Vn(a.lng,u),Vn(a.lat,u),Vn(a.alt,u)]:[Vn(a.lng,u),Vn(a.lat,u)]}function ba(a,u,h,p){for(var m=[],y=0,w=a.length;y<w;y++)m.push(u?ba(a[y],Li(a[y])?0:u-1,h,p):ya(a[y],p));return!u&&h&&m.length>0&&m.push(m[0].slice()),m}function Ro(a,u){return a.feature?Fe({},a.feature,{geometry:u}):Zr(u)}function Zr(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}var ic={toGeoJSON:function(a){return Ro(this,{type:"Point",coordinates:ya(this.getLatLng(),a)})}};function Xu(a,u){return new ir(a,u)}Xl.include(ic),di.include(ic),Ci.include(ic),Se.include({toGeoJSON:function(a){var u=!Li(this._latlngs);return Ro(this,{type:(u?"Multi":"")+"LineString",coordinates:ba(this._latlngs,u?1:0,!1,a)})}}),qr.include({toGeoJSON:function(a){var u=!Li(this._latlngs),h=u&&!Li(this._latlngs[0]),p=ba(this._latlngs,h?2:u?1:0,!0,a);return u||(p=[p]),Ro(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),ui.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(a).geometry.coordinates)}),Ro(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===u)return this.toMultiPoint(a);var h="GeometryCollection"===u,p=[];return this.eachLayer(function(m){if(m.toGeoJSON){var y=m.toGeoJSON(a);if(h)p.push(y.geometry);else{var w=Zr(y);"FeatureCollection"===w.type?p.push.apply(p,w.features):p.push(w)}}}),h?Ro(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});var _v=Xu,wa=Fi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,h){this._url=a,this._bounds=fe(u),bt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Nt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&fs(this._image),this},bringToBack:function(){return this._map&&Bt(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=fe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,u=this._image=a?this._url:Ye("img");de(u,"leaflet-image-layer"),this._zoomAnimated&&de(u,"leaflet-zoom-animated"),this.options.className&&de(u,this.options.className),u.onselectstart=at,u.onmousemove=at,u.onload=st(this.fire,this,"load"),u.onerror=st(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;je(this._image,h,u)},_reset:function(){var a=this._image,u=new wt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();Vt(a,u.min),a.style.width=h.x+"px",a.style.height=h.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),np=wa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,u=this._image=a?this._url:Ye("video");if(de(u,"leaflet-image-layer"),this._zoomAnimated&&de(u,"leaflet-zoom-animated"),this.options.className&&de(u,this.options.className),u.onselectstart=at,u.onmousemove=at,u.onloadeddata=st(this.fire,this,"load"),a){for(var h=u.getElementsByTagName("source"),p=[],m=0;m<h.length;m++)p.push(h[m].src);this._url=h.length>0?p:[u.src]}else{on(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var w=Ye("source");w.src=this._url[y],u.appendChild(w)}}}});var ip=wa.extend({_initImage:function(){var a=this._image=this._url;de(a,"leaflet-image-layer"),this._zoomAnimated&&de(a,"leaflet-zoom-animated"),this.options.className&&de(a,this.options.className),a.onselectstart=at,a.onmousemove=at}});var rr=Fi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof nt||on(a))?(this._latlng=xe(a),bt(this,u)):(bt(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return(a=arguments.length?a:this._source._map).hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(de(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(st(Nt,void 0,this._container),200)):Nt(this._container),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=xe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fs(this._container),this},bringToBack:function(){return this._map&&Bt(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Q){u=null;var h=this._source._layers;for(var p in h)if(h[p]._map){u=h[p];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");a=u.getBounds().getCenter()}return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=_e(this.options.offset),h=this._getAnchor();this._zoomAnimated?Vt(this._container,a.add(h)):u=u.add(a).add(h);var p=this._containerBottom=-u.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=p+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(a,u,h,p){var m=u;return m instanceof a||(m=new a(p).setContent(u)),h&&m.setLatLng(h),m}}),Fi.include({_initOverlay:function(a,u,h,p){var m=h;return m instanceof a?(bt(m,p),m._source=this):(m=u&&!p?u:new a(p,this)).setContent(h),m}});var rc=rr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return!(a=arguments.length?a:this._source._map).hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,rr.prototype.openOn.call(this,a)},onAdd:function(a){rr.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wr||this._source.on("preclick",ci))},onRemove:function(a){rr.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wr||this._source.off("preclick",ci))},getEvents:function(){var a=rr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Ye("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ye("div",a+"-content-wrapper",u);if(this._contentNode=Ye("div",a+"-content",h),Gl(u),qf(this._contentNode),Te(u,"contextmenu",ci),this._tipContainer=Ye("div",a+"-tip-container",u),this._tip=Ye("div",a+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ye("a",a+"-close-button",u);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",function(m){xn(m),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var h=a.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var m=this.options.maxHeight,y="leaflet-popup-scrolled";m&&a.offsetHeight>m?(u.height=m+"px",de(a,y)):ne(a,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),h=this._getAnchor();Vt(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var a=this._map,u=parseInt(ha(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,p=this._containerWidth,m=new we(this._containerLeft,-h-this._containerBottom);m._add(Et(this._container));var y=a.layerPointToContainerPoint(m),w=_e(this.options.autoPanPadding),M=_e(this.options.autoPanPaddingTopLeft||w),x=_e(this.options.autoPanPaddingBottomRight||w),k=a.getSize(),$=0,ue=0;y.x+p+x.x>k.x&&($=y.x+p-k.x+x.x),y.x-$-M.x<0&&($=y.x-M.x),y.y+h+x.y>k.y&&(ue=y.y+h-k.y+x.y),y.y-ue-M.y<0&&(ue=y.y-M.y),($||ue)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([$,ue]))}},_getAnchor:function(){return _e(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(a,u,h){return this._initOverlay(rc,a,u,h).openOn(this),this},closePopup:function(a){return(a=arguments.length?a:this._popup)&&a.close(),this}}),Fi.include({bindPopup:function(a,u){return this._popup=this._initOverlay(rc,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Q||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(this._popup&&this._map){gs(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof Wr))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng));this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var oc=rr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){rr.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){rr.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=rr.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){this._contentNode=this._container=Ye("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+He(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,h,p=this._map,m=this._container,y=p.latLngToContainerPoint(p.getCenter()),w=p.layerPointToContainerPoint(a),M=this.options.direction,x=m.offsetWidth,k=m.offsetHeight,$=_e(this.options.offset),ue=this._getAnchor();"top"===M?(u=x/2,h=k):"bottom"===M?(u=x/2,h=0):"center"===M?(u=x/2,h=k/2):"right"===M?(u=0,h=k/2):"left"===M?(u=x,h=k/2):w.x<y.x?(M="right",u=0,h=k/2):(M="left",u=x+2*($.x+ue.x),h=k/2),a=a.subtract(_e(u,h,!0)).add($).add(ue),ne(m,"leaflet-tooltip-right"),ne(m,"leaflet-tooltip-left"),ne(m,"leaflet-tooltip-top"),ne(m,"leaflet-tooltip-bottom"),de(m,"leaflet-tooltip-"+M),Vt(m,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Gt(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return _e(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ze.include({openTooltip:function(a,u,h){return this._initOverlay(oc,a,u,h).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Fi.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oc,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var u=a?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Q||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u="function"==typeof a.getElement&&a.getElement();u&&(Te(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Te(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u="function"==typeof a.getElement&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;return void this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)})}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var h,p,u=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(h=this._map.mouseEventToContainerPoint(a.originalEvent),p=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(u)}});var sp=Y.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&"DIV"===a.tagName?a:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Vl(u),u.appendChild(h.html)):u.innerHTML=!1!==h.html?h.html:"",h.bgPos){var p=_e(h.bgPos);u.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});Y.Default=xo;var Ca=Fi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){bt(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Nt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=sa(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof we?a:new we(a,a)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var y,u=this.getPane().children,h=-a(-1/0,1/0),p=0,m=u.length;p<m;p++)y=u[p].style.zIndex,u[p]!==this._container&&y&&(h=a(h,+y));isFinite(h)&&(this.options.zIndex=h+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){Gt(this._container,this.options.opacity);var a=+new Date,u=!1,h=!1;for(var p in this._tiles){var m=this._tiles[p];if(m.current&&m.loaded){var y=Math.min(1,(a-m.loaded)/200);Gt(m.el,y),y<1?u=!0:(m.active?h=!0:this._onOpaqueTile(m),m.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(Jn(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this))}},_onOpaqueTile:at,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(void 0!==a){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===a?(this._levels[h].el.style.zIndex=u-Math.abs(a-h),this._onUpdateLevel(h)):(Nt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[a],m=this._map;return p||((p=this._levels[a]={}).el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=u,p.origin=m.project(m.unproject(m.getPixelOrigin()),a).round(),p.zoom=a,this._setZoomTransform(p,m.getCenter(),m.getZoom()),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:at,_onRemoveLevel:at,_onCreateLevel:at,_pruneTiles:function(){if(this._map){var a,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(a in this._tiles)(u=this._tiles[a]).retain=u.current;for(a in this._tiles)if((u=this._tiles[a]).current&&!u.active){var p=u.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Nt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,h,p){var m=Math.floor(a/2),y=Math.floor(u/2),w=h-1,M=new we(+m,+y);M.z=+w;var x=this._tileCoordsToKey(M),k=this._tiles[x];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),w>p&&this._retainParent(m,y,w,p))},_retainChildren:function(a,u,h,p){for(var m=2*a;m<2*a+2;m++)for(var y=2*u;y<2*u+2;y++){var w=new we(m,y);w.z=h+1;var M=this._tileCoordsToKey(w),x=this._tiles[M];x&&x.active?x.retain=!0:(x&&x.loaded&&(x.retain=!0),h+1<p&&this._retainChildren(m,y,h+1,p))}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return void 0!==u.minNativeZoom&&a<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,h,p){var m=Math.round(u);m=void 0!==this.options.maxZoom&&m>this.options.maxZoom||void 0!==this.options.minZoom&&m<this.options.minZoom?void 0:this._clampZoom(m),(!p||this.options.updateWhenZooming&&m!==this._tileZoom)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==m&&this._update(a),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],a,u)},_setZoomTransform:function(a,u,h){var p=this._map.getZoomScale(h,a.zoom),m=a.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(u,h)).round();le.any3d?je(a.el,m,p):Vt(a.el,m)},_resetGrid:function(){var a=this._map,u=a.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],p).x/h.x),Math.ceil(a.project([0,u.wrapLng[1]],p).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],p).y/h.x),Math.ceil(a.project([u.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),p=u.getZoomScale(h,this._tileZoom),m=u.project(a,this._tileZoom).floor(),y=u.getSize().divideBy(2*p);return new wt(m.subtract(y),m.add(y))},_update:function(a){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(void 0===a&&(a=u.getCenter()),void 0!==this._tileZoom){var p=this._getTiledPixelBounds(a),m=this._pxBoundsToTileRange(p),y=m.getCenter(),w=[],M=this.options.keepBuffer,x=new wt(m.getBottomLeft().subtract([M,-M]),m.getTopRight().add([M,-M]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var $=this._tiles[k].coords;($.z!==this._tileZoom||!x.contains(new we($.x,$.y)))&&(this._tiles[k].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(a,h);for(var ue=m.min.y;ue<=m.max.y;ue++)for(var De=m.min.x;De<=m.max.x;De++){var xt=new we(De,ue);if(xt.z=this._tileZoom,this._isValidTile(xt)){var zt=this._tiles[this._tileCoordsToKey(xt)];zt?zt.current=!0:w.push(xt)}}if(w.sort(function(Qt,ni){return Qt.distanceTo(y)-ni.distanceTo(y)}),0!==w.length){this._loading||(this._loading=!0,this.fire("loading"));var hi=document.createDocumentFragment();for(De=0;De<w.length;De++)this._addTile(w[De],hi);this._level.el.appendChild(hi)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(a.x<h.min.x||a.x>h.max.x)||!u.wrapLat&&(a.y<h.min.y||a.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(a);return fe(this.options.bounds).overlaps(p)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,h=this.getTileSize(),p=a.scaleBy(h),m=p.add(h);return[u.unproject(p,a.z),u.unproject(m,a.z)]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),h=new Cn(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),h=new we(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(a){var u=this._tiles[a];u&&(Nt(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){de(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=at,a.onmousemove=at,le.ielt9&&this.options.opacity<1&&Gt(a,this.options.opacity)},_addTile:function(a,u){var h=this._getTilePos(a),p=this._tileCoordsToKey(a),m=this.createTile(this._wrapCoords(a),st(this._tileReady,this,a));this._initTile(m),this.createTile.length<2&&Zt(st(this._tileReady,this,a,null,m)),Vt(m,h),this._tiles[p]={el:m,coords:a,current:!0},u.appendChild(m),this.fire("tileloadstart",{tile:m,coords:a})},_tileReady:function(a,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:a});var p=this._tileCoordsToKey(a);(h=this._tiles[p])&&(h.loaded=+new Date,this._map._fadeAnimated?(Gt(h.el,0),Jn(this._fadeFrame),this._fadeFrame=Zt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(de(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?Zt(this._pruneTiles,this):setTimeout(st(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new we(this._wrapX?wo(a.x,this._wrapX):a.x,this._wrapY?wo(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new wt(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});var Ds=Ca.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,(u=bt(this,u)).detectRetina&&le.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&void 0===u&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var h=document.createElement("img");return Te(h,"load",st(this._tileOnLoad,this,u,h)),Te(h,"error",st(this._tileOnError,this,u,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(a),h},getTileUrl:function(a){var u={r:le.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=h),u["-y"]=h}return is(this._url,Fe(u,this.options))},_tileOnLoad:function(a,u){le.ielt9?setTimeout(st(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,h){var p=this.options.errorTileUrl;p&&u.getAttribute("src")!==p&&(u.src=p),a(h,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom;return this.options.zoomReverse&&(a=this.options.maxZoom-a),a+this.options.zoomOffset},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&((u=this._tiles[a].el).onload=at,u.onerror=at,!u.complete)){u.src=Do;var h=this._tiles[a].coords;Nt(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Do),Ca.prototype._removeTile.call(this,a)},_tileReady:function(a,u,h){if(this._map&&(!h||h.getAttribute("src")!==Do))return Ca.prototype._tileReady.call(this,a,u,h)}});function ap(a,u){return new Ds(a,u)}var lp=Ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var h=Fe({},this.defaultWmsParams);for(var p in u)p in this.options||(h[p]=u[p]);var m=(u=bt(this,u)).detectRetina&&le.retina?2:1,y=this.getTileSize();h.width=y.x*m,h.height=y.y*m,this.wmsParams=h},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Ds.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),h=this._crs,p=Nn(h.project(u[0]),h.project(u[1])),m=p.min,y=p.max,w=(this._wmsVersion>=1.3&&this._crs===Qu?[m.y,m.x,y.y,y.x]:[m.x,m.y,y.x,y.y]).join(","),M=Ds.prototype.getTileUrl.call(this,a);return M+Ol(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(a,u){return Fe(this.wmsParams,a),u||this.redraw(),this}});Ds.WMS=lp,ap.wms=function Xe(a,u){return new lp(a,u)};var Tr=Fi.extend({options:{padding:.1},initialize:function(a){bt(this,a),He(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var h=this._map.getZoomScale(u,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,u),y=p.multiplyBy(-h).add(m).subtract(this._map._getNewPixelOrigin(a,u));le.any3d?je(this._container,y,h):Vt(this._container,y)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new wt(h,h.add(u.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ed=Tr.extend({options:{tolerance:0},getEvents:function(){var a=Tr.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Te(a,"mousemove",this._onMouseMove,this),Te(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Jn(this._redrawRequest),delete this._ctx,Nt(this._container),ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var u in this._redrawBounds=null,this._layers)this._layers[u]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Tr.prototype._update.call(this);var a=this._bounds,u=this._container,h=a.getSize(),p=le.retina?2:1;Vt(u,a.min),u.width=p*h.x,u.height=p*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Tr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[He(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,h=u.next,p=u.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete a._order,delete this._layers[He(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){var p,m,u=a.options.dashArray.split(/[, ]+/),h=[];for(m=0;m<u.length;m++){if(p=Number(u[m]),isNaN(p))return;h.push(p)}a.options._dashArray=h}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Zt(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new wt,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)a=p.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var h,p,m,y,w=a._parts,M=w.length,x=this._ctx;if(M){for(x.beginPath(),h=0;h<M;h++){for(p=0,m=w[h].length;p<m;p++)x[p?"lineTo":"moveTo"]((y=w[h][p]).x,y.y);u&&x.closePath()}this._fillStroke(x,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var u=a._point,h=this._ctx,p=Math.max(Math.round(a._radius),1),m=(Math.max(Math.round(a._radiusY),1)||p)/p;1!==m&&(h.save(),h.scale(1,m)),h.beginPath(),h.arc(u.x,u.y/m,p,0,2*Math.PI,!1),1!==m&&h.restore(),this._fillStroke(h,a)}},_fillStroke:function(a,u){var h=u.options;h.fill&&(a.globalAlpha=h.fillOpacity,a.fillStyle=h.fillColor||h.color,a.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=h.opacity,a.lineWidth=h.weight,a.strokeStyle=h.color,a.lineCap=h.lineCap,a.lineJoin=h.lineJoin,a.stroke())},_onClick:function(a){for(var h,p,u=this._map.mouseEventToLayerPoint(a),m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(u)&&("click"!==a.type&&"preclick"!==a.type||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(!!p&&[p],a)},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ne(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var h,p,m=this._drawFirst;m;m=m.next)(h=m.layer).options.interactive&&h._containsPoint(u)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(a),p&&(de(this._container,"leaflet-interactive"),this._fireEvent([p],a,"mouseover"),this._hoveredLayer=p)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],a),this._mouseHoverThrottled=!0,setTimeout(st(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,h){this._map._fireDOMEvent(u,h||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var h=u.next,p=u.prev;if(!h)return;h.prev=p,p?p.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var h=u.next,p=u.prev;if(!p)return;p.next=h,h?h.prev=p:p&&(this._drawLast=p),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function K(a){return le.canvas?new ed(a):null}var mn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$e={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tr.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=mn("shape");de(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=mn("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[He(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;Nt(u),a.removeInteractiveTarget(u),delete this._layers[He(a)]},_updateStyle:function(a){var u=a._stroke,h=a._fill,p=a.options,m=a._container;m.stroked=!!p.stroke,m.filled=!!p.fill,p.stroke?(u||(u=a._stroke=mn("stroke")),m.appendChild(u),u.weight=p.weight+"px",u.color=p.color,u.opacity=p.opacity,u.dashStyle=p.dashArray?on(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):"",u.endcap=p.lineCap.replace("butt","flat"),u.joinstyle=p.lineJoin):u&&(m.removeChild(u),a._stroke=null),p.fill?(h||(h=a._fill=mn("fill")),m.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(m.removeChild(h),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),h=Math.round(a._radius),p=Math.round(a._radiusY||h);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+p+" 0,23592600")},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){fs(a._container)},_bringToBack:function(a){Bt(a._container)}},ln=le.vml?mn:Pl,hn=Tr.extend({_initContainer:function(){this._container=ln("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ln("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Nt(this._container),ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Tr.prototype._update.call(this);var a=this._bounds,u=a.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),Vt(h,a.min),h.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=ln("path");a.options.className&&de(u,a.options.className),a.options.interactive&&de(u,"leaflet-interactive"),this._updateStyle(a),this._layers[He(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Nt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[He(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,h=a.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,ua(a._parts,u))},_updateCircle:function(a){var u=a._point,h=Math.max(Math.round(a._radius),1),m="a"+h+","+(Math.max(Math.round(a._radiusY),1)||h)+" 0 1,0 ",y=a._empty()?"M0 0":"M"+(u.x-h)+","+u.y+m+2*h+",0 "+m+2*-h+",0 ";this._setPath(a,y)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){fs(a._path)},_bringToBack:function(a){Bt(a._path)}});function Oo(a){return le.svg||le.vml?new hn(a):null}le.vml&&hn.include($e),ze.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var u=this._paneRenderers[a];return void 0===u&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&K(a)||Oo(a)}});var ti=qr.extend({initialize:function(a,u){qr.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=fe(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});hn.create=ln,hn.pointsToPath=ua,ir.geometryToLayer=Di,ir.coordsToLatLng=nc,ir.coordsToLatLngs=va,ir.latLngToCoords=ya,ir.latLngsToCoords=ba,ir.getFeature=Ro,ir.asFeature=Zr,ze.mergeOptions({boxZoom:!0});var td=tr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Nt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),Ao(),pa(),this._startPoint=this._map.mouseEventToContainerPoint(a),Te(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new wt(this._point,this._startPoint),h=u.getSize();Vt(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Nt(this._box),ne(this._container,"leaflet-crosshair")),fa(),ga(),ht(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if((1===a.which||1===a.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(st(this._resetState,this),0);var u=new Cn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",td),ze.mergeOptions({doubleClickZoom:!0});var Da=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,h=u.getZoom(),p=u.options.zoomDelta,m=a.originalEvent.shiftKey?h-p:h+p;"center"===u.options.doubleClickZoom?u.setZoom(m):u.setZoomAround(a.containerPoint,m)}});ze.addInitHook("addHandler","doubleClickZoom",Da),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var up=tr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Er(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ne(this._map._container,"leaflet-grab"),ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=fe(this._map.options.maxBounds);this._offsetLimit=Nn(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,m=(p-u+h)%a+u-h,y=(p+u+h)%a-u-h,w=Math.abs(m+h)<Math.abs(y+h)?m:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(a){var u=this._map,h=u.options,p=!h.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),p)u.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),w=h.easeLinearity,M=m.multiplyBy(w/((this._lastTime-this._times[0])/1e3)),x=M.distanceTo([0,0]),k=Math.min(h.inertiaMaxSpeed,x),$=M.multiplyBy(k/x),ue=k/(h.inertiaDeceleration*w),De=$.multiplyBy(-ue/2).round();De.x||De.y?(De=u._limitOffset(De,u.options.maxBounds),Zt(function(){u.panBy(De,{duration:ue,easeLinearity:w,noMoveStart:!0,animate:!0})})):u.fire("moveend")}}});ze.addInitHook("addHandler","dragging",up),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var dp=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Te(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,h=a.scrollTop||u.scrollTop,p=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var p,m,u=this._panKeys={},h=this.keyCodes;for(p=0,m=h.left.length;p<m;p++)u[h.left[p]]=[-1*a,0];for(p=0,m=h.right.length;p<m;p++)u[h.right[p]]=[a,0];for(p=0,m=h.down.length;p<m;p++)u[h.down[p]]=[0,a];for(p=0,m=h.up.length;p<m;p++)u[h.up[p]]=[0,-1*a]},_setZoomDelta:function(a){var p,m,u=this._zoomKeys={},h=this.keyCodes;for(p=0,m=h.zoomIn.length;p<m;p++)u[h.zoomIn[p]]=a;for(p=0,m=h.zoomOut.length;p<m;p++)u[h.zoomOut[p]]=-a},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var p,u=a.keyCode,h=this._map;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[u],a.shiftKey&&(p=_e(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(_e(p),h.options.maxBounds)),h.options.worldCopyJump){var m=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(m)}else h.panBy(p)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else{if(27!==u||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}gs(a)}}});ze.addInitHook("addHandler","keyboard",dp),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ut=tr.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=av(a),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(st(this._performZoom,this),p),gs(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),h=this._map.options.zoomSnap||0;a._stop();var m=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,y=h?Math.ceil(m/h)*h:m,w=a._limitZoom(u+(this._delta>0?y:-y))-u;this._delta=0,this._startTime=null,w&&("center"===a.options.scrollWheelZoom?a.setZoom(u+w):a.setZoomAround(this._lastMousePos,u+w))}});ze.addInitHook("addHandler","scrollWheelZoom",Ut);ze.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var Ce=tr.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),1===a.touches.length){var u=a.touches[0];this._startPos=this._newPos=new we(u.clientX,u.clientY),this._holdTimeout=setTimeout(st(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",xn),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ht(document,"touchend",xn),ht(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ht(document,"touchend touchcancel contextmenu",this._cancel,this),ht(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new we(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var h=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});ze.addInitHook("addHandler","tapHold",Ce),ze.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var Tt=tr.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(a.touches&&2===a.touches.length&&!u._animatingZoom&&!this._zooming){var h=u.mouseEventToContainerPoint(a.touches[0]),p=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),"center"!==u.options.touchZoom&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),xn(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var u=this._map,h=u.mouseEventToContainerPoint(a.touches[0]),p=u.mouseEventToContainerPoint(a.touches[1]),m=h.distanceTo(p)/this._startDist;if(this._zoom=u.getScaleZoom(m,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&m<1||this._zoom>u.getMaxZoom()&&m>1)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1===m)return}else{var y=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(1===m&&0===y.x&&0===y.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Jn(this._animRequest);var w=st(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Zt(w,this,!0),xn(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Jn(this._animRequest),ht(document,"touchmove",this._onTouchMove,this),ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ze.addInitHook("addHandler","touchZoom",Tt),ze.BoxZoom=td,ze.DoubleClickZoom=Da,ze.Drag=up,ze.Keyboard=dp,ze.ScrollWheelZoom=Ut,ze.TapHold=Ce,ze.TouchZoom=Tt,q.Bounds=wt,q.Browser=le,q.CRS=Je,q.Canvas=ed,q.Circle=di,q.CircleMarker=Ci,q.Class=wi,q.Control=Z,q.DivIcon=sp,q.DivOverlay=rr,q.DomEvent=pe,q.DomUtil=rv,q.Draggable=Er,q.Evented=Eo,q.FeatureGroup=Q,q.GeoJSON=ir,q.GridLayer=Ca,q.Handler=tr,q.Icon=Y,q.ImageOverlay=wa,q.LatLng=nt,q.LatLngBounds=Cn,q.Layer=Fi,q.LayerGroup=ui,q.LineUtil=Yu,q.Map=ze,q.Marker=Xl,q.Mixin=Oe,q.Path=Wr,q.Point=we,q.PolyUtil=Ct,q.Polygon=qr,q.Polyline=Se,q.Popup=rc,q.PosAnimation=lv,q.Projection=hv,q.Rectangle=ti,q.Renderer=Tr,q.SVG=hn,q.SVGOverlay=ip,q.TileLayer=Ds,q.Tooltip=oc,q.Transformation=ss,q.Util=aa,q.VideoOverlay=np,q.bind=st,q.bounds=Nn,q.canvas=K,q.circle=function nr(a,u,h){return new di(a,u,h)},q.circleMarker=function ec(a,u){return new Ci(a,u)},q.control=zl,q.divIcon=function yv(a){return new sp(a)},q.extend=Fe,q.featureGroup=function(a,u){return new Q(a,u)},q.geoJSON=Xu,q.geoJson=_v,q.gridLayer=function Rn(a){return new Ca(a)},q.icon=function Jl(a){return new Y(a)},q.imageOverlay=function(a,u,h){return new wa(a,u,h)},q.latLng=xe,q.latLngBounds=fe,q.layerGroup=function(a,u){return new ui(a,u)},q.map=function WE(a,u){return new ze(a,u)},q.marker=function gv(a,u){return new Xl(a,u)},q.point=_e,q.polygon=function Ju(a,u){return new qr(a,u)},q.polyline=function tc(a,u){return new Se(a,u)},q.popup=function(a,u){return new rc(a,u)},q.rectangle=function cp(a,u){return new ti(a,u)},q.setOptions=bt,q.stamp=He,q.svg=Oo,q.svgOverlay=function rp(a,u,h){return new ip(a,u,h)},q.tileLayer=ap,q.tooltip=function(a,u){return new oc(a,u)},q.transformation=as,q.version="1.9.4",q.videoOverlay=function Bi(a,u,h){return new np(a,u,h)};var Vi=window.L;q.noConflict=function(){return window.L=Vi,this},window.L=q}(oa)},614:()=>{"use strict";const ts=":";const Io=function(N,...T){if(Io.translate){const B=Io.translate(N,T);N=B[0],T=B[1]}let O=ua(N[0],N.raw[0]);for(let B=1;B<N.length;B++)O+=T[B-1]+ua(N[B],N.raw[B]);return O},Pl=":";function ua(N,T){return T.charAt(0)===Pl?N.substring(function Cn(N,T){for(let O=1,B=1;O<N.length;O++,B++)if("\\"===T[B])B++;else if(N[O]===ts)return O;throw new Error(`Unterminated $localize metadata block in "${T}".`)}(N,T)+1):N}globalThis.$localize=Io}},ts=>{var oa=Ne=>ts(ts.s=Ne);oa(614),oa(171)}]);